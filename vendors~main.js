(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~main"],{

/***/ "./node_modules/excalibur/dist/excalibur.min.js":
/*!******************************************************!*\
  !*** ./node_modules/excalibur/dist/excalibur.min.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*!
 * excalibur - 0.24.3 - 2020-5-10
 * https://github.com/excaliburjs/Excalibur
 * Copyright (c) 2020 Excalibur.js <https://github.com/excaliburjs/Excalibur/graphs/contributors>
 * Licensed BSD-2-Clause
 * @preserve
 */
!function(t,e){ true?module.exports=e():undefined}(window,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=127)}([function(t,e,i){var n=i(5),r=i(48).f,o=i(16),s=i(49),a=i(30),c=i(65),h=i(69);t.exports=function(t,e){var i,u,l,p,d,f=t.target,g=t.global,y=t.stat;if(i=g?n:y?n[f]||a(f,{}):(n[f]||{}).prototype)for(u in e){if(p=e[u],l=t.noTargetGet?(d=r(i,u))&&d.value:i[u],!h(g?u:f+(y?".":"#")+u,t.forced)&&void 0!==l){if(typeof p==typeof l)continue;c(p,l)}(t.sham||l&&l.sham)&&o(p,"sham",!0),s(i,u,p,t)}}},function(t,e,i){var n=i(5),r=i(45),o=i(8),s=i(46),a=i(52),c=i(72),h=r("wks"),u=n.Symbol,l=c?u:u&&u.withoutSetter||s;t.exports=function(t){return o(h,t)||(a&&o(u,t)?h[t]=u[t]:h[t]=l("Symbol."+t)),h[t]}},function(t,e,i){var n=i(11),r=i(4),o=i(8),s=Object.defineProperty,a={},c=function(t){throw t};t.exports=function(t,e){if(o(a,t))return a[t];e||(e={});var i=[][t],h=!!o(e,"ACCESSORS")&&e.ACCESSORS,u=o(e,0)?e[0]:c,l=o(e,1)?e[1]:void 0;return a[t]=!!i&&!r((function(){if(h&&!n)return!0;var t={length:-1};h?s(t,1,{enumerable:!0,get:c}):t[1]=1,i.call(t,u,l)}))}},function(t,e,i){var n=i(15),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||Function("return this")()}).call(this,i(63))},function(t,e,i){var n=i(28);t.exports=function(t){return Object(n(t))}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(11),r=i(43),o=i(17),s=i(31),a=Object.defineProperty;e.f=n?a:function(t,e,i){if(o(t),e=s(e,!0),o(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){"use strict";var n=i(4);t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},function(t,e,i){var n=i(4);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,i){var n=i(1),r=i(53),o=i(9),s=n("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:r(null)}),t.exports=function(t){a[s][t]=!0}},function(t,e,i){var n=i(26),r=i(28);t.exports=function(t){return n(r(t))}},function(t,e,i){var n=i(40),r=i(26),o=i(6),s=i(3),a=i(23),c=[].push,h=function(t){var e=1==t,i=2==t,h=3==t,u=4==t,l=6==t,p=5==t||l;return function(d,f,g,y){for(var _,v,m=o(d),b=r(m),w=n(f,g,3),x=s(b.length),P=0,S=y||a,E=e?S(d,x):i?S(d,0):void 0;x>P;P++)if((p||P in b)&&(v=w(_=b[P],P,m),t))if(e)E[P]=v;else if(v)switch(t){case 3:return!0;case 5:return _;case 6:return P;case 2:c.call(E,_)}else if(u)return!1;return l?-1:h||u?u:E}};t.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(11),r=i(9),o=i(25);t.exports=n?function(t,e,i){return r.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(7);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,i){var n=i(35);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(15),r=Math.max,o=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):o(i,e)}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,i){"use strict";var n=i(31),r=i(9),o=i(25);t.exports=function(t,e,i){var s=n(e);s in t?r.f(t,s,o(0,i)):t[s]=i}},function(t,e,i){var n=i(7),r=i(18),o=i(1)("species");t.exports=function(t,e){var i;return r(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!r(i.prototype)?n(i)&&null===(i=i[o])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},function(t,e,i){var n=i(4),r=i(1),o=i(55),s=r("species");t.exports=function(t){return o>=51||!n((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(4),r=i(35),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},function(t,e,i){var n=i(36),r=i(5),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(r[t]):n[t]&&n[t][e]||r[t]&&r[t][e]}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,i){var n,r,o,s=i(62),a=i(5),c=i(7),h=i(16),u=i(8),l=i(32),p=i(34),d=a.WeakMap;if(s){var f=new d,g=f.get,y=f.has,_=f.set;n=function(t,e){return _.call(f,t,e),e},r=function(t){return g.call(f,t)||{}},o=function(t){return y.call(f,t)}}else{var v=l("state");p[v]=!0,n=function(t,e){return h(t,v,e),e},r=function(t){return u(t,v)?t[v]:{}},o=function(t){return u(t,v)}}t.exports={set:n,get:r,has:o,enforce:function(t){return o(t)?r(t):n(t,{})},getterFor:function(t){return function(e){var i;if(!c(e)||(i=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}}},function(t,e,i){var n=i(5),r=i(16);t.exports=function(t,e){try{r(n,t,e)}catch(i){n[t]=e}return e}},function(t,e,i){var n=i(7);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(45),r=i(46),o=n("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var n=i(5);t.exports=n},function(t,e,i){var n=i(13),r=i(3),o=i(19),s=function(t){return function(e,i,s){var a,c=n(e),h=r(c.length),u=o(s,h);if(t&&i!=i){for(;h>u;)if((a=c[u++])!=a)return!0}else for(;h>u;u++)if((t||u in c)&&c[u]===i)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,i){var n=i(8),r=i(6),o=i(32),s=i(71),a=o("IE_PROTO"),c=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=r(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,i){var n=i(21);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){var n=i(42),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return r.call(t)}),t.exports=n.inspectSource},function(t,e,i){var n=i(5),r=i(30),o=n["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=o},function(t,e,i){var n=i(11),r=i(4),o=i(44);t.exports=!n&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var n=i(5),r=i(7),o=n.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,i){var n=i(33),r=i(42);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+n).toString(36)}},function(t,e,i){"use strict";var n=i(0),r=i(70),o=i(39),s=i(76),a=i(54),c=i(16),h=i(49),u=i(1),l=i(33),p=i(20),d=i(51),f=d.IteratorPrototype,g=d.BUGGY_SAFARI_ITERATORS,y=u("iterator"),_=function(){return this};t.exports=function(t,e,i,u,d,v,m){r(i,e,u);var b,w,x,P=function(t){if(t===d&&O)return O;if(!g&&t in A)return A[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},S=e+" Iterator",E=!1,A=t.prototype,C=A[y]||A["@@iterator"]||d&&A[d],O=!g&&C||P(d),T="Array"==e&&A.entries||C;if(T&&(b=o(T.call(new t)),f!==Object.prototype&&b.next&&(l||o(b)===f||(s?s(b,f):"function"!=typeof b[y]&&c(b,y,_)),a(b,S,!0,!0),l&&(p[S]=_))),"values"==d&&C&&"values"!==C.name&&(E=!0,O=function(){return C.call(this)}),l&&!m||A[y]===O||c(A,y,O),p[e]=O,d)if(w={values:P("values"),keys:v?O:P("keys"),entries:P("entries")},m)for(x in w)!g&&!E&&x in A||h(A,x,w[x]);else n({target:e,proto:!0,forced:g||E},w);return w}},function(t,e,i){var n=i(11),r=i(64),o=i(25),s=i(13),a=i(31),c=i(8),h=i(43),u=Object.getOwnPropertyDescriptor;e.f=n?u:function(t,e){if(t=s(t),e=a(e,!0),h)try{return u(t,e)}catch(t){}if(c(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,i){var n=i(5),r=i(16),o=i(8),s=i(30),a=i(41),c=i(29),h=c.get,u=c.enforce,l=String(String).split("String");(t.exports=function(t,e,i,a){var c=!!a&&!!a.unsafe,h=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||o(i,"name")||r(i,"name",e),u(i).source=l.join("string"==typeof e?e:"")),t!==n?(c?!p&&t[e]&&(h=!0):delete t[e],h?t[e]=i:r(t,e,i)):h?t[e]=i:s(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&h(this).source||a(this)}))},function(t,e,i){var n=i(8),r=i(13),o=i(37).indexOf,s=i(34);t.exports=function(t,e){var i,a=r(t),c=0,h=[];for(i in a)!n(s,i)&&n(a,i)&&h.push(i);for(;e.length>c;)n(a,i=e[c++])&&(~o(h,i)||h.push(i));return h}},function(t,e,i){"use strict";var n,r,o,s=i(39),a=i(16),c=i(8),h=i(1),u=i(33),l=h("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(r=s(s(o)))!==Object.prototype&&(n=r):p=!0),null==n&&(n={}),u||c(n,l)||a(n,l,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},function(t,e,i){var n=i(4);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(t,e,i){var n,r=i(17),o=i(73),s=i(38),a=i(34),c=i(75),h=i(44),u=i(32),l=u("IE_PROTO"),p=function(){},d=function(t){return"<script>"+t+"<\/script>"},f=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;f=n?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=h("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var i=s.length;i--;)delete f.prototype[s[i]];return f()};a[l]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(p.prototype=r(t),i=new p,p.prototype=null,i[l]=t):i=f(),void 0===e?i:o(i,e)}},function(t,e,i){var n=i(9).f,r=i(8),o=i(1)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,i){var n,r,o=i(5),s=i(89),a=o.process,c=a&&a.versions,h=c&&c.v8;h?r=(n=h.split("."))[0]+n[1]:s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(r=n[1]),t.exports=r&&+r},function(t,e,i){"use strict";var n=i(18),r=i(3),o=i(40),s=function(t,e,i,a,c,h,u,l){for(var p,d=c,f=0,g=!!u&&o(u,l,3);f<a;){if(f in i){if(p=g?g(i[f],f,e):i[f],h>0&&n(p))d=s(t,e,p,r(p.length),d,h-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[d]=p}d++}f++}return d};t.exports=s},function(t,e,i){var n=i(21),r=i(6),o=i(26),s=i(3),a=function(t){return function(e,i,a,c){n(i);var h=r(e),u=o(h),l=s(h.length),p=t?l-1:0,d=t?-1:1;if(a<2)for(;;){if(p in u){c=u[p],p+=d;break}if(p+=d,t?p<0:l<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:l>p;p+=d)p in u&&(c=i(c,u[p],p,h));return c}};t.exports={left:a(!1),right:a(!0)}},function(t,e,i){var n=i(125);t.exports="string"==typeof n?n:n.toString()},function(t,e,i){i(60),i(78),i(86),i(87),i(88),i(90),i(92),i(93),i(95),i(96),i(97),i(98),i(99),i(100),i(102),i(103),i(104),i(105),i(106),i(108),i(109),i(110),i(111),i(112),i(113),i(114),i(115),i(117),i(118),i(119);var n=i(36);t.exports=n.Array},function(t,e,i){"use strict";var n=i(61).charAt,r=i(29),o=i(47),s=r.set,a=r.getterFor("String Iterator");o(String,"String",(function(t){s(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=a(this),i=e.string,r=e.index;return r>=i.length?{value:void 0,done:!0}:(t=n(i,r),e.index+=t.length,{value:t,done:!1})}))},function(t,e,i){var n=i(15),r=i(28),o=function(t){return function(e,i){var o,s,a=String(r(e)),c=n(i),h=a.length;return c<0||c>=h?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===h||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,i){var n=i(5),r=i(41),o=n.WeakMap;t.exports="function"==typeof o&&/native code/.test(r(o))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},function(t,e,i){var n=i(8),r=i(66),o=i(48),s=i(9);t.exports=function(t,e){for(var i=r(e),a=s.f,c=o.f,h=0;h<i.length;h++){var u=i[h];n(t,u)||a(t,u,c(e,u))}}},function(t,e,i){var n=i(27),r=i(67),o=i(68),s=i(17);t.exports=n("Reflect","ownKeys")||function(t){var e=r.f(s(t)),i=o.f;return i?e.concat(i(t)):e}},function(t,e,i){var n=i(50),r=i(38).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(4),r=/#|\.prototype\./,o=function(t,e){var i=a[s(t)];return i==h||i!=c&&("function"==typeof e?n(e):!!e)},s=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",h=o.POLYFILL="P";t.exports=o},function(t,e,i){"use strict";var n=i(51).IteratorPrototype,r=i(53),o=i(25),s=i(54),a=i(20),c=function(){return this};t.exports=function(t,e,i){var h=e+" Iterator";return t.prototype=r(n,{next:o(1,i)}),s(t,h,!1,!0),a[h]=c,t}},function(t,e,i){var n=i(4);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,i){var n=i(52);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,i){var n=i(11),r=i(9),o=i(17),s=i(74);t.exports=n?Object.defineProperties:function(t,e){o(t);for(var i,n=s(e),a=n.length,c=0;a>c;)r.f(t,i=n[c++],e[i]);return t}},function(t,e,i){var n=i(50),r=i(38);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){var n=i(27);t.exports=n("document","documentElement")},function(t,e,i){var n=i(17),r=i(77);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,o){return n(i),r(o),e?t.call(i,o):i.__proto__=o,i}}():void 0)},function(t,e,i){var n=i(7);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,i){var n=i(0),r=i(79);n({target:"Array",stat:!0,forced:!i(85)((function(t){Array.from(t)}))},{from:r})},function(t,e,i){"use strict";var n=i(40),r=i(6),o=i(80),s=i(81),a=i(3),c=i(22),h=i(82);t.exports=function(t){var e,i,u,l,p,d,f=r(t),g="function"==typeof this?this:Array,y=arguments.length,_=y>1?arguments[1]:void 0,v=void 0!==_,m=h(f),b=0;if(v&&(_=n(_,y>2?arguments[2]:void 0,2)),null==m||g==Array&&s(m))for(i=new g(e=a(f.length));e>b;b++)d=v?_(f[b],b):f[b],c(i,b,d);else for(p=(l=m.call(f)).next,i=new g;!(u=p.call(l)).done;b++)d=v?o(l,_,[u.value,b],!0):u.value,c(i,b,d);return i.length=b,i}},function(t,e,i){var n=i(17);t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e,i){var n=i(1),r=i(20),o=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||s[o]===t)}},function(t,e,i){var n=i(83),r=i(20),o=i(1)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[n(t)]}},function(t,e,i){var n=i(84),r=i(35),o=i(1)("toStringTag"),s="Arguments"==r(function(){return arguments}());t.exports=n?r:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?i:s?r(e):"Object"==(n=r(e))&&"function"==typeof e.callee?"Arguments":n}},function(t,e,i){var n={};n[i(1)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,e,i){var n=i(1)("iterator"),r=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){r=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var o={};o[n]=function(){return{next:function(){return{done:i=!0}}}},t(o)}catch(t){}return i}},function(t,e,i){i(0)({target:"Array",stat:!0},{isArray:i(18)})},function(t,e,i){"use strict";var n=i(0),r=i(4),o=i(22);n({target:"Array",stat:!0,forced:r((function(){function t(){}return!(Array.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)o(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){"use strict";var n=i(0),r=i(4),o=i(18),s=i(7),a=i(6),c=i(3),h=i(22),u=i(23),l=i(24),p=i(1),d=i(55),f=p("isConcatSpreadable"),g=d>=51||!r((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),y=l("concat"),_=function(t){if(!s(t))return!1;var e=t[f];return void 0!==e?!!e:o(t)};n({target:"Array",proto:!0,forced:!g||!y},{concat:function(t){var e,i,n,r,o,s=a(this),l=u(s,0),p=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?s:arguments[e],_(o)){if(p+(r=c(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<r;i++,p++)i in o&&h(l,p,o[i])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");h(l,p++,o)}return l.length=p,l}})},function(t,e,i){var n=i(27);t.exports=n("navigator","userAgent")||""},function(t,e,i){var n=i(0),r=i(91),o=i(12);n({target:"Array",proto:!0},{copyWithin:r}),o("copyWithin")},function(t,e,i){"use strict";var n=i(6),r=i(19),o=i(3),s=Math.min;t.exports=[].copyWithin||function(t,e){var i=n(this),a=o(i.length),c=r(t,a),h=r(e,a),u=arguments.length>2?arguments[2]:void 0,l=s((void 0===u?a:r(u,a))-h,a-c),p=1;for(h<c&&c<h+l&&(p=-1,h+=l-1,c+=l-1);l-- >0;)h in i?i[c]=i[h]:delete i[c],c+=p,h+=p;return i}},function(t,e,i){"use strict";var n=i(0),r=i(14).every,o=i(10),s=i(2),a=o("every"),c=s("every");n({target:"Array",proto:!0,forced:!a||!c},{every:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(0),r=i(94),o=i(12);n({target:"Array",proto:!0},{fill:r}),o("fill")},function(t,e,i){"use strict";var n=i(6),r=i(19),o=i(3);t.exports=function(t){for(var e=n(this),i=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,i),c=s>2?arguments[2]:void 0,h=void 0===c?i:r(c,i);h>a;)e[a++]=t;return e}},function(t,e,i){"use strict";var n=i(0),r=i(14).filter,o=i(24),s=i(2),a=o("filter"),c=s("filter");n({target:"Array",proto:!0,forced:!a||!c},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){"use strict";var n=i(0),r=i(14).find,o=i(12),s=i(2),a=!0,c=s("find");"find"in[]&&Array(1).find((function(){a=!1})),n({target:"Array",proto:!0,forced:a||!c},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(t,e,i){"use strict";var n=i(0),r=i(14).findIndex,o=i(12),s=i(2),a=!0,c=s("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),n({target:"Array",proto:!0,forced:a||!c},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(t,e,i){"use strict";var n=i(0),r=i(56),o=i(6),s=i(3),a=i(15),c=i(23);n({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),i=s(e.length),n=c(e,0);return n.length=r(n,e,e,i,0,void 0===t?1:a(t)),n}})},function(t,e,i){"use strict";var n=i(0),r=i(56),o=i(6),s=i(3),a=i(21),c=i(23);n({target:"Array",proto:!0},{flatMap:function(t){var e,i=o(this),n=s(i.length);return a(t),(e=c(i,0)).length=r(e,i,i,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,i){"use strict";var n=i(0),r=i(101);n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(t,e,i){"use strict";var n=i(14).forEach,r=i(10),o=i(2),s=r("forEach"),a=o("forEach");t.exports=s&&a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,i){"use strict";var n=i(0),r=i(37).includes,o=i(12);n({target:"Array",proto:!0,forced:!i(2)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,i){"use strict";var n=i(0),r=i(37).indexOf,o=i(10),s=i(2),a=[].indexOf,c=!!a&&1/[1].indexOf(1,-0)<0,h=o("indexOf"),u=s("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!h||!u},{indexOf:function(t){return c?a.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){"use strict";var n=i(13),r=i(12),o=i(20),s=i(29),a=i(47),c=s.set,h=s.getterFor("Array Iterator");t.exports=a(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:n(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,i){"use strict";var n=i(0),r=i(26),o=i(13),s=i(10),a=[].join,c=r!=Object,h=s("join",",");n({target:"Array",proto:!0,forced:c||!h},{join:function(t){return a.call(o(this),void 0===t?",":t)}})},function(t,e,i){var n=i(0),r=i(107);n({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},function(t,e,i){"use strict";var n=i(13),r=i(15),o=i(3),s=i(10),a=i(2),c=Math.min,h=[].lastIndexOf,u=!!h&&1/[1].lastIndexOf(1,-0)<0,l=s("lastIndexOf"),p=a("indexOf",{ACCESSORS:!0,1:0}),d=u||!l||!p;t.exports=d?function(t){if(u)return h.apply(this,arguments)||0;var e=n(this),i=o(e.length),s=i-1;for(arguments.length>1&&(s=c(s,r(arguments[1]))),s<0&&(s=i+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:h},function(t,e,i){"use strict";var n=i(0),r=i(14).map,o=i(24),s=i(2),a=o("map"),c=s("map");n({target:"Array",proto:!0,forced:!a||!c},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){"use strict";var n=i(0),r=i(57).left,o=i(10),s=i(2),a=o("reduce"),c=s("reduce",{1:0});n({target:"Array",proto:!0,forced:!a||!c},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){"use strict";var n=i(0),r=i(57).right,o=i(10),s=i(2),a=o("reduceRight"),c=s("reduce",{1:0});n({target:"Array",proto:!0,forced:!a||!c},{reduceRight:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){"use strict";var n=i(0),r=i(18),o=[].reverse,s=[1,2];n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),o.call(this)}})},function(t,e,i){"use strict";var n=i(0),r=i(7),o=i(18),s=i(19),a=i(3),c=i(13),h=i(22),u=i(1),l=i(24),p=i(2),d=l("slice"),f=p("slice",{ACCESSORS:!0,0:0,1:2}),g=u("species"),y=[].slice,_=Math.max;n({target:"Array",proto:!0,forced:!d||!f},{slice:function(t,e){var i,n,u,l=c(this),p=a(l.length),d=s(t,p),f=s(void 0===e?p:e,p);if(o(l)&&("function"!=typeof(i=l.constructor)||i!==Array&&!o(i.prototype)?r(i)&&null===(i=i[g])&&(i=void 0):i=void 0,i===Array||void 0===i))return y.call(l,d,f);for(n=new(void 0===i?Array:i)(_(f-d,0)),u=0;d<f;d++,u++)d in l&&h(n,u,l[d]);return n.length=u,n}})},function(t,e,i){"use strict";var n=i(0),r=i(14).some,o=i(10),s=i(2),a=o("some"),c=s("some");n({target:"Array",proto:!0,forced:!a||!c},{some:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){"use strict";var n=i(0),r=i(21),o=i(6),s=i(4),a=i(10),c=[],h=c.sort,u=s((function(){c.sort(void 0)})),l=s((function(){c.sort(null)})),p=a("sort");n({target:"Array",proto:!0,forced:u||!l||!p},{sort:function(t){return void 0===t?h.call(o(this)):h.call(o(this),r(t))}})},function(t,e,i){i(116)("Array")},function(t,e,i){"use strict";var n=i(27),r=i(9),o=i(1),s=i(11),a=o("species");t.exports=function(t){var e=n(t),i=r.f;s&&e&&!e[a]&&i(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,i){"use strict";var n=i(0),r=i(19),o=i(15),s=i(3),a=i(6),c=i(23),h=i(22),u=i(24),l=i(2),p=u("splice"),d=l("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,g=Math.min;n({target:"Array",proto:!0,forced:!p||!d},{splice:function(t,e){var i,n,u,l,p,d,y=a(this),_=s(y.length),v=r(t,_),m=arguments.length;if(0===m?i=n=0:1===m?(i=0,n=_-v):(i=m-2,n=g(f(o(e),0),_-v)),_+i-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=c(y,n),l=0;l<n;l++)(p=v+l)in y&&h(u,l,y[p]);if(u.length=n,i<n){for(l=v;l<_-n;l++)d=l+i,(p=l+n)in y?y[d]=y[p]:delete y[d];for(l=_;l>_-n+i;l--)delete y[l-1]}else if(i>n)for(l=_-n;l>v;l--)d=l+i-1,(p=l+n-1)in y?y[d]=y[p]:delete y[d];for(l=0;l<i;l++)y[l+v]=arguments[l+2];return y.length=_-n+i,u}})},function(t,e,i){i(12)("flat")},function(t,e,i){i(12)("flatMap")},function(t,e,i){i(121),i(123),i(124);var n=i(36);t.exports=n.Function},function(t,e,i){i(0)({target:"Function",proto:!0},{bind:i(122)})},function(t,e,i){"use strict";var n=i(21),r=i(7),o=[].slice,s={},a=function(t,e,i){if(!(e in s)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";s[e]=Function("C,a","return new C("+n.join(",")+")")}return s[e](t,i)};t.exports=Function.bind||function(t){var e=n(this),i=o.call(arguments,1),s=function(){var n=i.concat(o.call(arguments));return this instanceof s?a(e,n.length,n):e.apply(t,n)};return r(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,i){var n=i(11),r=i(9).f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/;!n||"name"in o||r(o,"name",{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(t){return""}}})},function(t,e,i){"use strict";var n=i(7),r=i(9),o=i(39),s=i(1)("hasInstance"),a=Function.prototype;s in a||r.f(a,s,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){(e=i(126)(!1)).push([t.i,"/* Buttons styles start */\n\nbutton#excalibur-play {\n  display: inline-block;\n  position: relative;\n  z-index: 999;\n  border-radius: 6px;\n  border: none;\n  /*border: 3px solid;\n    border-color: white;\n    box-shadow: 0 0 10px #ccc;*/\n  padding: 1rem 1.5rem 1rem 4rem;\n  margin: 0;\n  text-decoration: none;\n  background: #00b233;\n  color: #ffffff;\n  font-family: sans-serif;\n  font-size: 2rem;\n  line-height: 1;\n  cursor: pointer;\n  text-align: center;\n  transition: background 250ms ease-in-out, transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  -webkit-animation: excalibur-button-fadein 200ms; /* Safari, Chrome and Opera > 12.1 */\n  -moz-animation: excalibur-button-fadein 200ms; /* Firefox < 16 */\n  -ms-animation: excalibur-button-fadein 200ms; /* Internet Explorer */\n  -o-animation: excalibur-button-fadein 200ms; /* Opera < 12.1 */\n  animation: excalibur-button-fadein 200ms;\n}\n\n/*\nbutton#excalibur-play {\n  display: none;\n}*/\n\nbutton#excalibur-play:after {\n  position: absolute;\n  content: '';\n  border: 8px solid;\n  border-color: transparent transparent transparent white;\n  left: 35px;\n  top: 24px;\n  width: 0;\n  height: 0;\n}\n\nbutton#excalibur-play:before {\n  position: absolute;\n  content: '';\n  border: 3px solid;\n  left: 19px;\n  top: 14px;\n  border-radius: 20px;\n  width: 30px;\n  height: 30px;\n}\n\nbutton#excalibur-play:hover,\nbutton#excalibur-play:focus {\n  background: #00982c;\n}\n\nbutton#excalibur-play:focus {\n  outline: 1px solid #fff;\n  outline-offset: -4px;\n}\n\nbutton#excalibur-play:active {\n  transform: scale(0.99);\n}\n\n@keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Firefox < 16 */\n@-moz-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Internet Explorer */\n@-ms-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Opera < 12.1 */\n@-o-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n",""]),t.exports=e},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var r=(s=n,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),o=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[i].concat(o).concat([r]).join("\n")}var s,a,c;return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,n){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(n)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);n&&r[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),e.push(c))}},e}},function(t,e,i){"use strict";i.r(e),i.d(e,"EX_VERSION",(function(){return br})),i.d(e,"DisplayMode",(function(){return Mn})),i.d(e,"ScrollPreventionMode",(function(){return Dn})),i.d(e,"Engine",(function(){return In})),i.d(e,"Actor",(function(){return ii})),i.d(e,"CollisionType",(function(){return ne})),i.d(e,"Vector",(function(){return V})),i.d(e,"Ray",(function(){return G})),i.d(e,"Line",(function(){return X})),i.d(e,"Projection",(function(){return K})),i.d(e,"GlobalCoordinates",(function(){return Y})),i.d(e,"vec",(function(){return Z})),i.d(e,"StrategyContainer",(function(){return Oi})),i.d(e,"Axis",(function(){return di})),i.d(e,"LockCameraToActorStrategy",(function(){return Bi})),i.d(e,"LockCameraToActorAxisStrategy",(function(){return Ri})),i.d(e,"ElasticToActorStrategy",(function(){return ji})),i.d(e,"RadiusAroundActorStrategy",(function(){return Fi})),i.d(e,"Camera",(function(){return Ii})),i.d(e,"Class",(function(){return Rt})),i.d(e,"Configurable",(function(){return Zt})),i.d(e,"Debug",(function(){return Zi})),i.d(e,"FrameStats",(function(){return Qi})),i.d(e,"PhysicsStats",(function(){return Ji})),i.d(e,"EventDispatcher",(function(){return Bt})),i.d(e,"MediaEvent",(function(){return Hn})),i.d(e,"NativeSoundEvent",(function(){return Wn})),i.d(e,"NativeSoundProcessedEvent",(function(){return Un})),i.d(e,"EventTypes",(function(){return J})),i.d(e,"GameEvent",(function(){return tt})),i.d(e,"KillEvent",(function(){return et})),i.d(e,"PreKillEvent",(function(){return it})),i.d(e,"PostKillEvent",(function(){return nt})),i.d(e,"GameStartEvent",(function(){return rt})),i.d(e,"GameStopEvent",(function(){return ot})),i.d(e,"PreDrawEvent",(function(){return st})),i.d(e,"PostDrawEvent",(function(){return at})),i.d(e,"PreDebugDrawEvent",(function(){return ct})),i.d(e,"PostDebugDrawEvent",(function(){return ht})),i.d(e,"PreUpdateEvent",(function(){return ut})),i.d(e,"PostUpdateEvent",(function(){return lt})),i.d(e,"PreFrameEvent",(function(){return pt})),i.d(e,"PostFrameEvent",(function(){return dt})),i.d(e,"GamepadConnectEvent",(function(){return ft})),i.d(e,"GamepadDisconnectEvent",(function(){return gt})),i.d(e,"GamepadButtonEvent",(function(){return yt})),i.d(e,"GamepadAxisEvent",(function(){return _t})),i.d(e,"SubscribeEvent",(function(){return vt})),i.d(e,"UnsubscribeEvent",(function(){return mt})),i.d(e,"VisibleEvent",(function(){return bt})),i.d(e,"HiddenEvent",(function(){return wt})),i.d(e,"PreCollisionEvent",(function(){return xt})),i.d(e,"PostCollisionEvent",(function(){return Pt})),i.d(e,"CollisionStartEvent",(function(){return St})),i.d(e,"CollisionEndEvent",(function(){return Et})),i.d(e,"InitializeEvent",(function(){return At})),i.d(e,"ActivateEvent",(function(){return Ct})),i.d(e,"DeactivateEvent",(function(){return Ot})),i.d(e,"ExitViewPortEvent",(function(){return Tt})),i.d(e,"EnterViewPortEvent",(function(){return Mt})),i.d(e,"EnterTriggerEvent",(function(){return Dt})),i.d(e,"ExitTriggerEvent",(function(){return kt})),i.d(e,"Label",(function(){return zi})),i.d(e,"FontStyle",(function(){return ki})),i.d(e,"FontUnit",(function(){return Ti})),i.d(e,"TextAlign",(function(){return Mi})),i.d(e,"BaseAlign",(function(){return Di})),i.d(e,"Loader",(function(){return vi})),i.d(e,"Particle",(function(){return qn})),i.d(e,"ParticleEmitter",(function(){return Vn})),i.d(e,"EmitterType",(function(){return Fn})),i.d(e,"CollisionResolutionStrategy",(function(){return Ee})),i.d(e,"BroadphaseStrategy",(function(){return Ae})),i.d(e,"Integrator",(function(){return Ce})),i.d(e,"Physics",(function(){return Te})),i.d(e,"PromiseState",(function(){return u})),i.d(e,"Promise",(function(){return d})),i.d(e,"Scene",(function(){return Gi})),i.d(e,"TileMap",(function(){return hi})),i.d(e,"Cell",(function(){return li})),i.d(e,"TileSprite",(function(){return ui})),i.d(e,"Timer",(function(){return ai})),i.d(e,"Trigger",(function(){return Ui})),i.d(e,"ScreenElement",(function(){return oi})),i.d(e,"UIActor",(function(){return si})),i.d(e,"ActionContext",(function(){return Se})),i.d(e,"RotationType",(function(){return Qt})),i.d(e,"Actions",(function(){return o})),i.d(e,"Internal",(function(){return Gn})),i.d(e,"Body",(function(){return ze})),i.d(e,"isCollider",(function(){return Qe})),i.d(e,"Collider",(function(){return Je})),i.d(e,"BoundingBox",(function(){return Me})),i.d(e,"Circle",(function(){return je})),i.d(e,"CollisionContact",(function(){return De})),i.d(e,"CollisionJumpTable",(function(){return ke})),i.d(e,"ClosestLine",(function(){return Be})),i.d(e,"ClosestLineJumpTable",(function(){return Re})),i.d(e,"CollisionGroup",(function(){return Ye})),i.d(e,"CollisionGroupManager",(function(){return Xn})),i.d(e,"TreeNode",(function(){return wi})),i.d(e,"DynamicTree",(function(){return xi})),i.d(e,"DynamicTreeCollisionBroadphase",(function(){return Pi})),i.d(e,"Edge",(function(){return Fe})),i.d(e,"Pair",(function(){return Ze})),i.d(e,"ConvexPolygon",(function(){return Ie})),i.d(e,"Side",(function(){return p})),i.d(e,"Shape",(function(){return Le})),i.d(e,"Animation",(function(){return Yn})),i.d(e,"Color",(function(){return Lt})),i.d(e,"Polygon",(function(){return Qn})),i.d(e,"Sprite",(function(){return te})),i.d(e,"SpriteSheet",(function(){return $n})),i.d(e,"SpriteFont",(function(){return tr})),i.d(e,"Effects",(function(){return r})),i.d(e,"ExResponse",(function(){return er})),i.d(e,"PerlinGenerator",(function(){return rr})),i.d(e,"PerlinDrawer2D",(function(){return or})),i.d(e,"Random",(function(){return f})),i.d(e,"ColorBlindness",(function(){return qi})),i.d(e,"ColorBlindCorrector",(function(){return Ki})),i.d(e,"Resource",(function(){return Ft})),i.d(e,"Sound",(function(){return dr})),i.d(e,"AudioContextFactory",(function(){return pi})),i.d(e,"AudioInstanceFactory",(function(){return ar})),i.d(e,"AudioInstance",(function(){return cr})),i.d(e,"AudioTagInstance",(function(){return hr})),i.d(e,"WebAudioInstance",(function(){return ur})),i.d(e,"Texture",(function(){return ie})),i.d(e,"Gif",(function(){return gr})),i.d(e,"Stream",(function(){return vr})),i.d(e,"ParseGif",(function(){return mr})),i.d(e,"Events",(function(){return n})),i.d(e,"Input",(function(){return a})),i.d(e,"Traits",(function(){return c})),i.d(e,"Util",(function(){return h})),i.d(e,"BrowserComponent",(function(){return kn})),i.d(e,"BrowserEvents",(function(){return Bn})),i.d(e,"maxMessages",(function(){return z})),i.d(e,"resetObsoleteCounter",(function(){return W})),i.d(e,"obsolete",(function(){return N})),i.d(e,"Detector",(function(){return bi})),i.d(e,"CullingBox",(function(){return We})),i.d(e,"EasingFunctions",(function(){return Pe})),i.d(e,"LogLevel",(function(){return D})),i.d(e,"Logger",(function(){return R})),i.d(e,"ConsoleAppender",(function(){return j})),i.d(e,"ScreenAppender",(function(){return F})),i.d(e,"SortedList",(function(){return Si})),i.d(e,"BinaryTreeNode",(function(){return Ei})),i.d(e,"MockedElement",(function(){return Ai}));var n={};i.r(n),i.d(n,"EventTypes",(function(){return J})),i.d(n,"GameEvent",(function(){return tt})),i.d(n,"KillEvent",(function(){return et})),i.d(n,"PreKillEvent",(function(){return it})),i.d(n,"PostKillEvent",(function(){return nt})),i.d(n,"GameStartEvent",(function(){return rt})),i.d(n,"GameStopEvent",(function(){return ot})),i.d(n,"PreDrawEvent",(function(){return st})),i.d(n,"PostDrawEvent",(function(){return at})),i.d(n,"PreDebugDrawEvent",(function(){return ct})),i.d(n,"PostDebugDrawEvent",(function(){return ht})),i.d(n,"PreUpdateEvent",(function(){return ut})),i.d(n,"PostUpdateEvent",(function(){return lt})),i.d(n,"PreFrameEvent",(function(){return pt})),i.d(n,"PostFrameEvent",(function(){return dt})),i.d(n,"GamepadConnectEvent",(function(){return ft})),i.d(n,"GamepadDisconnectEvent",(function(){return gt})),i.d(n,"GamepadButtonEvent",(function(){return yt})),i.d(n,"GamepadAxisEvent",(function(){return _t})),i.d(n,"SubscribeEvent",(function(){return vt})),i.d(n,"UnsubscribeEvent",(function(){return mt})),i.d(n,"VisibleEvent",(function(){return bt})),i.d(n,"HiddenEvent",(function(){return wt})),i.d(n,"PreCollisionEvent",(function(){return xt})),i.d(n,"PostCollisionEvent",(function(){return Pt})),i.d(n,"CollisionStartEvent",(function(){return St})),i.d(n,"CollisionEndEvent",(function(){return Et})),i.d(n,"InitializeEvent",(function(){return At})),i.d(n,"ActivateEvent",(function(){return Ct})),i.d(n,"DeactivateEvent",(function(){return Ot})),i.d(n,"ExitViewPortEvent",(function(){return Tt})),i.d(n,"EnterViewPortEvent",(function(){return Mt})),i.d(n,"EnterTriggerEvent",(function(){return Dt})),i.d(n,"ExitTriggerEvent",(function(){return kt}));var r={};i.r(r),i.d(r,"Grayscale",(function(){return Ht})),i.d(r,"Invert",(function(){return Wt})),i.d(r,"Opacity",(function(){return Ut})),i.d(r,"Colorize",(function(){return Nt})),i.d(r,"Lighten",(function(){return qt})),i.d(r,"Darken",(function(){return Vt})),i.d(r,"Saturate",(function(){return Gt})),i.d(r,"Desaturate",(function(){return Xt})),i.d(r,"Fill",(function(){return Kt}));var o={};i.r(o),i.d(o,"EaseTo",(function(){return oe})),i.d(o,"MoveTo",(function(){return se})),i.d(o,"MoveBy",(function(){return ae})),i.d(o,"Follow",(function(){return ce})),i.d(o,"Meet",(function(){return he})),i.d(o,"RotateTo",(function(){return ue})),i.d(o,"RotateBy",(function(){return le})),i.d(o,"ScaleTo",(function(){return pe})),i.d(o,"ScaleBy",(function(){return de})),i.d(o,"Delay",(function(){return fe})),i.d(o,"Blink",(function(){return ge})),i.d(o,"Fade",(function(){return ye})),i.d(o,"Die",(function(){return _e})),i.d(o,"CallMethod",(function(){return ve})),i.d(o,"Repeat",(function(){return me})),i.d(o,"RepeatForever",(function(){return be})),i.d(o,"ActionQueue",(function(){return we}));var s={};i.r(s),i.d(s,"line",(function(){return qe})),i.d(s,"point",(function(){return Ve})),i.d(s,"vector",(function(){return Ge})),i.d(s,"roundRect",(function(){return Xe})),i.d(s,"circle",(function(){return Ke}));var a={};i.r(a),i.d(a,"Gamepads",(function(){return On})),i.d(a,"Gamepad",(function(){return Tn})),i.d(a,"Buttons",(function(){return Pn})),i.d(a,"Axes",(function(){return Sn})),i.d(a,"PointerType",(function(){return tn})),i.d(a,"PointerScope",(function(){return en})),i.d(a,"Pointer",(function(){return un})),i.d(a,"Pointers",(function(){return An})),i.d(a,"NativePointerButton",(function(){return an})),i.d(a,"PointerButton",(function(){return cn})),i.d(a,"WheelDeltaMode",(function(){return hn})),i.d(a,"PointerEvent",(function(){return pn})),i.d(a,"PointerEventFactory",(function(){return dn})),i.d(a,"PointerDragEvent",(function(){return fn})),i.d(a,"PointerUpEvent",(function(){return gn})),i.d(a,"PointerDownEvent",(function(){return yn})),i.d(a,"PointerMoveEvent",(function(){return _n})),i.d(a,"PointerEnterEvent",(function(){return vn})),i.d(a,"PointerLeaveEvent",(function(){return mn})),i.d(a,"PointerCancelEvent",(function(){return bn})),i.d(a,"WheelEvent",(function(){return wn})),i.d(a,"createPointerEventByName",(function(){return xn})),i.d(a,"Keys",(function(){return Xi})),i.d(a,"KeyEvent",(function(){return nn})),i.d(a,"Keyboard",(function(){return rn}));var c={};i.r(c),i.d(c,"CapturePointer",(function(){return Ne})),i.d(c,"OffscreenCulling",(function(){return Ue})),i.d(c,"TileMapCollisionDetection",(function(){return He}));var h={};i.r(h),i.d(h,"TwoPI",(function(){return g})),i.d(h,"extend",(function(){return y})),i.d(h,"base64Encode",(function(){return _})),i.d(h,"nullish",(function(){return v})),i.d(h,"clamp",(function(){return m})),i.d(h,"randomInRange",(function(){return b})),i.d(h,"randomIntInRange",(function(){return w})),i.d(h,"canonicalizeAngle",(function(){return x})),i.d(h,"toDegrees",(function(){return P})),i.d(h,"toRadians",(function(){return S})),i.d(h,"getPosition",(function(){return E})),i.d(h,"addItemToArray",(function(){return A})),i.d(h,"removeItemFromArray",(function(){return C})),i.d(h,"contains",(function(){return O})),i.d(h,"getOppositeSide",(function(){return T})),i.d(h,"getSideFromDirection",(function(){return M})),i.d(h,"Collection",(function(){return k})),i.d(h,"fail",(function(){return B})),i.d(h,"DrawUtil",(function(){return s}));var u;i(59),i(120);function l(){"undefined"==typeof window&&(window={audioContext:function(){}}),"undefined"==typeof window||window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setInterval(t,1e3/60)}),"undefined"==typeof window||window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(){}),"undefined"==typeof window||window.AudioContext||(window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext||window.oAudioContext),"undefined"==typeof window||window.devicePixelRatio||(window.devicePixelRatio=window.devicePixelRatio||1)}!function(t){t[t.Resolved=0]="Resolved",t[t.Rejected=1]="Rejected",t[t.Pending=2]="Pending"}(u||(u={}));var p,d=function(){function t(){this._state=u.Pending,this._successCallbacks=[],this._rejectCallback=function(){}}return t.resolve=function(e){return(new t).resolve(e)},t.reject=function(e){return(new t).reject(e)},t.join=function(){var e=[];if(arguments.length>0&&!Array.isArray(arguments[0]))for(var i=0;i<arguments.length;i++)e[i-0]=arguments[i];else 1===arguments.length&&Array.isArray(arguments[0])&&(e=arguments[0]);var n=new t;if(!e||!e.length)return n.resolve();var r=e.length,o=0,s=0,a=[];return e.forEach((function(t){t.then((function(){(o+=1)===r?n.resolve():o+s+a.length===r&&n.reject(a)}),(function(){o+(s+=1)+a.length===r&&n.reject(a)})).error((function(t){a.push(t),a.length+o+s===r&&n.reject(a)}))})),n},t.prototype.then=function(t,e){if(t&&(this._successCallbacks.push(t),this.state()===u.Resolved))try{t.call(this,this._value)}catch(t){this._handleError(t)}if(e&&(this._rejectCallback=e,this.state()===u.Rejected))try{e.call(this,this._value)}catch(t){this._handleError(t)}return this},t.prototype.error=function(t){return t&&(this._errorCallback=t),this},t.prototype.resolve=function(t){var e=this;if(this._state!==u.Pending)throw new Error("Cannot resolve a promise that is not in a pending state!");this._value=t;try{this._state=u.Resolved,this._successCallbacks.forEach((function(t){t.call(e,e._value)}))}catch(t){this._handleError(t)}return this},t.prototype.reject=function(t){if(this._state!==u.Pending)throw new Error("Cannot reject a promise that is not in a pending state!");this._value=t;try{this._state=u.Rejected,this._rejectCallback.call(this,this._value)}catch(t){this._handleError(t)}return this},t.prototype.state=function(){return this._state},t.prototype._handleError=function(t){if(!this._errorCallback)throw t;this._errorCallback.call(this,t)},t}(),f=function(){function t(t){this.seed=t,this._lowerMask=2147483647,this._upperMask=2147483648,this._w=32,this._n=624,this._m=397,this._a=2567483615,this._u=11,this._s=7,this._b=2636928640,this._t=15,this._c=4022730752,this._l=18,this._f=1812433253,this._mt=new Array(this._n),this._mt[0]=(t||Date.now())>>>0;for(var e=1;e<this._n;e++){var i=this._mt[e-1]^this._mt[e-1]>>>this._w-2;this._mt[e]=(this._f*((4294901760&i)>>>16)<<16)+this._f*(65535&i)+e>>>0}this._index=this._n}return t.prototype._twist=function(){for(var t=[0,this._a],e=0,i=0;i<this._n-this._m;i++)e=this._mt[i]&this._upperMask|this._mt[i+1]&this._lowerMask,this._mt[i]=this._mt[i+this._m]^e>>>1^4294967295&t[1&e];for(;i<this._n-1;i++)e=this._mt[i]&this._upperMask|this._mt[i+1]&this._lowerMask,this._mt[i]=this._mt[i+(this._m-this._n)]^e>>>1^4294967295&t[1&e];e=this._mt[this._n-1]&this._upperMask|this._mt[0]&this._lowerMask,this._mt[this._n-1]=this._mt[this._m-1]^e>>>1^4294967295&t[1&e],this._index=0},t.prototype.nextInt=function(){this._index>=this._n&&this._twist();var t=this._mt[this._index++];return t^=t>>>this._u,t^=t<<this._s&this._b,t^=t<<this._t&this._c,(t^=t>>>this._l)>>>0},t.prototype.next=function(){return this.nextInt()*(1/4294967296)},t.prototype.floating=function(t,e){return(e-t)*this.next()+t},t.prototype.integer=function(t,e){return Math.floor((e-t+1)*this.next()+t)},t.prototype.bool=function(t){return void 0===t&&(t=.5),this.next()<=t},t.prototype.pickOne=function(t){return t[this.integer(0,t.length-1)]},t.prototype.pickSet=function(t,e,i){return void 0===i&&(i=!1),i?this._pickSetWithDuplicates(t,e):this._pickSetWithoutDuplicates(t,e)},t.prototype._pickSetWithoutDuplicates=function(t,e){if(e>t.length||e<0)throw new Error("Invalid number of elements to pick, must pick a value 0 < n <= length");if(e===t.length)return t;for(var i=new Array(e),n=0,r=t.slice(0);n<e;){var o=this.integer(0,r.length-1);i[n++]=r[o],r.splice(o,1)}return i},t.prototype._pickSetWithDuplicates=function(t,e){if(e<0)throw new Error("Invalid number of elements to pick, must pick a value 0 <= n < MAX_INT");for(var i=new Array(e),n=0;n<e;n++)i[n]=this.pickOne(t);return i},t.prototype.shuffle=function(t){for(var e=t.slice(0),i=null,n=0;n<e.length-2;n++){var r=this.integer(n,e.length-1);i=e[n],e[n]=e[r],e[r]=i}return e},t.prototype.range=function(t,e,i){for(var n=new Array(t),r=0;r<t;r++)n[r]=this.integer(e,i);return n},t.prototype.d4=function(){return this.integer(1,4)},t.prototype.d6=function(){return this.integer(1,6)},t.prototype.d8=function(){return this.integer(1,8)},t.prototype.d10=function(){return this.integer(1,10)},t.prototype.d12=function(){return this.integer(1,12)},t.prototype.d20=function(){return this.integer(1,20)},t}();!function(t){t.None="None",t.Top="Top",t.Bottom="Bottom",t.Left="Left",t.Right="Right"}(p||(p={}));var g=2*Math.PI;function y(){var t={},e=!1,i=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],i++);var r="function"==typeof Object.assign,o=null;for(o=r?Object.assign:function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e&&"[object Object]"===Object.prototype.toString.call(i[n])?t[n]=y(!0,t[n],i[n]):t[n]=i[n])};i<n;i++){var s=arguments[i];r?o(t,s):o(s)}return t}function _(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="",n=0;n<t.length;){var r=255&t.charCodeAt(n++),o=255&t.charCodeAt(n++),s=255&t.charCodeAt(n++),a=r>>2,c=(3&r)<<4|o>>4,h=void 0,u=void 0;isNaN(o)?h=u=64:(h=(15&o)<<2|s>>6,u=isNaN(s)?64:63&s),i+=e.charAt(a)+e.charAt(c)+e.charAt(h)+e.charAt(u)}return i}function v(t,e){return null!=t?t:e}function m(t,e,i){return Math.min(Math.max(e,t),i)}function b(t,e,i){return void 0===i&&(i=new f),i?i.floating(t,e):t+Math.random()*(e-t)}function w(t,e,i){return void 0===i&&(i=new f),i?i.integer(t,e):Math.round(b(t,e))}function x(t){var e=t;if(t>g)for(;e>g;)e-=g;if(t<0)for(;e<0;)e+=g;return e}function P(t){return 180/Math.PI*t}function S(t){return t/180*Math.PI}function E(t){var e=0,i=0,n=function(t){e+=t.offsetLeft,t.offsetParent&&n(t.offsetParent)},r=function(t){i+=t.offsetTop,t.offsetParent&&r(t.offsetParent)};return n(t),r(t),new V(e,i)}function A(t,e){return-1===e.indexOf(t)&&(e.push(t),!0)}function C(t,e){var i;return(i=e.indexOf(t))>-1&&(e.splice(i,1),!0)}function O(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return!0;return!1}function T(t){return t===p.Top?p.Bottom:t===p.Bottom?p.Top:t===p.Left?p.Right:t===p.Right?p.Left:p.None}function M(t){for(var e=[V.Left,V.Right,V.Up,V.Down],i=[p.Left,p.Right,p.Top,p.Bottom],n=-Number.MAX_VALUE,r=-1,o=0;o<e.length;o++)e[o].dot(t)>n&&(n=e[o].dot(t),r=o);return i[r]}var D,k=function(){function t(e){void 0===e&&(e=t.DefaultSize),this._internalArray=null,this._endPointer=0,this._internalArray=new Array(e)}return t.prototype._resize=function(){for(var t=2*this._internalArray.length,e=new Array(t),i=this.count(),n=0;n<i;n++)e[n]=this._internalArray[n];delete this._internalArray,this._internalArray=e},t.prototype.push=function(t){return this._endPointer===this._internalArray.length&&this._resize(),this._internalArray[this._endPointer++]=t},t.prototype.pop=function(){return this._endPointer=this._endPointer-1<0?0:this._endPointer-1,this._internalArray[this._endPointer]},t.prototype.count=function(){return this._endPointer},t.prototype.clear=function(){this._endPointer=0},t.prototype.internalSize=function(){return this._internalArray.length},t.prototype.elementAt=function(t){if(t>=this.count())throw new Error("Invalid index "+t);return this._internalArray[t]},t.prototype.insert=function(t,e){return t>=this.count()&&this._resize(),this._internalArray[t]=e},t.prototype.remove=function(t){var e=this.count();if(0===e)throw new Error("Invalid parameter "+t);for(var i=this._internalArray[t],n=t;n<e;n++)this._internalArray[n]=this._internalArray[n+1];return this._endPointer--,i},t.prototype.removeElement=function(t){var e=this._internalArray.indexOf(t);this.remove(e)},t.prototype.toArray=function(){return this._internalArray.slice(0,this._endPointer)},t.prototype.forEach=function(t){for(var e=0,i=this.count();e<i;e++)t.call(this,this._internalArray[e],e)},t.prototype.map=function(t){for(var e=this.count(),i=0;i<e;i++)this._internalArray[i]=t.call(this,this._internalArray[i],i)},t.DefaultSize=200,t}();function B(t){throw new Error(t)}!function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Fatal=4]="Fatal"}(D||(D={}));var R=function(){function t(){if(this._appenders=[],this.defaultLevel=D.Info,t._instance)throw new Error("Logger is a singleton");return t._instance=this,t._instance.addAppender(new j),t._instance}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.addAppender=function(t){this._appenders.push(t)},t.prototype.clearAppenders=function(){this._appenders.length=0},t.prototype._log=function(t,e){null==t&&(t=this.defaultLevel);for(var i=this._appenders.length,n=0;n<i;n++)t>=this.defaultLevel&&this._appenders[n].log(t,e)},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(D.Debug,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(D.Info,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(D.Warn,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(D.Error,t)},t.prototype.fatal=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(D.Fatal,t)},t._instance=null,t}(),j=function(){function t(){}return t.prototype.log=function(t,e){if(console||console.log||!console.warn||!console.error){var i=[];i.unshift.apply(i,e),i.unshift("["+D[t]+"] : "),t<D.Warn?console.log.apply?console.log.apply(console,i):console.log(i.join(" ")):t<D.Error?console.warn.apply?console.warn.apply(console,i):console.warn(i.join(" ")):console.error.apply?console.error.apply(console,i):console.error(i.join(" "))}},t}(),F=function(){function t(t,e){this._messages=[],this._canvas=document.createElement("canvas"),this._canvas.width=t||window.innerWidth,this._canvas.height=e||window.innerHeight,this._canvas.style.position="absolute",this._ctx=this._canvas.getContext("2d"),document.body.appendChild(this._canvas)}return t.prototype.log=function(t,e){var i=e.join(",");this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._messages.unshift("["+D[t]+"] : "+i);for(var n=10,r=1,o=0;o<this._messages.length;o++)this._ctx.fillStyle="rgba(255,255,255,"+r.toFixed(2)+")",this._ctx.fillText(this._messages[o],200,n),n+=10,r=r>0?r-.05:0},t}(),I=function(){return(I=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},L=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n},z=5,H={},W=function(){for(var t in H)H[t]=0},U=function(t,e){H[t]<z&&(R.getInstance().warn(t),console.trace&&e.showStackTrace&&console.trace()),H[t]++};function N(t){return t=y({},{message:"This feature will be removed in future versions of Excalibur.",alternateMethod:null,showStackTrack:!1},t),function(e,i,n){if(n&&"function"!=typeof n.value&&"function"!=typeof n.get&&"function"!=typeof n.set)throw new SyntaxError("Only classes/functions/getters/setters can be marked as obsolete");var r=(e.name||"")+(e.name&&i?".":"")+(i||"")+" is marked obsolete: "+t.message+(t.alternateMethod?" Use "+t.alternateMethod+" instead":"");H[r]||(H[r]=0);var o=n?I({},n):e;if(!n){var s=function(){var e=Array.prototype.slice.call(arguments);return U(r,t),new(o.bind.apply(o,L([void 0],e)))};return s.prototype=o.prototype,s}return n&&n.value?(o.value=function(){return U(r,t),n.value.apply(this,arguments)},o):(n&&n.get&&(o.get=function(){return U(r,t),n.get.apply(this,arguments)}),n&&n.set&&(o.set=function(){return U(r,t),n.set.apply(this,arguments)}),o)}}var q=function(t,e,i,n){var r,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,i,s):r(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s},V=function(){function t(t,e){this.x=t,this.y=e}return Object.defineProperty(t,"Zero",{get:function(){return new t(0,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"One",{get:function(){return new t(1,1)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Half",{get:function(){return new t(.5,.5)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Up",{get:function(){return new t(0,-1)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Down",{get:function(){return new t(0,1)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Left",{get:function(){return new t(-1,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Right",{get:function(){return new t(1,0)},enumerable:!0,configurable:!0}),t.fromAngle=function(e){return new t(Math.cos(e),Math.sin(e))},t.isValid=function(t){return null!=t&&(!isNaN(t.x)&&!isNaN(t.y)&&(t.x!==1/0&&t.y!==1/0&&t.x!==-1/0&&t.y!==-1/0))},t.distance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.prototype.setTo=function(t,e){this.x=t,this.y=e},t.prototype.equals=function(t,e){return void 0===e&&(e=.001),Math.abs(this.x-t.x)<=e&&Math.abs(this.y-t.y)<=e},t.prototype.distance=function(e){return e||(e=t.Zero),Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},t.prototype.magnitude=function(){return this.distance()},Object.defineProperty(t.prototype,"size",{get:function(){return this.distance()},set:function(t){var e=this.normalize().scale(t);this.x=e.x,this.y=e.y},enumerable:!0,configurable:!0}),t.prototype.normalize=function(){var e=this.distance();return e>0?new t(this.x/e,this.y/e):new t(0,1)},t.prototype.average=function(t){return this.add(t).scale(.5)},t.prototype.scale=function(e){return e instanceof t?new t(this.x*e.x,this.y*e.y):new t(this.x*e,this.y*e)},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.sub=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.addEqual=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.subEqual=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.scaleEqual=function(t){return this.x*=t,this.y*=t,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(e){return e instanceof t?this.x*e.y-this.y*e.x:"number"==typeof e?new t(e*this.y,-e*this.x):void 0},t.prototype.perpendicular=function(){return new t(this.y,-this.x)},t.prototype.normal=function(){return this.perpendicular().normalize()},t.prototype.negate=function(){return this.scale(-1)},t.prototype.toAngle=function(){return Math.atan2(this.y,this.x)},t.prototype.rotate=function(e,i){i||(i=new t(0,0));var n=Math.sin(e),r=Math.cos(e);return new t(r*(this.x-i.x)-n*(this.y-i.y)+i.x,n*(this.x-i.x)+r*(this.y-i.y)+i.y)},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.toString=function(){return"("+this.x+", "+this.y+")"},q([N({message:"will be removed in favour of `.size` in version 0.25.0"})],t.prototype,"magnitude",null),t}(),G=function(){function t(t,e){this.pos=t,this.dir=e.normalize()}return t.prototype.intersect=function(t){var e=t.begin.sub(this.pos);if(0===this.dir.cross(t.getSlope())&&0!==e.cross(this.dir))return-1;var i=this.dir.cross(t.getSlope());if(0===i)return-1;var n=e.cross(t.getSlope())/i;if(n>=0){var r=e.cross(this.dir)/i/t.getLength();if(r>=0&&r<=1)return n}return-1},t.prototype.getPoint=function(t){return this.pos.add(this.dir.scale(t))},t}(),X=function(){function t(t,e){this.begin=t,this.end=e}return Object.defineProperty(t.prototype,"slope",{get:function(){return(this.end.y-this.begin.y)/(this.end.x-this.begin.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intercept",{get:function(){return this.begin.y-this.slope*this.begin.x},enumerable:!0,configurable:!0}),t.prototype.normal=function(){return this.end.sub(this.begin).normal()},t.prototype.getSlope=function(){var t=this.begin,e=this.end,i=t.distance(e);return e.sub(t).scale(1/i)},t.prototype.getEdge=function(){var t=this.begin;return this.end.sub(t)},t.prototype.getLength=function(){var t=this.begin,e=this.end;return t.distance(e)},Object.defineProperty(t.prototype,"midpoint",{get:function(){return this.begin.add(this.end).scale(.5)},enumerable:!0,configurable:!0}),t.prototype.flip=function(){return new t(this.end,this.begin)},t.prototype.distanceToPoint=function(t){var e=t.x,i=t.y,n=this.getLength(),r=this.end.y-this.begin.y,o=this.end.x-this.begin.x;return Math.abs(r*e-o*i+this.end.x*this.begin.y-this.end.y*this.begin.x)/n},t.prototype.findVectorToPoint=function(t){var e=this.begin.sub(t),i=this.getSlope();return e.sub(i.scale(e.dot(i)))},t.prototype.findPoint=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=this.slope,n=this.intercept;if(null!==t)return new V(t,i*t+n);if(null!==e)return new V((e-n)/i,e);throw new Error("You must provide an X or a Y value")},t.prototype.hasPoint=function(){var t,e=0;if("number"==typeof arguments[0]&&"number"==typeof arguments[1])t=new V(arguments[0],arguments[1]),e=arguments[2]||0;else{if(!(arguments[0]instanceof V))throw"Could not determine the arguments for Vector.hasPoint";t=arguments[0],e=arguments[1]||0}var i=t.x-this.begin.x,n=t.y-this.begin.y,r=this.end.x-this.begin.x,o=this.end.y-this.begin.y,s=i*o-n*r;return!(Math.abs(s)>e)&&(Math.abs(r)>=Math.abs(o)?r>0?this.begin.x<=t.x&&t.x<=this.end.x:this.end.x<=t.x&&t.x<=this.begin.x:o>0?this.begin.y<=t.y&&t.y<=this.end.y:this.end.y<=t.y&&t.y<=this.begin.y)},t}(),K=function(){function t(t,e){this.min=t,this.max=e}return t.prototype.overlaps=function(t){return this.max>t.min&&t.max>this.min},t.prototype.getOverlap=function(t){return this.overlaps(t)?this.max>t.max?t.max-this.min:this.max-t.min:0},t}(),Y=function(){function t(t,e,i){this.worldPos=t,this.pagePos=e,this.screenPos=i}return t.fromPagePosition=function(e,i,n){var r,o,s,a;3===arguments.length?(s=new V(r=e,o=i),a=n):(r=(s=e).x,o=s.y,a=i);var c=r-E(a.canvas).x,h=o-E(a.canvas).y,u=new V(c,h),l=a.screenToWorldCoordinates(u);return new t(l,s,u)},t}();function Z(t,e){return new V(t,e)}var Q,J,$=(Q=function(t,e){return(Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Q(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});!function(t){t.Kill="kill",t.PreKill="prekill",t.PostKill="postkill",t.PreDraw="predraw",t.PostDraw="postdraw",t.PreDebugDraw="predebugdraw",t.PostDebugDraw="postdebugdraw",t.PreUpdate="preupdate",t.PostUpdate="postupdate",t.PreFrame="preframe",t.PostFrame="postframe",t.PreCollision="precollision",t.CollisionStart="collisionstart",t.CollisionEnd="collisionend",t.PostCollision="postcollision",t.Initialize="initialize",t.Activate="activate",t.Deactivate="deactivate",t.ExitViewport="exitviewport",t.EnterViewport="enterviewport",t.ExitTrigger="exit",t.EnterTrigger="enter",t.Connect="connect",t.Disconnect="disconnect",t.Button="button",t.Axis="axis",t.Subscribe="subscribe",t.Unsubscribe="unsubscribe",t.Visible="visible",t.Hidden="hidden",t.Start="start",t.Stop="stop",t.PointerUp="pointerup",t.PointerDown="pointerdown",t.PointerMove="pointermove",t.PointerEnter="pointerenter",t.PointerLeave="pointerleave",t.PointerCancel="pointercancel",t.PointerWheel="pointerwheel",t.Up="up",t.Down="down",t.Move="move",t.Enter="enter",t.Leave="leave",t.Cancel="cancel",t.Wheel="wheel",t.Press="press",t.Release="release",t.Hold="hold",t.PointerDragStart="pointerdragstart",t.PointerDragEnd="pointerdragend",t.PointerDragEnter="pointerdragenter",t.PointerDragLeave="pointerdragleave",t.PointerDragMove="pointerdragmove"}(J||(J={}));var tt=function(){function t(){this.bubbles=!0}return t.prototype.stopPropagation=function(){this.bubbles=!1},t}(),et=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return $(e,t),e}(tt),it=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return $(e,t),e}(tt),nt=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return $(e,t),e}(tt),rt=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return $(e,t),e}(tt),ot=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return $(e,t),e}(tt),st=function(t){function e(e,i,n){var r=t.call(this)||this;return r.ctx=e,r.delta=i,r.target=n,r}return $(e,t),e}(tt),at=function(t){function e(e,i,n){var r=t.call(this)||this;return r.ctx=e,r.delta=i,r.target=n,r}return $(e,t),e}(tt),ct=function(t){function e(e,i){var n=t.call(this)||this;return n.ctx=e,n.target=i,n}return $(e,t),e}(tt),ht=function(t){function e(e,i){var n=t.call(this)||this;return n.ctx=e,n.target=i,n}return $(e,t),e}(tt),ut=function(t){function e(e,i,n){var r=t.call(this)||this;return r.engine=e,r.delta=i,r.target=n,r}return $(e,t),e}(tt),lt=function(t){function e(e,i,n){var r=t.call(this)||this;return r.engine=e,r.delta=i,r.target=n,r}return $(e,t),e}(tt),pt=function(t){function e(e,i){var n=t.call(this)||this;return n.engine=e,n.prevStats=i,n.target=e,n}return $(e,t),e}(tt),dt=function(t){function e(e,i){var n=t.call(this)||this;return n.engine=e,n.stats=i,n.target=e,n}return $(e,t),e}(tt),ft=function(t){function e(e,i){var n=t.call(this)||this;return n.index=e,n.gamepad=i,n.target=i,n}return $(e,t),e}(tt),gt=function(t){function e(e,i){var n=t.call(this)||this;return n.index=e,n.gamepad=i,n.target=i,n}return $(e,t),e}(tt),yt=function(t){function e(e,i,n){var r=t.call(this)||this;return r.button=e,r.value=i,r.target=n,r}return $(e,t),e}(tt),_t=function(t){function e(e,i,n){var r=t.call(this)||this;return r.axis=e,r.value=i,r.target=n,r}return $(e,t),e}(tt),vt=function(t){function e(e,i){var n=t.call(this)||this;return n.topic=e,n.handler=i,n}return $(e,t),e}(tt),mt=function(t){function e(e,i){var n=t.call(this)||this;return n.topic=e,n.handler=i,n}return $(e,t),e}(tt),bt=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return $(e,t),e}(tt),wt=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return $(e,t),e}(tt),xt=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o.other=i,o.side=n,o.intersection=r,o.target=e,o}return $(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!0,configurable:!0}),e}(tt),Pt=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o.other=i,o.side=n,o.intersection=r,o.target=e,o}return $(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!0,configurable:!0}),e}(tt),St=function(t){function e(e,i,n){var r=t.call(this)||this;return r.other=i,r.pair=n,r.target=e,r}return $(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!0,configurable:!0}),e}(tt),Et=function(t){function e(e,i){var n=t.call(this)||this;return n.other=i,n.target=e,n}return $(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!0,configurable:!0}),e}(tt),At=function(t){function e(e,i){var n=t.call(this)||this;return n.engine=e,n.target=i,n}return $(e,t),e}(tt),Ct=function(t){function e(e,i){var n=t.call(this)||this;return n.oldScene=e,n.target=i,n}return $(e,t),e}(tt),Ot=function(t){function e(e,i){var n=t.call(this)||this;return n.newScene=e,n.target=i,n}return $(e,t),e}(tt),Tt=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return $(e,t),e}(tt),Mt=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return $(e,t),e}(tt),Dt=function(t){function e(e,i){var n=t.call(this)||this;return n.target=e,n.actor=i,n}return $(e,t),e}(tt),kt=function(t){function e(e,i){var n=t.call(this)||this;return n.target=e,n.actor=i,n}return $(e,t),e}(tt),Bt=function(){function t(t){this._handlers={},this._wiredEventDispatchers=[],this._target=t}return t.prototype.clear=function(){this._handlers={},this._wiredEventDispatchers=[]},t.prototype.emit=function(t,e){if(t){t=t.toLowerCase();var i,n,r=this._target;if(e||(e=new tt),e.target=r,this._handlers[t])for(i=0,n=this._handlers[t].length;i<n;i++)this._handlers[t][i].call(r,e);for(i=0,n=this._wiredEventDispatchers.length;i<n;i++)this._wiredEventDispatchers[i].emit(t,e)}},t.prototype.on=function(t,e){t=t.toLowerCase(),this._handlers[t]||(this._handlers[t]=[]),this._handlers[t].push(e),"unsubscribe"!==t&&"subscribe"!==t&&this.emit("subscribe",new vt(t,e))},t.prototype.off=function(t,e){t=t.toLowerCase();var i=this._handlers[t];if(i)if(e){var n=i.indexOf(e);this._handlers[t].splice(n,1)}else this._handlers[t].length=0;"unsubscribe"!==t&&"subscribe"!==t&&this.emit("unsubscribe",new mt(t,e))},t.prototype.once=function(t,e){var i=this;this.on(t,(function(n){var r=n||new tt;r.target=r.target||i._target,i.off(t,e),e.call(r.target,r)}))},t.prototype.wire=function(t){t._wiredEventDispatchers.push(this)},t.prototype.unwire=function(t){var e=t._wiredEventDispatchers.indexOf(this);e>-1&&t._wiredEventDispatchers.splice(e,1)},t}(),Rt=function(){function t(){this.eventDispatcher=new Bt(this)}return t.prototype.on=function(t,e){this.eventDispatcher.on(t,e)},t.prototype.off=function(t,e){this.eventDispatcher.off(t,e)},t.prototype.emit=function(t,e){this.eventDispatcher.emit(t,e)},t.prototype.once=function(t,e){this.eventDispatcher.once(t,e)},t}(),jt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ft=function(t){function e(e,i,n){void 0===n&&(n=!0);var r=t.call(this)||this;return r.path=e,r.responseType=i,r.bustCache=n,r.data=null,r.logger=R.getInstance(),r.arrayBuffer=null,r.onprogress=function(){},r.oncomplete=function(){},r.onerror=function(){},r}return jt(e,t),e.prototype.isLoaded=function(){return null!==this.data},e.prototype.wireEngine=function(t){},e.prototype._cacheBust=function(t){return/\?\w*=\w*/.test(t)?t+="&__="+Date.now():t+="?__="+Date.now(),t},e.prototype._start=function(){this.logger.debug("Started loading resource "+this.path)},e.prototype.load=function(){var t=this,e=new d;if(null!==this.data)return this.logger.debug("Already have data for resource",this.path),e.resolve(this.data),this.oncomplete(),e;var i=new XMLHttpRequest;return i.open("GET",this.bustCache?this._cacheBust(this.path):this.path,!0),i.responseType=this.responseType,i.onloadstart=function(){t._start()},i.onprogress=this.onprogress,i.onerror=this.onerror,i.onload=function(){if(0!==i.status&&200!==i.status)return t.logger.error("Failed to load resource ",t.path," server responded with error code",i.status),t.onerror(i.response),void e.resolve(i.response);t.data=t.processData(i.response),t.oncomplete(),t.logger.debug("Completed loading resource",t.path),e.resolve(t.data)},i.send(),e},e.prototype.getData=function(){return this.data},e.prototype.getArrayData=function(){return this.arrayBuffer},e.prototype.setData=function(t){this.data=this.processData(t)},e.prototype.processData=function(t){return"blob"===this.responseType?URL.createObjectURL(t):t},e}(Rt),It=function(t,e,i,n){var r,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,i,s):r(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s},Lt=function(){function t(t,e,i,n){this.r=t,this.g=e,this.b=i,this.a=null!=n?n:1}return t.fromRGB=function(e,i,n,r){return new t(e,i,n,r)},t.fromHex=function(e){var i;if(i=e.match(/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i)){var n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16),s=1;return i[4]&&(s=parseInt(i[4],16)/255),new t(n,r,o,s)}throw new Error("Invalid hex string: "+e)},t.fromHSL=function(t,e,i,n){return void 0===n&&(n=1),new zt(t,e,i,n).toRGBA()},t.prototype.lighten=function(t){void 0===t&&(t=.1);var e=zt.fromRGBA(this.r,this.g,this.b,this.a);return e.l+=(1-e.l)*t,e.toRGBA()},t.prototype.darken=function(t){void 0===t&&(t=.1);var e=zt.fromRGBA(this.r,this.g,this.b,this.a);return e.l-=e.l*t,e.toRGBA()},t.prototype.saturate=function(t){void 0===t&&(t=.1);var e=zt.fromRGBA(this.r,this.g,this.b,this.a);return e.s+=e.s*t,e.toRGBA()},t.prototype.desaturate=function(t){void 0===t&&(t=.1);var e=zt.fromRGBA(this.r,this.g,this.b,this.a);return e.s-=e.s*t,e.toRGBA()},t.prototype.multiply=function(e){return new t(e.r/255*this.r/255*255,e.g/255*this.g/255*255,e.b/255*this.b/255*255,e.a*this.a)},t.prototype.mulitiply=function(t){return this.multiply(t)},t.prototype.screen=function(t){var e=t.invert(),i=t.invert();return e.multiply(i).invert()},t.prototype.invert=function(){return new t(255-this.r,255-this.g,255-this.b,1-this.a)},t.prototype.average=function(e){return new t((e.r+this.r)/2,(e.g+this.g)/2,(e.b+this.b)/2,(e.a+this.a)/2)},t.prototype.toString=function(t){switch(void 0===t&&(t="rgb"),t){case"rgb":return this.toRGBA();case"hsl":return this.toHSLA();case"hex":return this.toHex();default:throw new Error("Invalid Color format")}},t.prototype._componentToHex=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},t.prototype.toHex=function(){return"#"+this._componentToHex(this.r)+this._componentToHex(this.g)+this._componentToHex(this.b)},t.prototype.toRGBA=function(){var t=String(this.r.toFixed(0))+", "+String(this.g.toFixed(0))+", "+String(this.b.toFixed(0));return void 0!==this.a||null!==this.a?"rgba("+t+", "+String(this.a)+")":"rgb("+t+")"},t.prototype.toHSLA=function(){return zt.fromRGBA(this.r,this.g,this.b,this.a).toString()},t.prototype.fillStyle=function(){return this.toString()},t.prototype.clone=function(){return new t(this.r,this.g,this.b,this.a)},Object.defineProperty(t,"Black",{get:function(){return t.fromHex("#000000")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"White",{get:function(){return t.fromHex("#FFFFFF")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Gray",{get:function(){return t.fromHex("#808080")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"LightGray",{get:function(){return t.fromHex("#D3D3D3")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DarkGray",{get:function(){return t.fromHex("#A9A9A9")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Yellow",{get:function(){return t.fromHex("#FFFF00")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Orange",{get:function(){return t.fromHex("#FFA500")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Red",{get:function(){return t.fromHex("#FF0000")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Vermilion",{get:function(){return t.fromHex("#FF5B31")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Vermillion",{get:function(){return t.Vermilion},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Rose",{get:function(){return t.fromHex("#FF007F")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Magenta",{get:function(){return t.fromHex("#FF00FF")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Violet",{get:function(){return t.fromHex("#7F00FF")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Blue",{get:function(){return t.fromHex("#0000FF")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Azure",{get:function(){return t.fromHex("#007FFF")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Cyan",{get:function(){return t.fromHex("#00FFFF")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Viridian",{get:function(){return t.fromHex("#59978F")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Green",{get:function(){return t.fromHex("#00FF00")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Chartreuse",{get:function(){return t.fromHex("#7FFF00")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Transparent",{get:function(){return t.fromHex("#FFFFFF00")},enumerable:!0,configurable:!0}),It([N({message:"Alias for incorrect spelling used in older versions, use multiply instead, will be removed in v0.25.0"})],t.prototype,"mulitiply",null),It([N({message:"Alias for incorrect spelling used in older versions",alternateMethod:"Vermilion"})],t,"Vermillion",null),t}(),zt=function(){function t(t,e,i,n){this.h=t,this.s=e,this.l=i,this.a=n}return t.hue2rgb=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},t.fromRGBA=function(e,i,n,r){e/=255,i/=255,n/=255;var o,s,a=Math.max(e,i,n),c=Math.min(e,i,n),h=(a+c)/2;if(a===c)o=s=0;else{var u=a-c;switch(s=h>.5?u/(2-a-c):u/(a+c),a){case e:o=(i-n)/u+(i<n?6:0);break;case i:o=(n-e)/u+2;break;case n:o=(e-i)/u+4}o/=6}return new t(o,s,h,r)},t.prototype.toRGBA=function(){var e,i,n;if(0===this.s)e=i=n=this.l;else{var r=this.l<.5?this.l*(1+this.s):this.l+this.s-this.l*this.s,o=2*this.l-r;e=t.hue2rgb(o,r,this.h+1/3),i=t.hue2rgb(o,r,this.h),n=t.hue2rgb(o,r,this.h-1/3)}return new Lt(255*e,255*i,255*n,this.a)},t.prototype.toString=function(){return"hsla("+this.h.toFixed(0)+", "+this.s.toFixed(0)+", "+this.l.toFixed(0)+", "+this.a.toFixed(0)+")"},t}(),Ht=function(){function t(){}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),r=i.data,o=(r[n+0]+r[n+1]+r[n+2])/3;r[n+0]=o,r[n+1]=o,r[n+2]=o},t}(),Wt=function(){function t(){}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),r=i.data;r[n+0]=255-r[n+0],r[n+1]=255-r[n+1],r[n+2]=255-r[n+2]},t}(),Ut=function(){function t(t){this.opacity=t}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),r=i.data;0!==r[n+3]&&(r[n+3]=Math.round(this.opacity*r[n+3]))},t}(),Nt=function(){function t(t){this.color=t}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),r=i.data;0!==r[n+3]&&(r[n+0]=(r[n+0]+this.color.r)/2,r[n+1]=(r[n+1]+this.color.g)/2,r[n+2]=(r[n+2]+this.color.b)/2)},t}(),qt=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),r=i.data,o=Lt.fromRGB(r[n+0],r[n+1],r[n+2],r[n+3]).lighten(this.factor);r[n+0]=o.r,r[n+1]=o.g,r[n+2]=o.b,r[n+3]=o.a},t}(),Vt=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),r=i.data,o=Lt.fromRGB(r[n+0],r[n+1],r[n+2],r[n+3]).darken(this.factor);r[n+0]=o.r,r[n+1]=o.g,r[n+2]=o.b,r[n+3]=o.a},t}(),Gt=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),r=i.data,o=Lt.fromRGB(r[n+0],r[n+1],r[n+2],r[n+3]).saturate(this.factor);r[n+0]=o.r,r[n+1]=o.g,r[n+2]=o.b,r[n+3]=o.a},t}(),Xt=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),r=i.data,o=Lt.fromRGB(r[n+0],r[n+1],r[n+2],r[n+3]).desaturate(this.factor);r[n+0]=o.r,r[n+1]=o.g,r[n+2]=o.b,r[n+3]=o.a},t}(),Kt=function(){function t(t){this.color=t}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),r=i.data;0!==r[n+3]&&(r[n+0]=this.color.r,r[n+1]=this.color.g,r[n+2]=this.color.b)},t}(),Yt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function Zt(t){return function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=t.apply(this,e)||this,r=e.filter((function(t){return void 0!==t})).length;return 1!==r||!e[0]||"object"!=typeof e[0]||e[0]instanceof Array||n.assign(e[0]),n}return Yt(e,t),e.prototype.assign=function(t){for(var e in t)"function"!=typeof this[e]&&(this[e]=t[e])},e}(t)}var Qt,Jt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$t=function(){return($t=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},te=function(t){function e(e,i,n,r,o){return t.call(this,e,i,n,r,o)||this}return Jt(e,t),e}(Zt(function(){function t(t,e,i,n,r){var o=this;this.x=0,this.y=0,this.rotation=0,this.anchor=new V(0,0),this.offset=V.Zero,this.scale=V.One,this.logger=R.getInstance(),this.flipVertical=!1,this.flipHorizontal=!1,this.effects=[],this.width=0,this.height=0,this._spriteCanvas=null,this._spriteCtx=null,this._pixelData=null,this._pixelsLoaded=!1,this._dirtyEffect=!1,this._opacity=1;var s=t;if(t&&!(t instanceof ie)&&(e=0|t.x,i=0|t.y,n=0|t.width,r=0|t.height,!(s=t.image))){throw new Error("An image texture is required to contsruct a sprite")}this.x=e||0,this.y=i||0,this._texture=s,this._spriteCanvas=document.createElement("canvas"),this._spriteCanvas.width=n,this._spriteCanvas.height=r,this._spriteCtx=this._spriteCanvas.getContext("2d"),this._texture.loaded.then((function(){o.width=o.width||o._texture.image.naturalWidth,o.height=o.height||o._texture.image.naturalHeight,o._spriteCanvas.width=o._spriteCanvas.width||o._texture.image.naturalWidth,o._spriteCanvas.height=o._spriteCanvas.height||o._texture.image.naturalHeight,o._loadPixels(),o._dirtyEffect=!0})).error((function(t){o.logger.error("Error loading texture ",o._texture.path,t)})),this.width=n,this.height=r}return Object.defineProperty(t.prototype,"drawWidth",{get:function(){return this.width*this.scale.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"drawHeight",{get:function(){return this.height*this.scale.y},enumerable:!0,configurable:!0}),t.prototype._loadPixels=function(){if(this._texture.isLoaded()&&!this._pixelsLoaded){var t=this._texture.image.naturalWidth||0,e=this._texture.image.naturalHeight||0;if(this.width>t&&this.logger.warn("The sprite width "+this.width+" exceeds the width \n                              "+t+" of the backing texture "+this._texture.path),this.width<=0||t<=0)throw new Error("The width of a sprite cannot be 0 or negative, sprite width: "+this.width+", original width: "+t);if(this.height>e&&this.logger.warn("The sprite height "+this.height+" exceeds the height \n                              "+e+" of the backing texture "+this._texture.path),this.height<=0||e<=0)throw new Error("The height of a sprite cannot be 0 or negative, sprite height: "+this.height+", original height: "+e);this._spriteCtx.drawImage(this._texture.image,m(this.x,0,t),m(this.y,0,e),m(this.width,0,t),m(this.height,0,e),0,0,this.width,this.height),this._pixelsLoaded=!0}},t.prototype.opacity=function(t){this._opacity=t},t.prototype.grayscale=function(){this.addEffect(new Ht)},t.prototype.invert=function(){this.addEffect(new Wt)},t.prototype.fill=function(t){this.addEffect(new Kt(t))},t.prototype.colorize=function(t){this.addEffect(new Nt(t))},t.prototype.lighten=function(t){void 0===t&&(t=.1),this.addEffect(new qt(t))},t.prototype.darken=function(t){void 0===t&&(t=.1),this.addEffect(new Vt(t))},t.prototype.saturate=function(t){void 0===t&&(t=.1),this.addEffect(new Gt(t))},t.prototype.desaturate=function(t){void 0===t&&(t=.1),this.addEffect(new Xt(t))},t.prototype.addEffect=function(t){this.effects.push(t),this._texture.isLoaded()&&this._pixelsLoaded?this._applyEffects():this._dirtyEffect=!0},t.prototype.removeEffect=function(t){var e=-1;(e="number"==typeof t?t:this.effects.indexOf(t))<0||e>=this.effects.length||(this.effects.splice(e,1),this._texture.isLoaded()&&this._pixelsLoaded?this._applyEffects():this._dirtyEffect=!0)},t.prototype._applyEffects=function(){var t=this._texture.image.naturalWidth||0,e=this._texture.image.naturalHeight||0;this._spriteCtx.clearRect(0,0,this.width,this.height),this._spriteCtx.drawImage(this._texture.image,m(this.x,0,t),m(this.y,0,e),m(this.width,0,t),m(this.height,0,e),0,0,this.width,this.height),this._pixelData=this._spriteCtx.getImageData(0,0,this.width,this.height);for(var i=this.effects.length,n=0;n<i;n++)for(var r=0;r<this.height;r++)for(var o=0;o<this.width;o++)this.effects[n].updatePixel(o,r,this._pixelData);this._spriteCtx.clearRect(0,0,this.width,this.height),this._spriteCtx.putImageData(this._pixelData,0,0),this._dirtyEffect=!1},t.prototype.clearEffects=function(){this.effects.length=0,this._applyEffects()},t.prototype.reset=function(){},t.prototype.debugDraw=function(t,e,i){t.save(),t.translate(e,i),t.rotate(this.rotation);var n=this.drawWidth*this.anchor.x,r=this.drawHeight*this.anchor.y;t.strokeStyle=Lt.Black.toString(),t.strokeRect(-n,-r,this.drawWidth,this.drawHeight),t.restore()},t.prototype.draw=function(t,e,i){t instanceof CanvasRenderingContext2D?this._drawWithOptions({ctx:t,x:e,y:i}):this._drawWithOptions(t)},t.prototype._drawWithOptions=function(t){var e=$t($t({},t),{rotation:v(t.rotation,this.rotation),drawWidth:v(t.drawWidth,this.drawWidth),drawHeight:v(t.drawHeight,this.drawHeight),flipHorizontal:v(t.flipHorizontal,this.flipHorizontal),flipVertical:v(t.flipVertical,this.flipVertical),anchor:v(t.anchor,this.anchor),offset:v(t.offset,this.offset),opacity:v(t.opacity,this._opacity)}),i=e.ctx,n=e.x,r=e.y,o=e.rotation,s=e.drawWidth,a=e.drawHeight,c=e.anchor,h=e.offset,u=e.opacity,l=e.flipHorizontal,p=e.flipVertical;this._dirtyEffect&&this._applyEffects(),i.save();var d=s*c.x+h.x,f=a*c.y+h.y;i.translate(n,r),i.rotate(o),l&&(i.translate(s,0),i.scale(-1,1)),p&&(i.translate(0,a),i.scale(1,-1)),this._dirtyEffect&&this._applyEffects();var g=i.globalAlpha;i.globalAlpha=v(u,1),i.drawImage(this._spriteCanvas,0,0,this.width,this.height,-d,-f,s,a),i.globalAlpha=g,i.restore()},t.prototype.clone=function(){var t=new te(this._texture,this.x,this.y,this.width,this.height);t.scale=this.scale.clone(),t.rotation=this.rotation,t.flipHorizontal=this.flipHorizontal,t.flipVertical=this.flipVertical;for(var e=this.effects.length,i=0;i<e;i++)t.addEffect(this.effects[i]);return t},t}())),ee=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ie=function(t){function e(e,i){void 0===i&&(i=!0);var n=t.call(this,e,"blob",i)||this;return n.path=e,n.bustCache=i,n.loaded=new d,n._isLoaded=!1,n._sprite=null,n._sprite=new te(n,0,0,0,0),n}return ee(e,t),e.prototype.isLoaded=function(){return this._isLoaded},e.prototype.load=function(){var e=this,i=new d;this.path.indexOf("data:image/")>-1?(this.image=new Image,this.image.addEventListener("load",(function(){e.width=e._sprite.width=e.image.naturalWidth,e.height=e._sprite.height=e.image.naturalHeight,e._sprite=new te(e,0,0,e.width,e.height),e.loaded.resolve(e.image),i.resolve(e.image)})),this.image.src=this.path):t.prototype.load.call(this).then((function(){e.image=new Image,e.image.addEventListener("load",(function(){e._isLoaded=!0,e.width=e._sprite.width=e.image.naturalWidth,e.height=e._sprite.height=e.image.naturalHeight,e.loaded.resolve(e.image),i.resolve(e.image)})),e.image.src=t.prototype.getData.call(e)}),(function(){i.reject("Error loading texture.")}));return i},e.prototype.asSprite=function(){return this._sprite},e}(Ft);!function(t){t[t.ShortestPath=0]="ShortestPath",t[t.LongestPath=1]="LongestPath",t[t.Clockwise=2]="Clockwise",t[t.CounterClockwise=3]="CounterClockwise"}(Qt||(Qt={}));var ne,re=function(t,e,i,n){var r,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,i,s):r(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s},oe=function(){function t(t,e,i,n,r){this.actor=t,this.easingFcn=r,this._currentLerpTime=0,this._lerpDuration=1e3,this._lerpStart=new V(0,0),this._lerpEnd=new V(0,0),this._initialized=!1,this._stopped=!1,this._distance=0,this._lerpDuration=n,this._lerpEnd=new V(e,i)}return t.prototype._initialize=function(){this._lerpStart=new V(this.actor.pos.x,this.actor.pos.y),this._currentLerpTime=0,this._distance=this._lerpStart.distance(this._lerpEnd)},t.prototype.update=function(t){this._initialized||(this._initialize(),this._initialized=!0);var e=this.actor.pos.x,i=this.actor.pos.y;this._currentLerpTime<this._lerpDuration?(e=this._lerpEnd.x<this._lerpStart.x?this._lerpStart.x-(this.easingFcn(this._currentLerpTime,this._lerpEnd.x,this._lerpStart.x,this._lerpDuration)-this._lerpEnd.x):this.easingFcn(this._currentLerpTime,this._lerpStart.x,this._lerpEnd.x,this._lerpDuration),i=this._lerpEnd.y<this._lerpStart.y?this._lerpStart.y-(this.easingFcn(this._currentLerpTime,this._lerpEnd.y,this._lerpStart.y,this._lerpDuration)-this._lerpEnd.y):this.easingFcn(this._currentLerpTime,this._lerpStart.y,this._lerpEnd.y,this._lerpDuration),this.actor.pos.x=e,this.actor.pos.y=i,this._currentLerpTime+=t):(this.actor.pos.x=this._lerpEnd.x,this.actor.pos.y=this._lerpEnd.y)},t.prototype.isComplete=function(t){return this._stopped||new V(t.pos.x,t.pos.y).distance(this._lerpStart)>=this._distance},t.prototype.reset=function(){this._initialized=!1},t.prototype.stop=function(){this._stopped=!0},t}(),se=function(){function t(t,e,i,n){this._started=!1,this._stopped=!1,this._actor=t,this._end=new V(e,i),this._speed=n}return t.prototype.update=function(t){this._started||(this._started=!0,this._start=new V(this._actor.pos.x,this._actor.pos.y),this._distance=this._start.distance(this._end),this._dir=this._end.sub(this._start).normalize());var e=this._dir.scale(this._speed);this._actor.vel.x=e.x,this._actor.vel.y=e.y,this.isComplete(this._actor)&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.isComplete=function(t){return this._stopped||new V(t.pos.x,t.pos.y).distance(this._start)>=this._distance},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),ae=function(){function t(t,e,i,n){if(this._started=!1,this._stopped=!1,this._actor=t,this._speed=n,this._offset=new V(e,i),n<=0)throw R.getInstance().error("Attempted to moveBy with speed less than or equal to zero : "+n),new Error("Speed must be greater than 0 pixels per second")}return t.prototype.update=function(t){this._started||(this._started=!0,this._start=new V(this._actor.pos.x,this._actor.pos.y),this._end=this._start.add(this._offset),this._distance=this._offset.size,this._dir=this._end.sub(this._start).normalize()),this._actor.vel=this._dir.scale(this._speed),this.isComplete(this._actor)&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.isComplete=function(t){return this._stopped||t.pos.distance(this._start)>=this._distance},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),ce=function(){function t(t,e,i){this._started=!1,this._stopped=!1,this._actor=t,this._actorToFollow=e,this._current=new V(this._actor.pos.x,this._actor.pos.y),this._end=new V(e.pos.x,e.pos.y),this._maximumDistance=void 0!==i?i:this._current.distance(this._end),this._speed=0}return t.prototype.update=function(t){this._started||(this._started=!0,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize());var e=Math.sqrt(Math.pow(this._actorToFollow.vel.x,2)+Math.pow(this._actorToFollow.vel.y,2));if(0!==e&&(this._speed=e),this._current.x=this._actor.pos.x,this._current.y=this._actor.pos.y,this._end.x=this._actorToFollow.pos.x,this._end.y=this._actorToFollow.pos.y,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize(),this._distanceBetween>=this._maximumDistance){var i=this._dir.scale(this._speed);this._actor.vel.x=i.x,this._actor.vel.y=i.y}else this._actor.vel.x=0,this._actor.vel.y=0;this.isComplete()&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.isComplete=function(){return this._stopped},t.prototype.reset=function(){this._started=!1},t}(),he=function(){function t(t,e,i){this._started=!1,this._stopped=!1,this._speedWasSpecified=!1,this._actor=t,this._actorToMeet=e,this._current=new V(this._actor.pos.x,this._actor.pos.y),this._end=new V(e.pos.x,e.pos.y),this._speed=i||0,void 0!==i&&(this._speedWasSpecified=!0)}return t.prototype.update=function(t){this._started||(this._started=!0,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize());var e=Math.sqrt(Math.pow(this._actorToMeet.vel.x,2)+Math.pow(this._actorToMeet.vel.y,2));0===e||this._speedWasSpecified||(this._speed=e),this._current.x=this._actor.pos.x,this._current.y=this._actor.pos.y,this._end.x=this._actorToMeet.pos.x,this._end.y=this._actorToMeet.pos.y,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize();var i=this._dir.scale(this._speed);this._actor.vel.x=i.x,this._actor.vel.y=i.y,this.isComplete()&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.isComplete=function(){return this._stopped||this._distanceBetween<=1},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),ue=function(){function t(t,e,i,n){this._started=!1,this._stopped=!1,this._actor=t,this._end=e,this._speed=i,this._rotationType=n||Qt.ShortestPath}return t.prototype.update=function(t){if(!this._started){this._started=!0,this._start=this._actor.rotation;var e=Math.abs(this._end-this._start),i=g-e;switch(e>i?(this._shortDistance=i,this._longDistance=e):(this._shortDistance=e,this._longDistance=i),this._shortestPathIsPositive=(this._start-this._end+g)%g>=Math.PI,this._rotationType){case Qt.ShortestPath:this._distance=this._shortDistance,this._shortestPathIsPositive?this._direction=1:this._direction=-1;break;case Qt.LongestPath:this._distance=this._longDistance,this._shortestPathIsPositive?this._direction=-1:this._direction=1;break;case Qt.Clockwise:this._direction=1,this._shortestPathIsPositive?this._distance=this._shortDistance:this._distance=this._longDistance;break;case Qt.CounterClockwise:this._direction=-1,this._shortestPathIsPositive?this._distance=this._longDistance:this._distance=this._shortDistance}}this._actor.rx=this._direction*this._speed,this.isComplete()&&(this._actor.rotation=this._end,this._actor.rx=0,this._stopped=!0)},t.prototype.isComplete=function(){var t=Math.abs(this._actor.rotation-this._start);return this._stopped||t>=Math.abs(this._distance)},t.prototype.stop=function(){this._actor.rx=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),le=function(){function t(t,e,i,n){this._started=!1,this._stopped=!1,this._actor=t,this._speed=i,this._offset=e,this._rotationType=n||Qt.ShortestPath}return t.prototype.update=function(t){if(!this._started){this._started=!0,this._start=this._actor.rotation,this._end=this._start+this._offset;var e=Math.abs(this._end-this._start),i=g-e;switch(e>i?(this._shortDistance=i,this._longDistance=e):(this._shortDistance=e,this._longDistance=i),this._shortestPathIsPositive=(this._start-this._end+g)%g>=Math.PI,this._rotationType){case Qt.ShortestPath:this._distance=this._shortDistance,this._shortestPathIsPositive?this._direction=1:this._direction=-1;break;case Qt.LongestPath:this._distance=this._longDistance,this._shortestPathIsPositive?this._direction=-1:this._direction=1;break;case Qt.Clockwise:this._direction=1,this._shortDistance>=0?this._distance=this._shortDistance:this._distance=this._longDistance;break;case Qt.CounterClockwise:this._direction=-1,this._shortDistance<=0?this._distance=this._shortDistance:this._distance=this._longDistance}}this._actor.rx=this._direction*this._speed,this.isComplete()&&(this._actor.rotation=this._end,this._actor.rx=0,this._stopped=!0)},t.prototype.isComplete=function(){var t=Math.abs(this._actor.rotation-this._start);return this._stopped||t>=Math.abs(this._distance)},t.prototype.stop=function(){this._actor.rx=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),pe=function(){function t(t,e,i,n,r){this._started=!1,this._stopped=!1,this._actor=t,this._endX=e,this._endY=i,this._speedX=n,this._speedY=r}return t.prototype.update=function(t){if(this._started||(this._started=!0,this._startX=this._actor.scale.x,this._startY=this._actor.scale.y,this._distanceX=Math.abs(this._endX-this._startX),this._distanceY=Math.abs(this._endY-this._startY)),Math.abs(this._actor.scale.x-this._startX)>=this._distanceX)this._actor.sx=0;else{var e=this._endY<this._startY?-1:1;this._actor.sx=this._speedX*e}if(Math.abs(this._actor.scale.y-this._startY)>=this._distanceY)this._actor.sy=0;else{var i=this._endY<this._startY?-1:1;this._actor.sy=this._speedY*i}this.isComplete()&&(this._actor.scale.x=this._endX,this._actor.scale.y=this._endY,this._actor.sx=0,this._actor.sy=0)},t.prototype.isComplete=function(){return this._stopped||Math.abs(this._actor.scale.y-this._startX)>=this._distanceX&&Math.abs(this._actor.scale.y-this._startY)>=this._distanceY},t.prototype.stop=function(){this._actor.sx=0,this._actor.sy=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t=re([N({message:"ex.Action.ScaleTo will be removed in v0.25.0",alternateMethod:"Set width and hight directly"})],t)}(),de=function(){function t(t,e,i,n){this._started=!1,this._stopped=!1,this._actor=t,this._offset=new V(e,i),this._speedX=this._speedY=n}return t.prototype.update=function(t){this._started||(this._started=!0,this._startScale=this._actor.scale.clone(),this._endScale=this._startScale.add(this._offset),this._distanceX=Math.abs(this._endScale.x-this._startScale.x),this._distanceY=Math.abs(this._endScale.y-this._startScale.y),this._directionX=this._endScale.x<this._startScale.x?-1:1,this._directionY=this._endScale.y<this._startScale.y?-1:1),this._actor.sx=this._speedX*this._directionX,this._actor.sy=this._speedY*this._directionY,this.isComplete()&&(this._actor.scale=this._endScale,this._actor.sx=0,this._actor.sy=0)},t.prototype.isComplete=function(){return this._stopped||Math.abs(this._actor.scale.x-this._startScale.x)>=this._distanceX&&Math.abs(this._actor.scale.y-this._startScale.y)>=this._distanceY},t.prototype.stop=function(){this._actor.sx=0,this._actor.sy=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t=re([N({message:"ex.Action.ScaleBy will be removed in v0.25.0",alternateMethod:"Set width and hight directly"})],t)}(),fe=function(){function t(t,e){this._elapsedTime=0,this._started=!1,this._stopped=!1,this._actor=t,this._delay=e}return t.prototype.update=function(t){this._started||(this._started=!0),this.x=this._actor.pos.x,this.y=this._actor.pos.y,this._elapsedTime+=t},t.prototype.isComplete=function(){return this._stopped||this._elapsedTime>=this._delay},t.prototype.stop=function(){this._stopped=!0},t.prototype.reset=function(){this._elapsedTime=0,this._started=!1},t}(),ge=function(){function t(t,e,i,n){void 0===n&&(n=1),this._timeVisible=0,this._timeNotVisible=0,this._elapsedTime=0,this._totalTime=0,this._stopped=!1,this._started=!1,this._actor=t,this._timeVisible=e,this._timeNotVisible=i,this._duration=(e+i)*n}return t.prototype.update=function(t){this._started||(this._started=!0),this._elapsedTime+=t,this._totalTime+=t,this._actor.visible&&this._elapsedTime>=this._timeVisible&&(this._actor.visible=!1,this._elapsedTime=0),!this._actor.visible&&this._elapsedTime>=this._timeNotVisible&&(this._actor.visible=!0,this._elapsedTime=0),this.isComplete()&&(this._actor.visible=!0)},t.prototype.isComplete=function(){return this._stopped||this._totalTime>=this._duration},t.prototype.stop=function(){this._actor.visible=!0,this._stopped=!0},t.prototype.reset=function(){this._started=!1,this._elapsedTime=0,this._totalTime=0},t}(),ye=function(){function t(t,e,i){this._multiplier=1,this._started=!1,this._stopped=!1,this._actor=t,this._endOpacity=e,this._speed=i}return t.prototype.update=function(t){this._started||(this._started=!0,this._endOpacity<this._actor.opacity?this._multiplier=-1:this._multiplier=1),this._speed>0&&(this._actor.opacity+=this._multiplier*(Math.abs(this._actor.opacity-this._endOpacity)*t)/this._speed),this._speed-=t,this.isComplete()&&(this._actor.opacity=this._endOpacity),R.getInstance().debug("[Action fade] Actor opacity:",this._actor.opacity)},t.prototype.isComplete=function(){return this._stopped||Math.abs(this._actor.opacity-this._endOpacity)<.05},t.prototype.stop=function(){this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),_e=function(){function t(t){this._stopped=!1,this._actor=t}return t.prototype.update=function(t){this._actor.actionQueue.clearActions(),this._actor.kill(),this._stopped=!0},t.prototype.isComplete=function(){return this._stopped},t.prototype.stop=function(){},t.prototype.reset=function(){},t}(),ve=function(){function t(t,e){this._method=null,this._actor=null,this._hasBeenCalled=!1,this._actor=t,this._method=e}return t.prototype.update=function(t){this._method.call(this._actor),this._hasBeenCalled=!0},t.prototype.isComplete=function(){return this._hasBeenCalled},t.prototype.reset=function(){this._hasBeenCalled=!1},t.prototype.stop=function(){this._hasBeenCalled=!0},t}(),me=function(){function t(t,e,i){this._stopped=!1,this._actor=t,this._actionQueue=new we(t),this._repeat=e,this._originalRepeat=e;for(var n=i.length,r=0;r<n;r++)i[r].reset(),this._actionQueue.add(i[r])}return t.prototype.update=function(t){this.x=this._actor.pos.x,this.y=this._actor.pos.y,this._actionQueue.hasNext()||(this._actionQueue.reset(),this._repeat--),this._actionQueue.update(t)},t.prototype.isComplete=function(){return this._stopped||this._repeat<=0},t.prototype.stop=function(){this._stopped=!0},t.prototype.reset=function(){this._repeat=this._originalRepeat},t}(),be=function(){function t(t,e){this._stopped=!1,this._actor=t,this._actionQueue=new we(t);for(var i=e.length,n=0;n<i;n++)e[n].reset(),this._actionQueue.add(e[n])}return t.prototype.update=function(t){this.x=this._actor.pos.x,this.y=this._actor.pos.y,this._stopped||(this._actionQueue.hasNext()||this._actionQueue.reset(),this._actionQueue.update(t))},t.prototype.isComplete=function(){return this._stopped},t.prototype.stop=function(){this._stopped=!0,this._actionQueue.clearActions()},t.prototype.reset=function(){},t}(),we=function(){function t(t){this._actions=[],this._completedActions=[],this._actor=t}return t.prototype.add=function(t){this._actions.push(t)},t.prototype.remove=function(t){var e=this._actions.indexOf(t);this._actions.splice(e,1)},t.prototype.clearActions=function(){this._actions.length=0,this._completedActions.length=0,this._currentAction&&this._currentAction.stop()},t.prototype.getActions=function(){return this._actions.concat(this._completedActions)},t.prototype.hasNext=function(){return this._actions.length>0},t.prototype.reset=function(){this._actions=this.getActions();for(var t=this._actions.length,e=0;e<t;e++)this._actions[e].reset();this._completedActions=[]},t.prototype.update=function(t){this._actions.length>0&&(this._currentAction=this._actions[0],this._currentAction.update(t),this._currentAction.isComplete(this._actor)&&this._completedActions.push(this._actions.shift()))},t}(),xe=function(t,e,i,n){var r,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,i,s):r(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s},Pe=function(){function t(){}return t.CreateReversibleEasingFunction=function(t){return function(e,i,n,r){return n<i?i-(t(e,n,i,r)-n):t(e,i,n,r)}},t.CreateReversableEasingFunction=function(e){return t.CreateReversibleEasingFunction(e)},t.CreateVectorEasingFunction=function(t){return function(e,i,n,r){return new V(t(e,i.x,n.x,r),t(e,i.y,n.y,r))}},t.Linear=t.CreateReversibleEasingFunction((function(t,e,i,n){return(i-=e)*t/n+e})),t.EaseInQuad=t.CreateReversibleEasingFunction((function(t,e,i,n){return(i-=e)*(t/=n)*t+e})),t.EaseOutQuad=t.CreateReversibleEasingFunction((function(t,e,i,n){return-(i-=e)*(t/=n)*(t-2)+e})),t.EaseInOutQuad=t.CreateReversibleEasingFunction((function(t,e,i,n){return i-=e,(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e})),t.EaseInCubic=t.CreateReversibleEasingFunction((function(t,e,i,n){return(i-=e)*(t/=n)*t*t+e})),t.EaseOutCubic=t.CreateReversibleEasingFunction((function(t,e,i,n){return t/=n,(i-=e)*(--t*t*t+1)+e})),t.EaseInOutCubic=t.CreateReversibleEasingFunction((function(t,e,i,n){return i-=e,(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e})),xe([N({message:"Alias for incorrect spelling used in older versions, will be removed in v0.25.0",alternateMethod:"CreateReversibleEasingFunction"})],t,"CreateReversableEasingFunction",null),t}(),Se=function(){function t(){this._actors=[],this._queues=[],null!==arguments&&(this._actors=Array.prototype.slice.call(arguments,0),this._queues=this._actors.map((function(t){return t.actionQueue})))}return t.prototype.clearActions=function(){for(var t=this._queues.length,e=0;e<t;e++)this._queues[e].clearActions()},t.prototype.addActorToContext=function(t){this._actors.push(t),this._queues.push(t.actionQueue)},t.prototype.removeActorFromContext=function(t){var e=this._actors.indexOf(t);e>-1&&(this._actors.splice(e,1),this._queues.splice(e,1))},t.prototype.easeTo=function(t,e,i,n){void 0===n&&(n=Pe.Linear);for(var r=this._queues.length,o=0;o<r;o++)this._queues[o].add(new oe(this._actors[o],t,e,i,n));return this},t.prototype.moveTo=function(t,e,i){for(var n=this._queues.length,r=0;r<n;r++)this._queues[r].add(new se(this._actors[r],t,e,i));return this},t.prototype.moveBy=function(t,e,i){for(var n=this._queues.length,r=0;r<n;r++)this._queues[r].add(new ae(this._actors[r],t,e,i));return this},t.prototype.rotateTo=function(t,e,i){for(var n=this._queues.length,r=0;r<n;r++)this._queues[r].add(new ue(this._actors[r],t,e,i));return this},t.prototype.rotateBy=function(t,e,i){for(var n=this._queues.length,r=0;r<n;r++)this._queues[r].add(new le(this._actors[r],t,e,i));return this},t.prototype.scaleTo=function(t,e,i,n){for(var r=this._queues.length,o=0;o<r;o++)this._queues[o].add(new pe(this._actors[o],t,e,i,n));return this},t.prototype.scaleBy=function(t,e,i){for(var n=this._queues.length,r=0;r<n;r++)this._queues[r].add(new de(this._actors[r],t,e,i));return this},t.prototype.blink=function(t,e,i){void 0===i&&(i=1);for(var n=this._queues.length,r=0;r<n;r++)this._queues[r].add(new ge(this._actors[r],t,e,i));return this},t.prototype.fade=function(t,e){for(var i=this._queues.length,n=0;n<i;n++)this._queues[n].add(new ye(this._actors[n],t,e));return this},t.prototype.delay=function(t){for(var e=this._queues.length,i=0;i<e;i++)this._queues[i].add(new fe(this._actors[i],t));return this},t.prototype.die=function(){for(var t=this._queues.length,e=0;e<t;e++)this._queues[e].add(new _e(this._actors[e]));return this},t.prototype.callMethod=function(t){for(var e=this._queues.length,i=0;i<e;i++)this._queues[i].add(new ve(this._actors[i],t));return this},t.prototype.repeat=function(t){if(!t)return this.repeatForever(),this;for(var e=this._queues.length,i=0;i<e;i++)this._queues[i].add(new me(this._actors[i],t,this._actors[i].actionQueue.getActions()));return this},t.prototype.repeatForever=function(){for(var t=this._queues.length,e=0;e<t;e++)this._queues[e].add(new be(this._actors[e],this._actors[e].actionQueue.getActions()));return this},t.prototype.follow=function(t,e){for(var i=this._queues.length,n=0;n<i;n++)void 0===e?this._queues[n].add(new ce(this._actors[n],t)):this._queues[n].add(new ce(this._actors[n],t,e));return this},t.prototype.meet=function(t,e){for(var i=this._queues.length,n=0;n<i;n++)void 0===e?this._queues[n].add(new he(this._actors[n],t)):this._queues[n].add(new he(this._actors[n],t,e));return this},t.prototype.asPromise=function(){var t=this,e=this._queues.map((function(e,i){var n=new d;return e.add(new ve(t._actors[i],(function(){n.resolve()}))),n}));return d.join.apply(this,e)},t}();!function(t){t.PreventCollision="PreventCollision",t.Passive="Passive",t.Active="Active",t.Fixed="Fixed"}(ne||(ne={}));var Ee,Ae,Ce,Oe=function(t,e,i,n){var r,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,i,s):r(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s};!function(t){t[t.Box=0]="Box",t[t.RigidBody=1]="RigidBody"}(Ee||(Ee={})),function(t){t[t.Naive=0]="Naive",t[t.DynamicAABBTree=1]="DynamicAABBTree"}(Ae||(Ae={})),function(t){t[t.Euler=0]="Euler"}(Ce||(Ce={}));var Te=function(){function t(){}return t.useBoxPhysics=function(){t.collisionResolutionStrategy=Ee.Box},t.useRigidBodyPhysics=function(){t.collisionResolutionStrategy=Ee.RigidBody},Object.defineProperty(t,"dynamicTreeVelocityMultiplyer",{get:function(){return t.dynamicTreeVelocityMultiplier},set:function(e){t.dynamicTreeVelocityMultiplier=e},enumerable:!0,configurable:!0}),t.acc=new V(0,0),t.enabled=!0,t.collisionPasses=5,t.broadphaseStrategy=Ae.DynamicAABBTree,t.broadphaseDebug=!1,t.showCollisionNormals=!1,t.showMotionVectors=!1,t.showBounds=!1,t.showArea=!1,t.showContacts=!1,t.showNormals=!1,t.collisionResolutionStrategy=Ee.Box,t.defaultMass=10,t.integrator=Ce.Euler,t.integrationSteps=1,t.allowRigidBodyRotation=!0,t.collisionShift=.001,t.dynamicTreeVelocityMultiplier=2,t.boundsPadding=5,t.surfaceEpsilon=.1,t.checkForFastBodies=!0,t.disableMinimumSpeedForFastBody=!1,Oe([N({message:"Alias for incorrect spelling used in older versions, will be removed in v0.25.0",alternateMethod:"dynamicTreeVelocityMultiplier"})],t,"dynamicTreeVelocityMultiplyer",null),t}(),Me=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),"object"==typeof t?(this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom):"number"==typeof t&&(this.left=t,this.top=e,this.right=i,this.bottom=n)}return t.getSideFromIntersection=function(t){return t&&t?Math.abs(t.x)>Math.abs(t.y)?t.x<0?p.Right:p.Left:t.y<0?p.Bottom:p.Top:p.None},t.fromPoints=function(e){for(var i=1/0,n=1/0,r=-1/0,o=-1/0,s=0;s<e.length;s++)e[s].x<i&&(i=e[s].x),e[s].x>r&&(r=e[s].x),e[s].y<n&&(n=e[s].y),e[s].y>o&&(o=e[s].y);return new t(i,n,r,o)},t.fromDimension=function(e,i,n,r){return void 0===n&&(n=V.Half),void 0===r&&(r=V.Zero),new t(-e*n.x+r.x,-i*n.y+r.y,e-e*n.x+r.x,i-i*n.y+r.y)},Object.defineProperty(t.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return new V((this.left+this.right)/2,(this.top+this.bottom)/2)},enumerable:!0,configurable:!0}),t.prototype.translate=function(e){return new t(this.left+e.x,this.top+e.y,this.right+e.x,this.bottom+e.y)},t.prototype.rotate=function(e,i){void 0===i&&(i=V.Zero);var n=this.getPoints().map((function(t){return t.rotate(e,i)}));return t.fromPoints(n)},t.prototype.scale=function(e,i){void 0===i&&(i=V.Zero);var n=this.translate(i);return new t(n.left*e.x,n.top*e.y,n.right*e.x,n.bottom*e.y)},t.prototype.getPerimeter=function(){return 2*(this.width+this.height)},t.prototype.getPoints=function(){var t=[];return t.push(new V(this.left,this.top)),t.push(new V(this.right,this.top)),t.push(new V(this.right,this.bottom)),t.push(new V(this.left,this.bottom)),t},t.prototype.toPolygon=function(t){var e=null;return t&&t.body&&t.body.collider&&(e=t.body.collider),new Ie({collider:e,points:this.getPoints(),offset:V.Zero})},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);var i=-1/0,n=1/0,r=0===t.dir.x?Number.MAX_VALUE:1/t.dir.x,o=0===t.dir.y?Number.MAX_VALUE:1/t.dir.y,s=(this.left-t.pos.x)*r,a=(this.right-t.pos.x)*r;i=Math.min(s,a),n=Math.max(s,a);var c=(this.top-t.pos.y)*o,h=(this.bottom-t.pos.y)*o;return i=Math.max(i,Math.min(c,h)),(n=Math.min(n,Math.max(c,h)))>=Math.max(0,i)&&i<e},t.prototype.rayCastTime=function(t,e){void 0===e&&(e=1/0);var i=-1/0,n=1/0,r=0===t.dir.x?Number.MAX_VALUE:1/t.dir.x,o=0===t.dir.y?Number.MAX_VALUE:1/t.dir.y,s=(this.left-t.pos.x)*r,a=(this.right-t.pos.x)*r;i=Math.min(s,a),n=Math.max(s,a);var c=(this.top-t.pos.y)*o,h=(this.bottom-t.pos.y)*o;return i=Math.max(i,Math.min(c,h)),(n=Math.min(n,Math.max(c,h)))>=Math.max(0,i)&&i<e?i:-1},t.prototype.contains=function(e){return e instanceof V?this.left<=e.x&&this.top<=e.y&&this.bottom>=e.y&&this.right>=e.x:e instanceof t&&(this.left<e.left&&this.top<e.top&&e.bottom<this.bottom&&e.right<this.right)},t.prototype.combine=function(e){return new t(Math.min(this.left,e.left),Math.min(this.top,e.top),Math.max(this.right,e.right),Math.max(this.bottom,e.bottom))},Object.defineProperty(t.prototype,"dimensions",{get:function(){return new V(this.width,this.height)},enumerable:!0,configurable:!0}),t.prototype.intersect=function(t){var e=this.combine(t);if(e.width<t.width+this.width&&e.height<t.height+this.height&&!e.dimensions.equals(t.dimensions)&&!e.dimensions.equals(this.dimensions)){var i=0;i=this.right>=t.left&&this.right<=t.right?t.left-this.right:t.right-this.left;var n=0;return n=this.top<=t.bottom&&this.top>=t.top?t.bottom-this.top:t.top-this.bottom,Math.abs(i)<Math.abs(n)?new V(i,0):new V(0,n)}if(e.dimensions.equals(t.dimensions)||e.dimensions.equals(this.dimensions)){i=0;i=this.width-t.width>=0?this.right-t.right<=t.left-this.left?t.left-this.right:t.right-this.left:t.right-this.right<=this.left-t.left?this.left-t.right:this.right-t.left;n=0;return n=this.height-t.height>=0?this.bottom-t.bottom<=t.top-this.top?t.top-this.bottom:t.bottom-this.top:t.bottom-this.bottom<=this.top-t.top?this.top-t.bottom:this.bottom-t.top,Math.abs(i)<Math.abs(n)?new V(i,0):new V(0,n)}return null},t.prototype.intersectWithSide=function(e){var i=this.intersect(e);return t.getSideFromIntersection(i)},t.prototype.debugDraw=function(t,e){void 0===e&&(e=Lt.Yellow),t.strokeStyle=e.toString(),t.strokeRect(this.left,this.top,this.width,this.height)},t}(),De=function(){function t(t,e,i,n,r){this.colliderA=t,this.colliderB=e,this.mtv=i,this.point=n,this.normal=r}return t.prototype.resolve=function(t){if(t===Ee.RigidBody)this._resolveRigidBodyCollision();else{if(t!==Ee.Box)throw new Error("Unknown collision resolution strategy");this._resolveBoxCollision()}},t.prototype._applyBoxImpulse=function(t,e,i){if(t.type===ne.Active&&e.type!==ne.Passive){t.type===ne.Active&&e.type===ne.Active&&(i=i.scale(.5)),t.body.pos.y+=i.y,t.body.pos.x+=i.x;var n=i.normalize();if(n.dot(t.body.vel)<0){var r=n.scale(n.dot(t.body.vel.negate()));t.body.vel=t.body.vel.add(r)}t.emit("postcollision",new Pt(t,e,M(i),i))}},t.prototype._resolveBoxCollision=function(){var t=M(this.mtv),e=this.mtv.negate();this.colliderA.emit("precollision",new xt(this.colliderA,this.colliderB,t,e)),this.colliderB.emit("precollision",new xt(this.colliderB,this.colliderA,T(t),e.negate())),this._applyBoxImpulse(this.colliderA,this.colliderB,e),this._applyBoxImpulse(this.colliderB,this.colliderA,e.negate())},t.prototype._resolveRigidBodyCollision=function(){var t=this.colliderA.body,e=this.colliderB.body,i=this.mtv,n=this.normal;if(t!==e){var r=M(this.mtv);if(this.colliderA.emit("precollision",new xt(this.colliderA,this.colliderB,r,this.mtv)),this.colliderB.emit("precollision",new xt(this.colliderB,this.colliderA,T(r),this.mtv.negate())),this.colliderA.type!==ne.Passive&&this.colliderB.type!==ne.Passive){var o=this.colliderA.type===ne.Fixed?0:1/this.colliderA.mass,s=this.colliderB.type===ne.Fixed?0:1/this.colliderB.mass,a=this.colliderA.type===ne.Fixed?0:1/this.colliderA.inertia,c=this.colliderB.type===ne.Fixed?0:1/this.colliderB.inertia,h=Math.min(this.colliderA.bounciness,this.colliderB.bounciness),u=Math.min(this.colliderA.friction,this.colliderB.friction),l=(n=n.normalize()).normal().normalize(),p=this.point.sub(this.colliderA.center),d=this.point.sub(this.colliderB.center),f=e.vel.add(d.cross(-e.rx)).sub(t.vel.sub(p.cross(t.rx))),g=f.dot(n),y=f.dot(l),_=p.dot(l),v=p.dot(n),m=d.dot(l),b=d.dot(n);if(!(g>0)){var w=-(1+h)*g/(o+s+a*_*_+c*m*m);if(this.colliderA.type===ne.Fixed?(e.vel=e.vel.add(n.scale(w*s)),Te.allowRigidBodyRotation&&(e.rx-=w*c*-d.cross(n)),e.addMtv(i)):this.colliderB.type===ne.Fixed?(t.vel=t.vel.sub(n.scale(w*o)),Te.allowRigidBodyRotation&&(t.rx+=w*a*-p.cross(n)),t.addMtv(i.negate())):(e.vel=e.vel.add(n.scale(w*s)),t.vel=t.vel.sub(n.scale(w*o)),Te.allowRigidBodyRotation&&(e.rx-=w*c*-d.cross(n),t.rx+=w*a*-p.cross(n)),e.addMtv(i.scale(.5)),t.addMtv(i.scale(-.5))),u&&y){var x=f.sub(n.scale(f.dot(n))).normalize(),P=f.dot(x)/(o+s+v*v*a+b*b*c),S=new V(0,0);S=Math.abs(P)<=w*u?x.scale(P).negate():x.scale(-w*u),this.colliderA.type===ne.Fixed?(e.vel=e.vel.add(S.scale(s)),Te.allowRigidBodyRotation&&(e.rx+=S.dot(x)*c*d.cross(x))):this.colliderB.type===ne.Fixed?(t.vel=t.vel.sub(S.scale(o)),Te.allowRigidBodyRotation&&(t.rx-=S.dot(x)*a*p.cross(x))):(e.vel=e.vel.add(S.scale(s)),t.vel=t.vel.sub(S.scale(o)),Te.allowRigidBodyRotation&&(e.rx+=S.dot(x)*c*d.cross(x),t.rx-=S.dot(x)*a*p.cross(x)))}this.colliderA.emit("postcollision",new Pt(this.colliderA,this.colliderB,r,this.mtv)),this.colliderB.emit("postcollision",new Pt(this.colliderB,this.colliderA,T(r),this.mtv.negate()))}}}},t}(),ke={CollideCircleCircle:function(t,e){var i=t.radius+e.radius,n=t.worldPos,r=e.worldPos;if(n.distance(r)>i)return null;var o=r.sub(n).normalize(),s=o.scale(i-r.distance(n)),a=t.getFurthestPoint(o);return new De(t.collider,e.collider,s,a,o)},CollideCirclePolygon:function(t,e){var i=t.testSeparatingAxisTheorem(e);if(!i)return null;var n=i.dot(e.center.sub(t.center));i=n<0?i.negate():i;var r=[],o=e.getFurthestPoint(i.negate()),s=t.getFurthestPoint(i);return t.contains(o)&&r.push(o),e.contains(s)&&r.push(s),0===r.length?null:new De(t.collider,e.collider,i,2===r.length?r[0].average(r[1]):r[0],i.normalize())},CollideCircleEdge:function(t,e){var i=t.center,n=e.end.sub(e.begin),r=n.dot(e.end.sub(i)),o=n.dot(i.sub(e.begin));if(o<=0){var s=e.begin.sub(i),a=s.dot(s);return a>t.radius*t.radius?null:new De(t.collider,e.collider,s.normalize().scale(t.radius-Math.sqrt(a)),e.begin,s.normalize())}if(r<=0){var c=e.end.sub(i),h=c.dot(c);return h>t.radius*t.radius?null:new De(t.collider,e.collider,c.normalize().scale(t.radius-Math.sqrt(h)),e.end,c.normalize())}var u=n.dot(n),l=e.begin.scale(r).add(e.end.scale(o)).scale(1/u),p=i.sub(l),d=p.dot(p);if(d>t.radius*t.radius)return null;var f=n.perpendicular();f.dot(i.sub(e.begin))<0&&(f.x=-f.x,f.y=-f.y);var g=(f=f.normalize()).scale(Math.abs(t.radius-Math.sqrt(d)));return new De(t.collider,e.collider,g.negate(),l,f.negate())},CollideEdgeEdge:function(){return null},CollidePolygonEdge:function(t,e){var i=e.end.sub(e.begin).normal();if(t.contains(e.begin)){var n=t.getClosestFace(e.begin),r=n.distance,o=n.face;if(r)return new De(t.collider,e.collider,r.negate(),e.begin.add(r.negate()),o.normal().negate())}if(t.contains(e.end)){var s=t.getClosestFace(e.end);r=s.distance,o=s.face;if(r)return new De(t.collider,e.collider,r.negate(),e.end.add(r.negate()),o.normal().negate())}var a=t.center,c=e.center.sub(a).normalize(),h=new Ie({collider:e.collider,points:[e.begin,e.end,e.end.add(c.scale(30)),e.begin.add(c.scale(30))]}),u=t.testSeparatingAxisTheorem(h);return u?(i=i.dot(c)<0?i.negate():i,u=u.dot(c)<0?u.negate():u,new De(t.collider,e.collider,u,t.getFurthestPoint(i),i)):null},CollidePolygonPolygon:function(t,e){var i=t.testSeparatingAxisTheorem(e);if(!i)return null;var n=i.dot(e.center.sub(t.center));i=n<0?i.negate():i;var r=[],o=t.getFurthestPoint(i),s=e.getFurthestPoint(i.negate());e.contains(o)&&r.push(o),t.contains(s)&&r.push(s),0===r.length&&r.push(s);var a=2===r.length?r[0].add(r[1]).scale(.5):r[0];return new De(t.collider,e.collider,i,a,i.normalize())}};function Be(t,e,i,n){var r=t.sub(i),o=e.dot(e),s=e.dot(n),a=n.dot(n),c=e.dot(r),h=n.dot(r),u=o*a-s*s,l=u,p=u;if(0===u||u<=.01){var d=c/s;return new X(t,i.add(n.scale(d)))}var f=s*h-a*c,g=o*h-s*c;return f<0?(f=0,g=h,p=a):f>l&&(f=l,g=h+s,p=a),g<0?(g=0,-c<0?f=0:-c>o?f=l:(f=-c,l=o)):g>p&&(g=p,-c+s<0?f=0:-c+s>o?f=l:(f=-c+s,l=o)),f=Math.abs(f)<.001?0:f/l,g=Math.abs(g)<.001?0:g/p,new X(t.add(e.scale(f)),i.add(n.scale(g)))}var Re={PolygonPolygonClosestLine:function(t,e){var i=e.worldPos,n=i.sub(t.worldPos),r=n.negate(),o=new G(t.worldPos,n),s=new G(i,r),a=t.rayCast(o).add(o.dir.scale(.1)),c=e.rayCast(s).add(s.dir.scale(.1)),h=t.getClosestFace(a),u=e.getClosestFace(c);return Be(h.face.begin,h.face.getEdge(),u.face.begin,u.face.getEdge())},PolygonEdgeClosestLine:function(t,e){var i=e.worldPos.sub(t.worldPos),n=new G(t.worldPos,i),r=t.rayCast(n).add(n.dir.scale(.1)),o=t.getClosestFace(r),s=o.face.begin,a=o.face.getEdge(),c=e.asLine();return Be(s,a,c.begin,c.getEdge())},PolygonCircleClosestLine:function(t,e){var i=e.worldPos,n=i.sub(t.worldPos),r=new G(t.worldPos,n.normalize()),o=t.rayCast(r).add(r.dir.scale(.1)),s=t.getClosestFace(o),a=s.face.begin,c=s.face.getEdge(),h=(c.x*(i.x-a.x)+c.y*(i.y-a.y))/(c.x*c.x+c.y*c.y);h>1?h=1:h<0&&(h=0);var u=Math.sqrt(Math.pow(a.x+c.x*h-i.x,2)+Math.pow(a.y+c.y*h-i.y,2))-e.radius,l=(a.x+c.x*h-i.x)*e.radius/(e.radius+u),p=(a.y+c.y*h-i.y)*e.radius/(e.radius+u);return new X(c.scale(h).add(a),new V(i.x+l,i.y+p))},CircleCircleClosestLine:function(t,e){var i=e.worldPos.sub(t.worldPos),n=t.worldPos.sub(e.worldPos),r=new G(t.worldPos,i),o=new G(e.worldPos,n),s=t.rayCast(r),a=e.rayCast(o);return new X(s,a)},CircleEdgeClosestLine:function(t,e){var i=t.worldPos,n=e.asLine(),r=n.begin,o=n.getEdge(),s=(o.x*(i.x-r.x)+o.y*(i.y-r.y))/(o.x*o.x+o.y*o.y);s>1?s=1:s<0&&(s=0);var a=Math.sqrt(Math.pow(r.x+o.x*s-i.x,2)+Math.pow(r.y+o.y*s-i.y,2))-t.radius,c=(r.x+o.x*s-i.x)*t.radius/(t.radius+a),h=(r.y+o.y*s-i.y)*t.radius/(t.radius+a);return new X(o.scale(s).add(r),new V(i.x+c,i.y+h))},EdgeEdgeClosestLine:function(t,e){var i=t.asLine(),n=i.begin,r=i.getEdge(),o=e.asLine();return Be(n,r,o.begin,o.getEdge())}},je=function(){function t(t){this.offset=V.Zero,this.offset=t.offset||V.Zero,this.radius=t.radius||0,this.collider=t.collider||null}return Object.defineProperty(t.prototype,"worldPos",{get:function(){return this.collider&&this.collider.body?this.collider.body.pos.add(this.offset):this.offset},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t({offset:this.offset.clone(),radius:this.radius,collider:null})},Object.defineProperty(t.prototype,"center",{get:function(){return this.collider&&this.collider.body?this.offset.add(this.collider.body.pos):this.offset},enumerable:!0,configurable:!0}),t.prototype.contains=function(t){var e=this.offset;return this.collider&&this.collider.body&&(e=this.collider.body.pos),e.distance(t)<=this.radius},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);var i=this.center,n=t.dir,r=t.pos,o=Math.sqrt(Math.pow(n.dot(r.sub(i)),2)-Math.pow(r.sub(i).distance(),2)+Math.pow(this.radius,2));if(o<0)return null;var s=0;if(0===o)return(s=-n.dot(r.sub(i)))>0&&s<e?t.getPoint(s):null;var a=-n.dot(r.sub(i))+o,c=-n.dot(r.sub(i))-o,h=[];a>=0&&h.push(a),c>=0&&h.push(c);var u=Math.min.apply(Math,h);return u<=e?t.getPoint(u):null},t.prototype.getClosestLineBetween=function(e){if(e instanceof t)return Re.CircleCircleClosestLine(this,e);if(e instanceof Ie)return Re.PolygonCircleClosestLine(e,this).flip();if(e instanceof Fe)return Re.CircleEdgeClosestLine(this,e).flip();throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.collide=function(e){if(e instanceof t)return ke.CollideCircleCircle(this,e);if(e instanceof Ie)return ke.CollideCirclePolygon(this,e);if(e instanceof Fe)return ke.CollideCircleEdge(this,e);throw new Error("Circle could not collide with unknown CollisionShape "+typeof e)},t.prototype.getFurthestPoint=function(t){return this.center.add(t.normalize().scale(this.radius))},Object.defineProperty(t.prototype,"bounds",{get:function(){var t=V.Zero;return this.collider&&this.collider.body&&(t=this.collider.body.pos),new Me(this.offset.x+t.x-this.radius,this.offset.y+t.y-this.radius,this.offset.x+t.x+this.radius,this.offset.y+t.y+this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return new Me(this.offset.x-this.radius,this.offset.y-this.radius,this.offset.x+this.radius,this.offset.y+this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertia",{get:function(){return(this.collider?this.collider.mass:Te.defaultMass)*this.radius*this.radius/2},enumerable:!0,configurable:!0}),t.prototype.testSeparatingAxisTheorem=function(t){var e=t.axes,i=t.center,n=t.getFurthestPoint(this.offset.sub(i));e.push(this.offset.sub(n).normalize());for(var r=Number.MAX_VALUE,o=null,s=-1,a=0;a<e.length;a++){var c=t.project(e[a]),h=this.project(e[a]),u=c.getOverlap(h);if(u<=0)return null;u<r&&(r=u,o=e[a],s=a)}return s<0?null:o.normalize().scale(r)},t.prototype.recalc=function(){},t.prototype.project=function(t){var e=[],i=this.center.dot(t);return e.push(i),e.push(i+this.radius),e.push(i-this.radius),new K(Math.min.apply(Math,e),Math.max.apply(Math,e))},t.prototype.draw=function(t,e,i){void 0===e&&(e=Lt.Green),void 0===i&&(i=V.Zero);var n=i.add(this.offset);t.beginPath(),t.fillStyle=e.toString(),t.arc(n.x,n.y,this.radius,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.debugDraw=function(t,e){void 0===e&&(e=Lt.Green);var i=this.collider.body,n=i?i.pos.add(this.offset):this.offset,r=i?i.rotation:0;t.beginPath(),t.strokeStyle=e.toString(),t.arc(n.x,n.y,this.radius,0,2*Math.PI),t.closePath(),t.stroke(),t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(Math.cos(r)*this.radius+n.x,Math.sin(r)*this.radius+n.y),t.closePath(),t.stroke()},t}(),Fe=function(){function t(t){this.begin=t.begin||V.Zero,this.end=t.end||V.Zero,this.collider=t.collider||null,this.offset=this.center}return t.prototype.clone=function(){return new t({begin:this.begin.clone(),end:this.end.clone(),collider:null})},Object.defineProperty(t.prototype,"worldPos",{get:function(){return this.collider&&this.collider.body?this.collider.body.pos.add(this.offset):this.offset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.begin.average(this.end).add(this._getBodyPos())},enumerable:!0,configurable:!0}),t.prototype._getBodyPos=function(){var t=V.Zero;return this.collider&&this.collider.body&&(t=this.collider.body.pos),t},t.prototype._getTransformedBegin=function(){var t=this.collider?this.collider.body:null,e=t?t.rotation:0;return this.begin.rotate(e).add(this._getBodyPos())},t.prototype._getTransformedEnd=function(){var t=this.collider?this.collider.body:null,e=t?t.rotation:0;return this.end.rotate(e).add(this._getBodyPos())},t.prototype.getSlope=function(){var t=this._getTransformedBegin(),e=this._getTransformedEnd(),i=t.distance(e);return e.sub(t).scale(1/i)},t.prototype.getLength=function(){var t=this._getTransformedBegin(),e=this._getTransformedEnd();return t.distance(e)},t.prototype.contains=function(){return!1},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);var i=this._getTransformedBegin().sub(t.pos);if(0===t.dir.cross(this.getSlope())&&0!==i.cross(t.dir))return null;var n=t.dir.cross(this.getSlope());if(0===n)return null;var r=i.cross(this.getSlope())/n;if(r>=0&&r<=e){var o=i.cross(t.dir)/n/this.getLength();if(o>=0&&o<=1)return t.getPoint(r)}return null},t.prototype.getClosestLineBetween=function(e){if(e instanceof je)return Re.CircleEdgeClosestLine(e,this);if(e instanceof Ie)return Re.PolygonEdgeClosestLine(e,this).flip();if(e instanceof t)return Re.EdgeEdgeClosestLine(this,e);throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.collide=function(e){if(e instanceof je)return ke.CollideCircleEdge(e,this);if(e instanceof Ie)return ke.CollidePolygonEdge(e,this);if(e instanceof t)return ke.CollideEdgeEdge();throw new Error("Edge could not collide with unknown CollisionShape "+typeof e)},t.prototype.getFurthestPoint=function(t){var e=this._getTransformedBegin(),i=this._getTransformedEnd();return t.dot(e)>0?e:i},t.prototype._boundsFromBeginEnd=function(t,e){return new Me(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y))},Object.defineProperty(t.prototype,"bounds",{get:function(){var t=this._getTransformedBegin(),e=this._getTransformedEnd();return this._boundsFromBeginEnd(t,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return this._boundsFromBeginEnd(this.begin,this.end)},enumerable:!0,configurable:!0}),t.prototype.asLine=function(){return new X(this._getTransformedBegin(),this._getTransformedEnd())},t.prototype.asLocalLine=function(){return new X(this.begin,this.end)},Object.defineProperty(t.prototype,"axes",{get:function(){var t=this._getTransformedEnd().sub(this._getTransformedBegin()).normal(),e=[];return e.push(t),e.push(t.negate()),e.push(t.normal()),e.push(t.normal().negate()),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertia",{get:function(){var t=this.collider?this.collider.mass:Te.defaultMass,e=this.end.sub(this.begin).distance()/2;return t*e*e},enumerable:!0,configurable:!0}),t.prototype.recalc=function(){},t.prototype.project=function(t){for(var e=[],i=[this._getTransformedBegin(),this._getTransformedEnd()],n=i.length,r=0;r<n;r++)e.push(i[r].dot(t));return new K(Math.min.apply(Math,e),Math.max.apply(Math,e))},t.prototype.draw=function(t,e,i){void 0===e&&(e=Lt.Green),void 0===i&&(i=V.Zero);var n=this.begin.add(i),r=this.end.add(i);t.strokeStyle=e.toString(),t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(r.x,r.y),t.closePath(),t.stroke()},t.prototype.debugDraw=function(t,e){void 0===e&&(e=Lt.Red);var i=this._getTransformedBegin(),n=this._getTransformedEnd();t.strokeStyle=e.toString(),t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(n.x,n.y),t.closePath(),t.stroke()},t}(),Ie=function(){function t(t){this._transformedPoints=[],this._axes=[],this._sides=[],this.offset=t.offset||V.Zero;var e=!!t.clockwiseWinding;this.points=(e?t.points.reverse():t.points)||[],this.collider=this.collider=t.collider||null,this._calculateTransformation()}return t.prototype.clone=function(){return new t({offset:this.offset.clone(),points:this.points.map((function(t){return t.clone()})),collider:null})},Object.defineProperty(t.prototype,"worldPos",{get:function(){return this.collider&&this.collider.body?this.collider.body.pos.add(this.offset):this.offset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){var t=this.collider?this.collider.body:null;return t?t.pos.add(this.offset):this.offset},enumerable:!0,configurable:!0}),t.prototype._calculateTransformation=function(){var t=this.collider?this.collider.body:null,e=t?t.pos.add(this.offset):this.offset,i=t?t.rotation:0,n=t?t.scale:V.One,r=this.points.length;this._transformedPoints.length=0;for(var o=0;o<r;o++)this._transformedPoints[o]=this.points[o].scale(n).rotate(i).add(e)},t.prototype.getTransformedPoints=function(){return this._transformedPoints.length&&(!this.collider||!this.collider.body||this.collider.body.oldPos.equals(this.collider.body.pos)&&this.collider.body.oldRotation===this.collider.body.rotation&&this.collider.body.oldScale===this.collider.body.scale)||this._calculateTransformation(),this._transformedPoints},t.prototype.getSides=function(){if(this._sides.length)return this._sides;for(var t=[],e=this.getTransformedPoints(),i=e.length,n=0;n<i;n++)t.push(new X(e[n],e[(n-1+i)%i]));return this._sides=t,this._sides},t.prototype.recalc=function(){this._sides.length=0,this._axes.length=0,this._transformedPoints.length=0,this.getTransformedPoints(),this.getSides()},t.prototype.contains=function(t){var e=new G(t,new V(1,0));return this.getSides().reduce((function(t,i){return e.intersect(i)>=0?t+1:t}),0)%2!=0},t.prototype.getClosestLineBetween=function(e){if(e instanceof je)return Re.PolygonCircleClosestLine(this,e);if(e instanceof t)return Re.PolygonPolygonClosestLine(this,e);if(e instanceof Fe)return Re.PolygonEdgeClosestLine(this,e);throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.collide=function(e){if(e instanceof je)return ke.CollideCirclePolygon(e,this);if(e instanceof t)return ke.CollidePolygonPolygon(this,e);if(e instanceof Fe)return ke.CollidePolygonEdge(this,e);throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.getFurthestPoint=function(t){for(var e=this.getTransformedPoints(),i=null,n=-Number.MAX_VALUE,r=0;r<e.length;r++){var o=t.dot(e[r]);o>n&&(n=o,i=e[r])}return i},t.prototype.getClosestFace=function(t){for(var e=this.getSides(),i=Number.POSITIVE_INFINITY,n=-1,r=-1,o=0;o<e.length;o++){var s=e[o].distanceToPoint(t);s<i&&(i=s,n=o,r=s)}return-1!==n?{distance:e[n].normal().scale(r),face:e[n]}:null},Object.defineProperty(t.prototype,"bounds",{get:function(){var t=this.getTransformedPoints();return Me.fromPoints(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return Me.fromPoints(this.points)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertia",{get:function(){for(var t=this.collider?this.collider.mass:Te.defaultMass,e=0,i=0,n=0;n<this.points.length;n++){var r=(n+1)%this.points.length,o=this.points[r].cross(this.points[n]);e+=o*(this.points[n].dot(this.points[n])+this.points[n].dot(this.points[r])+this.points[r].dot(this.points[r])),i+=o}return t/6*(e/i)},enumerable:!0,configurable:!0}),t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);for(var i=this.getSides(),n=i.length,r=Number.MAX_VALUE,o=-1,s=0;s<n;s++){var a=t.intersect(i[s]);a>=0&&a<r&&a<=e&&(r=a,o=s)}return o>=0?t.getPoint(r):null},Object.defineProperty(t.prototype,"axes",{get:function(){if(this._axes.length)return this._axes;for(var t=[],e=this.getTransformedPoints(),i=e.length,n=0;n<i;n++)t.push(e[n].sub(e[(n+1)%i]).normal());return this._axes=t,this._axes},enumerable:!0,configurable:!0}),t.prototype.testSeparatingAxisTheorem=function(t){for(var e=t,i=this.axes.concat(e.axes),n=Number.MAX_VALUE,r=null,o=-1,s=0;s<i.length;s++){var a=this.project(i[s]),c=e.project(i[s]),h=a.getOverlap(c);if(h<=0)return null;h<n&&(n=h,r=i[s],o=s)}return-1===o?null:r.normalize().scale(n)},t.prototype.project=function(t){for(var e=this.getTransformedPoints(),i=e.length,n=Number.MAX_VALUE,r=-Number.MAX_VALUE,o=0;o<i;o++){var s=e[o].dot(t);n=Math.min(n,s),r=Math.max(r,s)}return new K(n,r)},t.prototype.draw=function(t,e,i){void 0===e&&(e=Lt.Green),void 0===i&&(i=V.Zero),t.beginPath(),t.fillStyle=e.toString();var n=i.add(this.offset),r=this.points[0].add(n);t.moveTo(r.x,r.y),this.points.map((function(t){return t.add(n)})).forEach((function(e){t.lineTo(e.x,e.y)})),t.lineTo(r.x,r.y),t.closePath(),t.fill()},t.prototype.debugDraw=function(t,e){void 0===e&&(e=Lt.Red),t.beginPath(),t.strokeStyle=e.toString();var i=this.getTransformedPoints()[0];t.moveTo(i.x,i.y),this.getTransformedPoints().forEach((function(e){t.lineTo(e.x,e.y)})),t.lineTo(i.x,i.y),t.closePath(),t.stroke()},t}(),Le=function(){function t(){}return t.Box=function(t,e,i,n){return void 0===i&&(i=V.Half),void 0===n&&(n=V.Zero),new Ie({points:new Me(-t*i.x,-e*i.y,t-t*i.x,e-e*i.y).getPoints(),offset:n})},t.Polygon=function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=V.Zero),new Ie({points:t,offset:i,clockwiseWinding:e})},t.Circle=function(t,e){return void 0===e&&(e=V.Zero),new je({radius:t,offset:e})},t.Edge=function(t,e){return new Fe({begin:t,end:e})},t}(),ze=function(){function t(t){var e=t.actor,i=t.collider;if(this.pos=new V(0,0),this.oldPos=new V(0,0),this.vel=new V(0,0),this.oldVel=new V(0,0),this.acc=new V(0,0),this.oldAcc=V.Zero,this.torque=0,this.motion=10,this.oldRotation=0,this.rotation=0,this.scale=V.One,this.oldScale=V.One,this.sx=0,this.sy=0,this.rx=0,this._geometryDirty=!1,this._totalMtv=V.Zero,!e&&!i)throw new Error("An actor or collider are required to create a body");this.actor=e,this.collider=!i&&e?this.useBoxCollider(e.width,e.height,e.anchor):i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.actor?this.actor.id:-1},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t({actor:null,collider:this.collider.clone()})},Object.defineProperty(t.prototype,"active",{get:function(){return!!this.actor&&!this.actor.isKilled()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.pos},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collider",{get:function(){return this._collider},set:function(t){t&&(this._collider=t,this._collider.body=this,this._wireColliderEventsToActor())},enumerable:!0,configurable:!0}),t.prototype.addMtv=function(t){this._totalMtv.addEqual(t)},t.prototype.applyMtv=function(){this.pos.addEqual(this._totalMtv),this._totalMtv.setTo(0,0)},t.prototype.markCollisionShapeDirty=function(){this._geometryDirty=!0},Object.defineProperty(t.prototype,"isColliderShapeDirty",{get:function(){return this._geometryDirty},enumerable:!0,configurable:!0}),t.prototype.captureOldTransform=function(){this.oldVel.setTo(this.vel.x,this.vel.y),this.oldPos.setTo(this.pos.x,this.pos.y),this.oldAcc.setTo(this.acc.x,this.acc.y),this.oldScale.setTo(this.scale.x,this.scale.y),this.oldRotation=this.rotation},t.prototype.integrate=function(t){var e=t/1e3,i=this.acc.clone();this.collider.type===ne.Active&&i.addEqual(Te.acc),this.vel.addEqual(i.scale(e)),this.pos.addEqual(this.vel.scale(e)).addEqual(i.scale(.5*e*e)),this.rx+=this.torque*(1/this.collider.inertia)*e,this.rotation+=this.rx*e,this.scale.x+=this.sx*t/1e3,this.scale.y+=this.sy*t/1e3,this.scale.equals(this.oldScale)||(this._geometryDirty=!0),this.collider.update(),this._geometryDirty=!1},t.prototype.useBoxCollider=function(t,e,i,n){return void 0===i&&(i=V.Half),void 0===n&&(n=V.Zero),null==t&&(t=this.actor?this.actor.width:0),null==e&&(e=this.actor?this.actor.height:0),this.collider.shape=Le.Box(t,e,i,n),this.collider},t.prototype.usePolygonCollider=function(t,e){return void 0===e&&(e=V.Zero),this.collider.shape=Le.Polygon(t,!1,e),this.collider},t.prototype.useCircleCollider=function(t,e){return void 0===e&&(e=V.Zero),this.collider.shape=Le.Circle(t,e),this.collider},t.prototype.useEdgeCollider=function(t,e){return this.collider.shape=Le.Edge(t,e),this.collider},t.prototype._wireColliderEventsToActor=function(){var t=this;this.collider.clear(),this.collider.on("precollision",(function(e){t.actor&&t.actor.emit("precollision",new xt(e.target.body.actor,e.other.body.actor,e.side,e.intersection))})),this.collider.on("postcollision",(function(e){t.actor&&t.actor.emit("postcollision",new Pt(e.target.body.actor,e.other.body.actor,e.side,e.intersection))})),this.collider.on("collisionstart",(function(e){t.actor&&t.actor.emit("collisionstart",new St(e.target.body.actor,e.other.body.actor,e.pair))})),this.collider.on("collisionend",(function(e){t.actor&&t.actor.emit("collisionend",new Et(e.target.body.actor,e.other.body.actor))}))},t}(),He=function(){function t(){}return t.prototype.update=function(t,e){var i=t.eventDispatcher;if(t.body.collider.type!==ne.PreventCollision&&e.currentScene&&e.currentScene.tileMaps)for(var n=0;n<e.currentScene.tileMaps.length;n++)for(var r=e.currentScene.tileMaps[n],o=void 0,s=p.None,a=2;(o=r.collides(t))&&!(a--<0);)s=Me.getSideFromIntersection(o),i.emit("precollision",new xt(t,null,s,o)),t.body.collider.type===ne.Active&&(t.pos.y+=o.y,t.pos.x+=o.x,i.emit("postcollision",new Pt(t,null,s,o)))},t}(),We=function(){function t(){this._topLeft=new V(0,0),this._topRight=new V(0,0),this._bottomLeft=new V(0,0),this._bottomRight=new V(0,0)}return t.prototype.isSpriteOffScreen=function(t,e){var i=t.currentDrawing.drawWidth,n=t.currentDrawing.drawHeight,r=t.rotation,o=t.center,s=t.getWorldPos();this._topLeft.x=s.x-i/2,this._topLeft.y=s.y-n/2,this._topLeft=this._topLeft.rotate(r,o),this._topRight.x=s.x+i/2,this._topRight.y=s.y-n/2,this._topRight=this._topRight.rotate(r,o),this._bottomLeft.x=s.x-i/2,this._bottomLeft.y=s.y+n/2,this._bottomLeft=this._bottomLeft.rotate(r,o),this._bottomRight.x=s.x+i/2,this._bottomRight.y=s.y+n/2,this._bottomRight=this._bottomRight.rotate(r,o);var a=e.worldToScreenCoordinates(this._topLeft),c=e.worldToScreenCoordinates(this._topRight),h=e.worldToScreenCoordinates(this._bottomLeft),u=e.worldToScreenCoordinates(this._bottomRight);this._xCoords=[],this._yCoords=[],this._xCoords.push(a.x,c.x,h.x,u.x),this._yCoords.push(a.y,c.y,h.y,u.y),this._xMin=Math.min.apply(null,this._xCoords),this._yMin=Math.min.apply(null,this._yCoords),this._xMax=Math.max.apply(null,this._xCoords),this._yMax=Math.max.apply(null,this._yCoords);var l=e.screenToWorldCoordinates(new V(this._xMin,this._yMin)),p=e.screenToWorldCoordinates(new V(this._xMax,this._yMax));this._xMinWorld=l.x,this._yMinWorld=l.y,this._xMaxWorld=p.x,this._yMaxWorld=p.y;var d=[new V(this._xMin,this._yMin),new V(this._xMax,this._yMin),new V(this._xMin,this._yMax),new V(this._xMax,this._yMax)];if(d[0].x<0&&d[1].x>e.canvas.clientWidth&&(d[0].y>0||d[2].y<e.canvas.clientHeight))return!1;if(d[0].y<0&&d[2].y>e.canvas.clientHeight&&(d[1].x>0||d[0].x<e.canvas.clientWidth))return!1;for(var f=0;f<d.length;f++)if(d[f].x>0&&d[f].y>0&&d[f].x<e.canvas.clientWidth&&d[f].y<e.canvas.clientHeight)return!1;return!0},t.prototype.debugDraw=function(t){t.beginPath(),t.strokeStyle=Lt.White.toString(),t.rect(this._xMinWorld,this._yMinWorld,this._xMaxWorld-this._xMinWorld,this._yMaxWorld-this._yMinWorld),t.stroke(),t.fillStyle=Lt.Red.toString(),t.beginPath(),t.arc(this._topLeft.x,this._topLeft.y,5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle=Lt.Green.toString(),t.beginPath(),t.arc(this._topRight.x,this._topRight.y,5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle=Lt.Blue.toString(),t.beginPath(),t.arc(this._bottomLeft.x,this._bottomLeft.y,5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle=Lt.Magenta.toString(),t.beginPath(),t.arc(this._bottomRight.x,this._bottomRight.y,5,0,2*Math.PI),t.closePath(),t.fill()},t}(),Ue=function(){function t(){this.cullingBox=new We}return t.prototype.update=function(t,e){var i=t.eventDispatcher,n=!0;null!=t.currentDrawing&&(n=this.cullingBox.isSpriteOffScreen(t,e));var r=!1;e&&e.currentScene&&e.currentScene.camera&&e.currentScene.camera.viewport&&(r=!e.currentScene.camera.viewport.intersect(t.body.collider.bounds)),t.isOffScreen?r&&n||(i.emit("enterviewport",new Mt(t)),t.isOffScreen=!1):r&&n&&(i.emit("exitviewport",new Tt(t)),t.isOffScreen=!0)},t}(),Ne=function(){function t(){}return t.prototype.update=function(t,e){t.enableCapturePointer&&(t.isKilled()||e.input.pointers.checkAndUpdateActorUnderPointer(t))},t}();function qe(t,e,i,n,r,o,s,a){void 0===e&&(e=Lt.Red),void 0===s&&(s=1),void 0===a&&(a="butt"),t.beginPath(),t.lineWidth=s,t.lineCap=a,t.strokeStyle=e.toString(),t.moveTo(i,n),t.lineTo(r,o),t.closePath(),t.stroke()}function Ve(t,e,i){void 0===e&&(e=Lt.Red),t.beginPath(),t.strokeStyle=e.toString(),t.arc(i.x,i.y,5,0,2*Math.PI),t.closePath(),t.stroke()}function Ge(t,e,i,n,r){void 0===r&&(r=1);var o=e?e.toString():"blue",s=n.scale(r);t.beginPath(),t.strokeStyle=o,t.moveTo(i.x,i.y),t.lineTo(i.x+s.x,i.y+s.y),t.closePath(),t.stroke()}function Xe(t,e,i,n,r,o,s,a){var c;if(void 0===o&&(o=5),void 0===s&&(s=Lt.White),void 0===a&&(a=null),"number"==typeof o)c={tl:o,tr:o,br:o,bl:o};else{var h={tl:0,tr:0,br:0,bl:0};for(var u in h)if(h.hasOwnProperty(u)){var l=u;c[l]=o[l]||h[l]}}t.beginPath(),t.moveTo(e+c.tl,i),t.lineTo(e+n-c.tr,i),t.quadraticCurveTo(e+n,i,e+n,i+c.tr),t.lineTo(e+n,i+r-c.br),t.quadraticCurveTo(e+n,i+r,e+n-c.br,i+r),t.lineTo(e+c.bl,i+r),t.quadraticCurveTo(e,i+r,e,i+r-c.bl),t.lineTo(e,i+c.tl),t.quadraticCurveTo(e,i,e+c.tl,i),t.closePath(),a&&(t.fillStyle=a.toString(),t.fill()),s&&(t.strokeStyle=s.toString(),t.stroke())}function Ke(t,e,i,n,r,o){void 0===r&&(r=Lt.White),void 0===o&&(o=null),t.beginPath(),t.arc(e,i,n,0,2*Math.PI),t.closePath(),o&&(t.fillStyle=o.toString(),t.fill()),r&&(t.strokeStyle=r.toString(),t.stroke())}var Ye=function(){function t(t,e,i){this._name=t,this._category=e,this._mask=i}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"category",{get:function(){return this._category},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),t.prototype.canCollide=function(t){return 0!=(this.category&t.mask)&&0!=(t.category&this.mask)},t.All=new t("Collide with all groups",-1,-1),t}(),Ze=function(){function t(e,i){this.colliderA=e,this.colliderB=i,this.id=null,this.collision=null,this.id=t.calculatePairHash(e,i)}return t.canCollide=function(t,e){return!!t.group.canCollide(e.group)&&((t.type!==ne.Fixed||e.type!==ne.Fixed)&&(e.type!==ne.PreventCollision&&t.type!==ne.PreventCollision&&!(!t.active||!e.active)))},Object.defineProperty(t.prototype,"canCollide",{get:function(){var e=this.colliderA,i=this.colliderB;return t.canCollide(e,i)},enumerable:!0,configurable:!0}),t.prototype.collide=function(){this.collision=this.colliderA.collide(this.colliderB)},t.prototype.resolve=function(t){this.collision&&this.collision.resolve(t)},t.calculatePairHash=function(t,e){return t.id<e.id?"#"+t.id+"+"+e.id:"#"+e.id+"+"+t.id},t.prototype.debugDraw=function(t){this.collision&&(Te.showContacts&&Ve(t,Lt.Red,this.collision.point),Te.showCollisionNormals&&Ge(t,Lt.Cyan,this.collision.point,this.collision.normal,30))},t}();function Qe(t){return t instanceof Je}var Je=function(){function t(t){var e=t.body,i=t.type,n=t.group,r=t.shape,o=t.offset,s=t.useShapeInertia,a=void 0===s||s;this._events=new Bt(this),this.type=ne.PreventCollision,this.group=Ye.All,this.mass=1,this.inertia=1e3,this.friction=.99,this.bounciness=.2,e&&e.collider&&!r?this._shape=e.collider.shape:(this._shape=r,this.body=e),this.useShapeInertia=a,this._shape.collider=this,this.type=i||this.type,this.group=n||this.group,this.offset=o||V.Zero}return t.prototype.clone=function(){return new t({body:null,type:this.type,shape:this._shape.clone(),group:this.group,offset:this.offset})},Object.defineProperty(t.prototype,"id",{get:function(){return this.body?this.body.id:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){this._shape=t,this._shape.collider=this,this.useShapeInertia&&(this.inertia=isNaN(this._shape.inertia)?this.inertia:this._shape.inertia)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.bounds.center},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this.body.active},enumerable:!0,configurable:!0}),t.prototype.collide=function(t){return this.shape.collide(t.shape)},t.prototype.getClosestLineBetween=function(t){return this.shape.getClosestLineBetween(t.shape)},Object.defineProperty(t.prototype,"offset",{get:function(){return this.shape.offset.clone()},set:function(t){this.shape.offset=t.clone()},enumerable:!0,configurable:!0}),t.prototype.touching=function(t){var e=new Ze(this,t);return e.collide(),!!e.collision},Object.defineProperty(t.prototype,"bounds",{get:function(){return this.shape?this.shape.bounds:this.body?(new Me).translate(this.body.pos):new Me},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return this.shape?this.shape.localBounds:new Me},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.shape&&this.shape.recalc()},t.prototype.emit=function(t,e){this._events.emit(t,e)},t.prototype.on=function(t,e){this._events.on(t,e)},t.prototype.off=function(t,e){this._events.off(t,e)},t.prototype.once=function(t,e){this._events.once(t,e)},t.prototype.clear=function(){this._events.clear()},t.prototype.debugDraw=function(t){Te.showMotionVectors&&(Ge(t,Lt.Yellow,this.body.pos,this.body.acc.add(Te.acc)),Ge(t,Lt.Red,this.body.pos,this.body.vel),Ve(t,Lt.Red,this.body.pos)),Te.showBounds&&this.bounds.debugDraw(t,Lt.Yellow),Te.showArea&&this.shape.debugDraw(t,Lt.Green)},t}(),$e=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ti=function(t,e,i,n){var r,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,i,s):r(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s};function ei(t){return t instanceof ii}var ii=function(t){function e(e,i,n,r,o){return t.call(this,e,i,n,r,o)||this}return $e(e,t),e}(Zt(function(t){function e(i,n,r,o,s){var a=t.call(this)||this;a.id=e.maxId++,a._height=0,a._width=0,a.isOffScreen=!1,a.visible=!0,a.opacity=1,a.previousOpacity=1,a.logger=R.getInstance(),a.scene=null,a.parent=null,a.children=[],a._isInitialized=!1,a.frames={},a._effectsDirty=!1,a.currentDrawing=null,a._draggable=!1,a._dragging=!1,a._pointerDragStartHandler=function(){a._dragging=!0},a._pointerDragEndHandler=function(){a._dragging=!1},a._pointerDragMoveHandler=function(t){a._dragging&&(a.pos=t.pointer.lastWorldPos)},a._pointerDragLeaveHandler=function(t){a._dragging&&(a.pos=t.pointer.lastWorldPos)},a.traits=[],a.enableCapturePointer=!1,a.capturePointer={captureMoveEvents:!1,captureDragEvents:!1},a._zIndex=0,a._isKilled=!1,a._opacityFx=new Ut(a.opacity),a._capturePointerEvents=["pointerup","pointerdown","pointermove","pointerenter","pointerleave","pointerdragstart","pointerdragend","pointerdragmove","pointerdragenter","pointerdragleave"],a._captureMoveEvents=["pointermove","pointerenter","pointerleave","pointerdragmove","pointerdragenter","pointerdragleave"],a._captureDragEvents=["pointerdragstart","pointerdragend","pointerdragmove","pointerdragenter","pointerdragleave"],a._initDefaults();var c=!0,h=ne.Passive;if(i&&"object"==typeof i){var u=i;u.pos?(i=u.pos?u.pos.x:0,n=u.pos?u.pos.y:0):(i=u.x||0,n=u.y||0),r=u.width,o=u.height,u.body&&(c=!1,a.body=u.body),u.anchor&&(a.anchor=u.anchor),u.collisionType&&(h=u.collisionType)}return a._width=r||0,a._height=o||0,c&&(a.body=new ze({collider:new Je({type:h,shape:Le.Box(a._width,a._height,a.anchor)})})),a.pos.x=i||0,a.pos.y=n||0,s&&(a.color=s,a.opacity=s.a),a.traits.push(new He),a.traits.push(new Ue),a.traits.push(new Ne),a.actionQueue=new we(a),a.actions=new Se(a),a}return $e(e,t),Object.defineProperty(e.prototype,"body",{get:function(){return this._body},set:function(t){this._body=t,this._body.actor=this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this.body.pos},set:function(t){this.body.pos.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldPos",{get:function(){return this.body.oldPos},set:function(t){this.body.oldPos.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vel",{get:function(){return this.body.vel},set:function(t){this.body.vel.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldVel",{get:function(){return this.body.oldVel},set:function(t){this.body.oldVel.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"acc",{get:function(){return this.body.acc},set:function(t){this.body.acc.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldAcc",{get:function(){return this.body.oldAcc},set:function(t){this.body.oldAcc.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.body.rotation},set:function(t){this.body.rotation=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rx",{get:function(){return this.body.rx},set:function(t){this.body.rx=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.body.scale},set:function(t){this.body.scale=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldScale",{get:function(){return this.body.oldScale},set:function(t){this.body.oldScale=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sx",{get:function(){return this.body.sx},set:function(t){this.body.sx=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sy",{get:function(){return this.body.sy},set:function(t){this.body.sy=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this._draggable},set:function(t){t&&(t&&!this._draggable?(this.on("pointerdragstart",this._pointerDragStartHandler),this.on("pointerdragend",this._pointerDragEndHandler),this.on("pointerdragmove",this._pointerDragMoveHandler),this.on("pointerdragleave",this._pointerDragLeaveHandler)):!t&&this._draggable&&(this.off("pointerdragstart",this._pointerDragStartHandler),this.off("pointerdragend",this._pointerDragEndHandler),this.off("pointerdragmove",this._pointerDragMoveHandler),this.off("pointerdragleave",this._pointerDragLeaveHandler)),this._draggable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t.clone()},enumerable:!0,configurable:!0}),e.prototype.onInitialize=function(t){},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),e.prototype._initialize=function(e){this.isInitialized||(this.onInitialize(e),t.prototype.emit.call(this,"initialize",new At(e,this)),this._isInitialized=!0);for(var i=0,n=this.children;i<n.length;i++){n[i]._initialize(e)}},e.prototype._initDefaults=function(){this.anchor=ii.defaults.anchor.clone()},e.prototype._checkForPointerOptIn=function(t){if(t){var e=t.toLowerCase();-1!==this._capturePointerEvents.indexOf(e)&&(this.enableCapturePointer=!0,-1!==this._captureMoveEvents.indexOf(e)&&(this.capturePointer.captureMoveEvents=!0),-1!==this._captureDragEvents.indexOf(e)&&(this.capturePointer.captureDragEvents=!0))}},e.prototype.on=function(e,i){this._checkForPointerOptIn(e),t.prototype.on.call(this,e,i)},e.prototype.once=function(e,i){this._checkForPointerOptIn(e),t.prototype.once.call(this,e,i)},e.prototype.off=function(e,i){t.prototype.off.call(this,e,i)},e.prototype._prekill=function(e){t.prototype.emit.call(this,"prekill",new it(this)),this.onPreKill(e)},e.prototype.onPreKill=function(t){},e.prototype._postkill=function(e){t.prototype.emit.call(this,"postkill",new nt(this)),this.onPostKill(e)},e.prototype.onPostKill=function(t){},e.prototype.kill=function(){this.scene?(this._prekill(this.scene),this.emit("kill",new et(this)),this._isKilled=!0,this.scene.remove(this),this._postkill(this.scene)):this.logger.warn("Cannot kill actor, it was never added to the Scene")},e.prototype.unkill=function(){this._isKilled=!1},e.prototype.isKilled=function(){return this._isKilled},e.prototype.add=function(t){t.body.collider.type=ne.PreventCollision,A(t,this.children)&&(t.parent=this)},e.prototype.remove=function(t){C(t,this.children)&&(t.parent=null)},e.prototype.setDrawing=function(t){t=t.toString(),this.currentDrawing!==this.frames[t]&&(null!=this.frames[t]?(this.frames[t].reset(),this.currentDrawing=this.frames[t]):R.getInstance().error("the specified drawing key "+t+" does not exist"))},e.prototype.addDrawing=function(){2===arguments.length?(this.frames[arguments[0]]=arguments[1],this.currentDrawing||(this.currentDrawing=arguments[1]),this._effectsDirty=!0):(arguments[0]instanceof te&&this.addDrawing("default",arguments[0]),arguments[0]instanceof ie&&this.addDrawing("default",arguments[0].asSprite()))},Object.defineProperty(e.prototype,"z",{get:function(){return this.getZIndex()},set:function(t){this.setZIndex(t)},enumerable:!0,configurable:!0}),e.prototype.getZIndex=function(){return this._zIndex},e.prototype.setZIndex=function(t){this.scene.cleanupDrawTree(this),this._zIndex=t,this.scene.updateDrawTree(this)},Object.defineProperty(e.prototype,"center",{get:function(){return new V(this.pos.x+this.width/2-this.anchor.x*this.width,this.pos.y+this.height/2-this.anchor.y*this.height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width*this.getGlobalScale().x},set:function(t){this._width=t/this.scale.x,this.body.collider.shape=Le.Box(this._width,this._height,this.anchor),this.body.markCollisionShapeDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height*this.getGlobalScale().y},set:function(t){this._height=t/this.scale.y,this.body.collider.shape=Le.Box(this._width,this._height,this.anchor),this.body.markCollisionShapeDirty()},enumerable:!0,configurable:!0}),e.prototype.getWorldRotation=function(){return this.parent?this.rotation+this.parent.getWorldRotation():this.rotation},e.prototype.getWorldPos=function(){if(!this.parent)return this.pos.clone();var t=[],e=this;for(t.push(this);e.parent;)e=e.parent,t.push(e);var i=t.reduceRight((function(t,e){return e.parent?t+e.pos.x*e.getGlobalScale().x:t+e.pos.x}),0),n=t.reduceRight((function(t,e){return e.parent?t+e.pos.y*e.getGlobalScale().y:t+e.pos.y}),0),r=e.getWorldPos(),o=this.getWorldRotation();return new V(i,n).rotate(o,r)},e.prototype.getGlobalScale=function(){if(!this.parent)return new V(this.scale.x,this.scale.y);var t=this.parent.getGlobalScale();return new V(this.scale.x*t.x,this.scale.y*t.y)},e.prototype.contains=function(t,e,i){void 0===i&&(i=!1);var n=this.getWorldPos().sub(this.pos),r=this.body.collider.bounds.translate(n).contains(new V(t,e));return i?r||this.children.some((function(i){return i.contains(t,e,!0)})):r},e.prototype.within=function(t,e){return this.body.collider.shape.getClosestLineBetween(t.body.collider.shape).getLength()<=e},e.prototype._reapplyEffects=function(t){t.removeEffect(this._opacityFx),t.addEffect(this._opacityFx)},e.prototype.update=function(t,e){this._initialize(t),this._preupdate(t,e),this.actionQueue.update(e),this.color&&(this.color.a=this.opacity),0===this.opacity&&(this.visible=!1),this.previousOpacity!==this.opacity&&(this.previousOpacity=this.opacity,this._opacityFx.opacity=this.opacity,this._effectsDirty=!0),this.body.captureOldTransform(),this.body.integrate(e);for(var i=0,n=this.traits;i<n.length;i++){n[i].update(this,t,e)}for(var r=0;r<this.children.length;r++)this.children[r].update(t,e);this._postupdate(t,e)},e.prototype.onPreUpdate=function(t,e){},e.prototype.onPostUpdate=function(t,e){},e.prototype._preupdate=function(t,e){this.emit("preupdate",new ut(t,e,this)),this.onPreUpdate(t,e)},e.prototype._postupdate=function(t,e){this.emit("postupdate",new ut(t,e,this)),this.onPostUpdate(t,e)},e.prototype.draw=function(t,e){if(t.save(),t.translate(this.pos.x,this.pos.y),t.rotate(this.rotation),t.scale(this.scale.x,this.scale.y),t.save(),t.translate(-this._width*this.anchor.x,-this._height*this.anchor.y),this._predraw(t,e),this.currentDrawing){var i=this.currentDrawing,n=(this._width-i.width*i.scale.x)*this.anchor.x,r=(this._height-i.height*i.scale.y)*this.anchor.y;this._effectsDirty&&(this._reapplyEffects(this.currentDrawing),this._effectsDirty=!1),this.currentDrawing.draw(t,n,r)}else this.color&&this.body&&this.body.collider&&this.body.collider.shape&&this.body.collider.shape.draw(t,this.color,new V(this.width*this.anchor.x,this.height*this.anchor.y));t.restore();for(var o=0;o<this.children.length;o++)this.children[o].visible&&this.children[o].draw(t,e);this._postdraw(t,e),t.restore()},e.prototype.onPreDraw=function(t,e){},e.prototype.onPostDraw=function(t,e){},e.prototype._predraw=function(t,e){this.emit("predraw",new st(t,e,this)),this.onPreDraw(t,e)},e.prototype._postdraw=function(t,e){this.emit("postdraw",new st(t,e,this)),this.onPostDraw(t,e)},e.prototype.debugDraw=function(t){this.emit("predebugdraw",new ct(t,this)),this.body.collider.debugDraw(t);var e=this.body.collider.localBounds.translate(this.getWorldPos());e.debugDraw(t),t.fillText("id: "+this.id,e.left+3,e.top+10),t.fillStyle=Lt.Yellow.toString(),t.beginPath(),t.arc(this.getWorldPos().x,this.getWorldPos().y,3,0,2*Math.PI),t.closePath(),t.fill();for(var i=0;i<this.traits.length;i++)this.traits[i]instanceof Ue&&this.traits[i].cullingBox.debugDraw(t);t.strokeStyle=Lt.Yellow.toString(),t.beginPath();var n=Math.min(this.width,this.height);t.arc(this.getWorldPos().x,this.getWorldPos().y,n,0,2*Math.PI),t.closePath(),t.stroke();var r={"0 Pi":0,"Pi/2":Math.PI/2,Pi:Math.PI,"3/2 Pi":3*Math.PI/2},o=t.font;for(var s in r)t.fillStyle=Lt.Yellow.toString(),t.font="14px",t.textAlign="center",t.fillText(s,this.getWorldPos().x+Math.cos(r[s])*(n+10),this.getWorldPos().y+Math.sin(r[s])*(n+10));t.font=o;for(var a=0;a<this.children.length;a++)this.children[a].debugDraw(t);this.emit("postdebugdraw",new ht(t,this))},e.prototype.getAncestors=function(){for(var t,e=[this],i=this;t=i.parent;)i=t,e.push(i);return e.reverse()},e.defaults={anchor:V.Half},e.maxId=0,ti([N({message:"ex.Actor.sx will be removed in v0.25.0",alternateMethod:"Set width and height directly in constructor"})],e.prototype,"sx",null),ti([N({message:"ex.Actor.sy will be removed in v0.25.0",alternateMethod:"Set width and height directly in constructor"})],e.prototype,"sy",null),e}(Rt))),ni=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ri=function(t,e,i,n){var r,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,i,s):r(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s},oi=function(t){function e(e,i,n,r){var o=this;return(o="object"!=typeof e?t.call(this,e,i,n,r)||this:t.call(this,e)||this).traits=[],o.traits.push(new Ne),o.anchor.setTo(0,0),o.body.collider.type=ne.PreventCollision,o.body.collider.shape=Le.Box(o.width,o.height,o.anchor),o.enableCapturePointer=!0,o}return ni(e,t),e.prototype._initialize=function(e){this._engine=e,t.prototype._initialize.call(this,e)},e.prototype.contains=function(e,i,n){if(void 0===n&&(n=!0),n)return t.prototype.contains.call(this,e,i);var r=this._engine.worldToScreenCoordinates(new V(e,i));return t.prototype.contains.call(this,r.x,r.y)},e}(ii),si=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ni(e,t),e=ri([N({message:"Will be removed in v0.25.0",alternateMethod:"ScreenElement"})],e)}(oi),ai=function(){function t(e,i,n,r){if(this.id=0,this.interval=10,this.repeats=!1,this.maxNumberOfRepeats=-1,this._elapsedTime=0,this._totalTimeAlive=0,this._paused=!1,this._numberOfTicks=0,this.complete=!1,this.scene=null,"function"!=typeof e){var o=e;e=o.fcn,i=o.interval,n=o.repeats,r=o.numberOfRepeats}if(r&&r>=0&&(this.maxNumberOfRepeats=r,!n))throw new Error("repeats must be set to true if numberOfRepeats is set");this.id=t.id++,this.interval=i||this.interval,this.repeats=n||this.repeats,this._callbacks=[],e&&this.on(e)}return t.prototype.on=function(t){this._callbacks.push(t)},t.prototype.off=function(t){var e=this._callbacks.indexOf(t);this._callbacks.splice(e,1)},t.prototype.update=function(t){var e=this;this._paused||(this._totalTimeAlive+=t,this._elapsedTime+=t,this.maxNumberOfRepeats>-1&&this._numberOfTicks>=this.maxNumberOfRepeats&&(this.complete=!0),!this.complete&&this._elapsedTime>=this.interval&&(this._callbacks.forEach((function(t){t.call(e)})),this._numberOfTicks++,this.repeats?this._elapsedTime=0:this.complete=!0))},t.prototype.reset=function(t,e){if(t&&t>=0&&(this.interval=t),this.maxNumberOfRepeats&&this.maxNumberOfRepeats>=0&&(this.maxNumberOfRepeats=e,!this.repeats))throw new Error("repeats must be set to true if numberOfRepeats is set");this.complete=!1,this._elapsedTime=0,this._numberOfTicks=0},Object.defineProperty(t.prototype,"timesRepeated",{get:function(){return this._numberOfTicks},enumerable:!0,configurable:!0}),t.prototype.getTimeRunning=function(){return this._totalTimeAlive},t.prototype.pause=function(){this._paused=!0},t.prototype.unpause=function(){this._paused=!1},t.prototype.cancel=function(){this.scene&&this.scene.cancelTimer(this)},t.id=0,t}(),ci=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),hi=function(t){function e(e,i,n,r,o,s){return t.call(this,e,i,n,r,o,s)||this}return ci(e,t),e}(Zt(function(t){function e(e,i,n,r,o,s){var a=t.call(this)||this;if(a._collidingX=-1,a._collidingY=-1,a._onScreenXStart=0,a._onScreenXEnd=9999,a._onScreenYStart=0,a._onScreenYEnd=9999,a._spriteSheets={},a.logger=R.getInstance(),a.data=[],e&&"object"==typeof e){var c=e;e=c.x,i=c.y,n=c.cellWidth,r=c.cellHeight,o=c.rows,s=c.cols}a.x=e,a.y=i,a.cellWidth=n,a.cellHeight=r,a.rows=o,a.cols=s,a.data=new Array(o*s);for(var h=function(t){for(var c=function(o){var c;c=new li(t*n+e,o*r+i,n,r,t+o*s),a.data[t+o*s]=c},h=0;h<o;h++)c(h)},u=0;u<s;u++)h(u);return a}return ci(e,t),e.prototype.on=function(e,i){t.prototype.on.call(this,e,i)},e.prototype.registerSpriteSheet=function(t,e){this._spriteSheets[t]=e},e.prototype.collides=function(t){var e=t.pos.x+t.width,i=t.pos.y+t.height,n=t.body.collider.bounds,r=[];if(t.width<=0||t.height<=0)return null;for(var o=n.left;o<=e;o+=Math.min(t.width/2,this.cellWidth/2))for(var s=n.top;s<=i;s+=Math.min(t.height/2,this.cellHeight/2)){var a=this.getCellByPoint(o,s);if(a&&a.solid){var c=n.intersect(a.bounds),h=t.center.sub(a.center);c&&c.dot(h)>0&&r.push(c)}}return 0===r.length?null:r.reduce((function(t,e){var i=t.x,n=t.y;return Math.abs(t.x)<Math.abs(e.x)&&(i=e.x),Math.abs(t.y)<Math.abs(e.y)&&(n=e.y),new V(i,n)}))},e.prototype.getCellByIndex=function(t){return this.data[t]},e.prototype.getCell=function(t,e){return t<0||e<0||t>=this.cols||e>=this.rows?null:this.data[t+e*this.cols]},e.prototype.getCellByPoint=function(t,e){t=Math.floor((t-this.x)/this.cellWidth),e=Math.floor((e-this.y)/this.cellHeight);var i=this.getCell(t,e);return t>=0&&e>=0&&t<this.cols&&e<this.rows&&i?i:null},e.prototype.update=function(t,e){this.emit("preupdate",new ut(t,e,this));var i=t.screenToWorldCoordinates(new V(0,0)),n=t.screenToWorldCoordinates(new V(t.canvas.clientWidth,t.canvas.clientHeight));this._onScreenXStart=Math.max(Math.floor((i.x-this.x)/this.cellWidth)-2,0),this._onScreenYStart=Math.max(Math.floor((i.y-this.y)/this.cellHeight)-2,0),this._onScreenXEnd=Math.max(Math.floor((n.x-this.x)/this.cellWidth)+2,0),this._onScreenYEnd=Math.max(Math.floor((n.y-this.y)/this.cellHeight)+2,0),this.emit("postupdate",new lt(t,e,this))},e.prototype.draw=function(t,e){this.emit("predraw",new st(t,e,this)),t.save(),t.translate(this.x,this.y);for(var i,n,r,o=this._onScreenXStart,s=Math.min(this._onScreenXEnd,this.cols),a=this._onScreenYStart,c=Math.min(this._onScreenYEnd,this.rows);o<s;o++){for(;a<c;a++)for(n=0,r=(i=this.getCell(o,a).sprites.filter((function(t){return t.spriteId>-1}))).length;n<r;n++){var h=this._spriteSheets[i[n].spriteSheetKey];if(h){var u=h.getSprite(i[n].spriteId);u?u.draw(t,o*this.cellWidth,a*this.cellHeight):this.logger.warn("Sprite does not exist for id",i[n].spriteId,"in sprite sheet",i[n].spriteSheetKey,u,h)}else this.logger.warn("Sprite sheet",i[n].spriteSheetKey,"does not exist",h)}a=this._onScreenYStart}t.restore(),this.emit("postdraw",new at(t,e,this))},e.prototype.debugDraw=function(t){var e=this.cols*this.cellWidth,i=this.rows*this.cellHeight;t.save(),t.strokeStyle=Lt.Red.toString();for(var n=0;n<this.cols+1;n++)t.beginPath(),t.moveTo(this.x+n*this.cellWidth,this.y),t.lineTo(this.x+n*this.cellWidth,this.y+i),t.stroke();for(var r=0;r<this.rows+1;r++)t.beginPath(),t.moveTo(this.x,this.y+r*this.cellHeight),t.lineTo(this.x+e,this.y+r*this.cellHeight),t.stroke();var o=Lt.Red;o.a=.3,this.data.filter((function(t){return t.solid})).forEach((function(e){t.fillStyle=o.toString(),t.fillRect(e.x,e.y,e.width,e.height)})),this._collidingY>-1&&this._collidingX>-1&&(t.fillStyle=Lt.Cyan.toString(),t.fillRect(this.x+this._collidingX*this.cellWidth,this.y+this._collidingY*this.cellHeight,this.cellWidth,this.cellHeight)),t.restore()},e}(Rt))),ui=function(t,e){this.spriteSheetKey=t,this.spriteId=e},li=function(t){function e(e,i,n,r,o,s,a){return t.call(this,e,i,n,r,o,s,a)||this}return ci(e,t),e}(Zt(function(){function t(t,e,i,n,r,o,s){if(void 0===o&&(o=!1),void 0===s&&(s=[]),this.solid=!1,this.sprites=[],t&&"object"==typeof t){var a=t;t=a.x,e=a.y,i=a.width,n=a.height,r=a.index,o=a.solid,s=a.sprites}this.x=t,this.y=e,this.width=i,this.height=n,this.index=r,this.solid=o,this.sprites=s,this._bounds=new Me(this.x,this.y,this.x+this.width,this.y+this.height)}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this._bounds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return new V(this.x+this.width/2,this.y+this.height/2)},enumerable:!0,configurable:!0}),t.prototype.pushSprite=function(t){this.sprites.push(t)},t.prototype.removeSprite=function(t){var e;(e=this.sprites.indexOf(t))>-1&&this.sprites.splice(e,1)},t.prototype.clearSprites=function(){this.sprites.length=0},t}())),pi=function(){function t(){}return t.create=function(){return this._INSTANCE||(window.AudioContext||window.webkitAudioContext)&&(this._INSTANCE=new window.AudioContext),this._INSTANCE},t._INSTANCE=null,t}();var di,fi=function(){function t(){}return t.unlock=function(){var e=new d;if(t._unlocked||!pi.create())return e.resolve(!0);var i=setTimeout((function(){R.getInstance().warn("Excalibur was unable to unlock the audio context, audio probably will not play in this browser."),e.resolve()}),200),n=pi.create();return n.resume().then((function(){var r=n.createBuffer(1,1,22050),o=n.createBufferSource(),s=!1;o.buffer=r,o.connect(n.destination),o.onended=function(){return s=!0},o.noteOn?o.noteOn(0):o.start(0),setTimeout((function(){!function(t){return!!t.playbackState}(o)?(n.currentTime>0||s)&&(t._unlocked=!0):o.playbackState!==o.PLAYING_STATE&&o.playbackState!==o.FINISHED_STATE||(t._unlocked=!0)}),0),clearTimeout(i),e.state()===u.Pending&&e.resolve()}),(function(){e.state()===u.Pending&&e.reject(!1)})),e},t.isUnlocked=function(){return this._unlocked},t._unlocked=!1,t}(),gi=i(58),yi=i.n(gi),_i=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),vi=function(t){function e(e){var i=t.call(this)||this;return i._resourceList=[],i._index=0,i._playButtonShown=!1,i._resourceCount=0,i._numLoaded=0,i._progressCounts={},i._totalCounts={},i.logo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdQAAAB2CAYAAABxhGI9AAAACXBIWXMAAAsSAAALEgHS3X78AAAKnUlEQVR42u3dP2wjSx0H8N8hJIonIRmJjsq0SBR+BQ1dcqKhe0lD77SvSwpKkJKGPulpktfRIMUdEqKIqV57rpAokM4dbSiyq7ONPTP7x39ifz7SFbnEnp3xer47O7uzH15fXwMA6OYHmgAABCoACFQAEKgAgEAFAIEKAAIVAAQqACBQAUCgAoBABQCBCgAIVAAQqAAgUAFAoAIAAhUABCoACFQAEKgAgECFLbmOiNeFf2PbAyz68Pr6qhUgbRwR92v+/zwiJrYHMEKFMmcN///UtgcQqFBk1PD/97U9Qx8VCFSgu4EmAIEKAAIVAAQqACBQ4Z25jojP8eX+0WtNAgIVaOY+Im5j+eKh24h41jQgUIEyZ7F5NaPU7wCBCiwYd/w9cOB+qAlgJ3KLLow0EV198803RWvJfvfddx+0lhEqHKu5JgAjVCBvlhmFzjQRXUekHz9+TP79y8uLRjNChXfvoePvAYEKxNtj1e42/O5JoIJABcrdRMRVLM+X3kTEpaaB988cKuzWg9EobTWdMx0Oly8uN4dqhAoARqgnaN3arHfqu7OyH8ItKLVB/P+CEfMTHyGPY3npx1m8zWGDEeoBfUk/xdti57dr/r1Wv2+6EPow3tZ5rRdS72s1neuF97xvWd+XTH0/V+UMttDWqbI/r2nrxfp+jv2uSjSO7S+OXy/A/3lN+9xX5T5HxEUPZZ0tfB71+w57eJ/HFu+z+jkv1u92YX9fbI/HhX3JA9rp5MPr66tWaG9UfUGbrHIzi7cLUyYFf/tpTady03EEeL8mUJ6i7MKYNvWNqr4Pe2jradXO60LrvPAz2PQ5RPX684ah8dxD+2zantnCgVipSVV+m/tgB9W2DDq2Sx/vM95wcHhZhWVJm8yrv58cSgfTdc70+++/X/r522+/tUKSEepBqo+om4ZLPerMjUwuNnQCtx1GWJtee1FwdD5uWd86xLs8UaVt2aNEO1/saZ/Z5rYMW4zq6v34rGV9Bg3q2eZ9SkeNm9qwyUh30OPIHYFKx5FG03C7znSOqYBq+qW/zpQ3anH037TNHluG6f0WPsPhHvab4QFty7ogOeuxDYcNy2/zu2214WNYWxmBurNO8bGn97pNBOO8xy/9uCorZZ4I2r4C7aJgO7ZV9iE49Dm6NvOWx+pWE9CUq3zbdTp9doz38TbXtzqH9RT5CyWe422OaZoZGeZCabrhPQY9HjwsjpTvCg4YtlE2+Ta/j2bzn8fqrDqgm+6yUHOmAvWUjAtGhbNYvsBknDnqH1Qhc7VmxHgeb/NbudA5j/UXlYwif2p6luhAc9teu1npiHKnDs8if6tCm7JLX3NKpgttXe9ruc9mHMd7a83iwdxF5vt8tutARaCeklRnNK9C8WnNF7geJQ4T4XG3JhSnVdilQrG+yOnrlVHfsEGYzhNBn7Lu6tS7+HJafJQ4EMiNlNqWXZ9WPvVgnVYHG5M1ByDXkT6leX2EgTqJtyt45yv7S2qO3sEZjZhDLXeR+YKdJ0Zdk8QocvH9N732KrNtq+FZ/zzIHABcJrYpd+Xv14lOd5ap76SgrduW/VTQ1qcQpqnbgu4ifZvUMNpd9XuoZmvCtPaQ2Y/BCHVLgbrJTeRPDdVf6pfMKDU2fOkHmVFFfXr3MsouLsnNvV5kRoe5+s431PeuoKPqWnaurY/ZPBEeqwceN4l96iwO6H7Mjq4y7VGPVNe10VaZMzVCPVWpI/Z6FZbcv5fMqGCU+dLfFGzj58jP8+bCdJCo7yzKTwdOF0bu9Ug7V4c+yz7FJfYeGoysUss0HssIdVZwYLDujMqlESoCdTtGsZtbHnJBeNdDSJSs0jTKdMJN1HNX54Wv7bvsU9NkVJVa13dX+/wuArV0X/l5RHyo/lnfF4G6p6DrS0kHdtXhy35TGErDPYZUn2WfWqDOo/lVqdMD2O/hKJhD7S/odukymq9s02QN4EEPR/zbaOumZc+r15zK1Zqznl9jsfiemTM1QmV3HUuTkedlg9HIQzRbUD93dfC+2tpj2fIHEH2+RqCCQH13gZq7hWXTNpVu19OB1fc9nQ0AKOKUb5lU0P1kDyOneoWk0lOZ9cIP0x7qu8+2BhCoR2wYu1+e7DmaXzBSsu5vaX1ne2zrpmUPTmxf7PM1Dm4y/vC7ny7Nif7+z/9ZmtM0Z3panPLtPmra9f16bcK0Dpbnwk43Vd/RHtu6zfNQTy1QBy3aqG2g9nVmxml+BOoJyT3NpWmn9xhfFnu4bvDa+44BXhqqfdf3uUF9+yz77AT31Yue2mjecYQ62NLfgkA9ghHqLNEhNem4H1c6vdyDxhf/bpz5m4coW/c39wi6VH2bPtHlcaV9cvXts+zxCe6rTeqc2ndL7uGd93QwM9bFcAzMoZZ7SgTBbWx+asui61h/iq1+RmjqdbnQXQ3T1DNQ63V/U9ucqm/pMzPb1rePsk/1iTOjgvatR4W3Lc8ULB78pELyrnAfeTcj1NU509/86mfJ33/8+Mf00a05UyPUEw7UVCeWG/WNEiExyHRMt5ltW30izUPk18ytt7lNfc8i//DvtvXto+ySA5BjljsLUF8lPkqMPEtW1JomDsiGBZ9Byb4NAvUITSN9GuwsIj6t6UTOqk7jJREkmzqli8xIs96udSO20sX0H1vW92IL9e1a9rgqVyf91gbPsTy9UD9n9lOkT8k+RfkFR5PMNqxOcdSf32PBvg3vilO+zdxE+okx9Wm0ph36XYsRZCpMF993GOk5qvqB3Dct6jvssb67KvuUNJ3frw92bhr8/STSF0JdRPMLpUCgnsgo9S76PZ246ZFk1wWvK5m3vVoYvW1Sz7nN91jfXbQ1ZQc7TW6HeaoOalypG/8/p/rP1aNAc6ZHzSnfdqPUPhdy2PQw6Nz9gSVhuhiqueUHR3uu7y7K3rdDX4u46ZrPbUa0IFBZ0seKQ3XQTRt2vm3W/a2DbNKys++rvm3ep6+y1x2UdP3bWU9lzra47U1GmlctX/sQ23t+aOlByLTh/4NAPaCRxtcdO5HLSJ/6vNtCwGx67VPmPbvWd1q9frKHtp4kAqRJ2HR9j762JfX3bZ//elPtj13PPDx1+D5tqk/Xi6NO8SHz7MmH19dXrdBNfVFP6T2PT1UHNit87/t4m5+aRH+nQBdvqyhZDKJLfZs8h7XPsqdV2ZOV+tanKB8aln0dyxdAXbV4j4gvt4oMOrbP6vbU73NW7TMlbdTnPrWpfqXfh9HKZ9vke7KuTeZRNtXRSe6+1FV//ce/ln5eXfsXgcqXzr6+9261M3moOoa7E6nvTZTfy7iNsmfb7kjfgXGsvxe0vihsEts9HTquPpt1q1vtahu2TqAiUAEEKj0zhwoARqgAu/OnX/442WH+9xc/Wvr58re/Tr7f41/+ZsRqhAoACFQAEKgAcHjMoQJskJsz/eqrr5Z+vvr7v5fmQFevAl5lztQIFQAQqAAgUAHgIJlDBdhgdQ41N2eKESoAIFABQKACwFEwhwoARqgAIFABQKACAAIVAAQqAAhUABCoAIBABQCBCgACFQAEKgAgUAFAoAKAQAUAgQoACFQAEKgAIFABQKACAAIVAAQqAAhUABCoAIBABQCBCgACFQAQqAAgUAFAoAKAQAUAlvwPcFDns1DsH4sAAAAASUVORK5CYII=",i.logoWidth=468,i.logoHeight=118,i.backgroundColor="#176BAA",i.suppressPlayButton=!1,i._playButtonStyles=yi.a.toString(),i.playButtonText="Play game",i.startButtonFactory=function(){var t=document.createElement("button");return t.id="excalibur-play",t.textContent=i.playButtonText,t.style.display="none",t},i.getData=function(){},i.setData=function(){},i.processData=function(){},i.onprogress=function(t){R.getInstance().debug("[ex.Loader] Loading "+(100*t.loaded/t.total).toFixed(0))},i.oncomplete=function(){},i.onerror=function(){},e&&i.addResources(e),i}return _i(e,t),Object.defineProperty(e.prototype,"_image",{get:function(){return this._imageElement||(this._imageElement=new Image,this._imageElement.src=this.logo),this._imageElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_playButton",{get:function(){return this._playButtonRootElement||(this._playButtonRootElement=document.createElement("div"),this._playButtonRootElement.style.position="absolute",document.body.appendChild(this._playButtonRootElement)),this._styleBlock||(this._styleBlock=document.createElement("style"),this._styleBlock.textContent=this._playButtonStyles,document.head.appendChild(this._styleBlock)),this._playButtonElement||(this._playButtonElement=this.startButtonFactory(),this._playButtonRootElement.appendChild(this._playButtonElement)),this._playButtonElement},enumerable:!0,configurable:!0}),e.prototype.wireEngine=function(t){this._engine=t},e.prototype.addResource=function(t){var e=this._index++;this._resourceList.push(t),this._progressCounts[e]=0,this._totalCounts[e]=1,this._resourceCount++},e.prototype.addResources=function(t){for(var e=0,i=t.length;e<i;e++)this.addResource(t[e])},e.prototype.isLoaded=function(){return this._numLoaded===this._resourceCount},e.prototype.showPlayButton=function(){if(this.suppressPlayButton)return d.resolve();this._playButtonShown=!0,this._playButton.style.display="block";var t=new d;return this._playButton.addEventListener("click",(function(){return t.state()===u.Pending?t.resolve():t})),this._playButton.addEventListener("touchend",(function(){return t.state()===u.Pending?t.resolve():t})),this._playButton.addEventListener("pointerup",(function(){return t.state()===u.Pending?t.resolve():t})),t},e.prototype.hidePlayButton=function(){this._playButtonShown=!1,this._playButton.style.display="none"},e.prototype.load=function(){var t=this,e=new d,i=this;if(0===this._resourceList.length)return i.showPlayButton().then((function(){fi.unlock().then((function(){i.hidePlayButton(),i.oncomplete.call(i),e.resolve()}))})),e;var n=new Array(this._resourceList.length),r=this._resourceList.length;return this._resourceList.forEach((function(o,s){t._engine&&o.wireEngine(t._engine),o.onprogress=function(t){var e=t.total,o=t.loaded;n[s]={loaded:o/e*(100/r),total:100};var a=n.reduce((function(t,e){return{loaded:t.loaded+e.loaded,total:100}}),{loaded:0,total:100});i.onprogress.call(i,a)},o.oncomplete=o.onerror=function(){i._numLoaded++,i._numLoaded===i._resourceCount&&setTimeout((function(){i.showPlayButton().then((function(){fi.unlock().then((function(){i.hidePlayButton(),i.oncomplete.call(i),e.resolve()}))}))}),200)}})),function t(e,i){e[i]&&e[i].load().then((function(){t(e,i+1)}))}(this._resourceList,0),e},e.prototype.draw=function(t){var e=this._engine.canvasHeight/this._engine.pixelRatio,i=this._engine.canvasWidth/this._engine.pixelRatio;if(this._playButtonRootElement){var n=t.canvas.offsetLeft,r=t.canvas.offsetTop,o=this._playButton.clientWidth,s=this._playButton.clientHeight;this._playButtonRootElement.style.left=n+i/2-o/2+"px",this._playButtonRootElement.style.top=r+e/2-s/2+100+"px"}t.fillStyle=this.backgroundColor,t.fillRect(0,0,i,e);var a=e/2,c=Math.min(this.logoWidth,.75*i),h=i/2-c/2,u=Math.floor(c*(this.logoHeight/this.logoWidth)),l=this._engine.getAntialiasing();if(this._engine.setAntialiasing(!0),t.drawImage(this._image,0,0,this.logoWidth,this.logoHeight,h,a-u-20,c,u),this.suppressPlayButton||!this._playButtonShown){t.lineWidth=2,Xe(t,h,a,c,20,10);var p=c*(this._numLoaded/this._resourceCount)-10;Xe(t,h+5,a+5,p>0?p:0,10,5,null,Lt.White),this._engine.setAntialiasing(l)}else this._engine.setAntialiasing(l)},e.prototype.update=function(t,e){},e}(Rt),mi={webgl:"WebGL",webaudio:"WebAudio",gamepadapi:"Gamepad API"},bi=function(){function t(){this._features=null,this.failedTests=[],this._criticalTests={canvasSupport:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},arrayBufferSupport:function(){var t=new XMLHttpRequest;t.open("GET","/");try{t.responseType="arraybuffer"}catch(t){return!1}return"arraybuffer"===t.responseType},dataUrlSupport:function(){return 0===document.createElement("canvas").toDataURL("image/png").indexOf("data:image/png")},objectUrlSupport:function(){return"URL"in window&&"revokeObjectURL"in URL&&"createObjectURL"in URL},rgbaSupport:function(){var t=document.createElement("a").style;return t.cssText="background-color:rgba(150,255,150,.5)",(""+t.backgroundColor).indexOf("rgba")>-1}},this._warningTest={webAudioSupport:function(){return!!(window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext||window.oAudioContext)},webglSupport:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("webgl"))}},this._features=this._loadBrowserFeatures()}return t.prototype.getBrowserFeatures=function(){return null===this._features&&(this._features=this._loadBrowserFeatures()),this._features},t.prototype.logBrowserFeatures=function(){for(var t="%cSUPPORTED BROWSER FEATURES\n==========================%c\n",e=["font-weight: bold; color: navy","font-weight: normal; color: inherit"],i=this.getBrowserFeatures(),n=0,r=Object.keys(mi);n<r.length;n++){var o=r[n];i[o]?(t+="(%câ%c)",e.push("font-weight: bold; color: green"),e.push("font-weight: normal; color: inherit")):(t+="(%câ%c)",e.push("font-weight: bold; color: red"),e.push("font-weight: normal; color: inherit")),t+=" "+mi[o]+"\n"}e.unshift(t),console.log.apply(console,e)},t.prototype._loadBrowserFeatures=function(){var t=this;return{canvas:t._criticalTests.canvasSupport(),arraybuffer:t._criticalTests.arrayBufferSupport(),dataurl:t._criticalTests.dataUrlSupport(),objecturl:t._criticalTests.objectUrlSupport(),rgba:t._criticalTests.rgbaSupport(),webaudio:t._warningTest.webAudioSupport(),webgl:t._warningTest.webglSupport(),gamepadapi:!!navigator.getGamepads}},t.prototype.test=function(){var t=!1;for(var e in this._criticalTests)this._criticalTests[e].call(this)||(this.failedTests.push(e),R.getInstance().error("Critical browser feature missing, Excalibur requires:",e),t=!0);if(t)return!1;for(var i in this._warningTest)this._warningTest[i]()||R.getInstance().warn("Warning browser feature missing, Excalibur will have reduced performance:",i);return!0},t}(),wi=function(){function t(t){this.parent=t,this.parent=t||null,this.body=null,this.bounds=new Me,this.left=null,this.right=null,this.height=0}return t.prototype.isLeaf=function(){return!this.left&&!this.right},t}(),xi=function(){function t(t){void 0===t&&(t=new Me(-Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE)),this.worldBounds=t,this.root=null,this.nodes={}}return t.prototype._insert=function(t){if(null===this.root)return this.root=t,void(this.root.parent=null);for(var e=t.bounds,i=this.root;!i.isLeaf();){var n=i.left,r=i.right,o=i.bounds.getPerimeter(),s=i.bounds.combine(e).getPerimeter(),a=2*s,c=2*(s-o),h=0,u=e.combine(n.bounds),l=void 0;n.isLeaf()?h=u.getPerimeter()+c:(l=n.bounds.getPerimeter(),h=u.getPerimeter()-l+c);var p=0,d=e.combine(r.bounds);if(r.isLeaf()?p=d.getPerimeter()+c:(l=r.bounds.getPerimeter(),p=d.getPerimeter()-l+c),a<h&&a<p)break;i=h<p?n:r}var f=i.parent,g=new wi(f);g.bounds=e.combine(i.bounds),g.height=i.height+1,null!==f?(f.left===i?f.left=g:f.right=g,g.left=i,g.right=t,i.parent=g,t.parent=g):(g.left=i,g.right=t,i.parent=g,t.parent=g,this.root=g);for(var y=t.parent;y;){if(!(y=this._balance(y)).left)throw new Error("Parent of current leaf cannot have a null left child"+y);if(!y.right)throw new Error("Parent of current leaf cannot have a null right child"+y);y.height=1+Math.max(y.left.height,y.right.height),y.bounds=y.left.bounds.combine(y.right.bounds),y=y.parent}},t.prototype._remove=function(t){if(t!==this.root){var e,i=t.parent,n=i.parent;if(e=i.left===t?i.right:i.left,n){n.left===i?n.left=e:n.right=e,e.parent=n;for(var r=n;r;)(r=this._balance(r)).bounds=r.left.bounds.combine(r.right.bounds),r.height=1+Math.max(r.left.height,r.right.height),r=r.parent}else this.root=e,e.parent=null}else this.root=null},t.prototype.trackBody=function(t){var e=new wi;e.body=t,e.bounds=t.collider.bounds,e.bounds.left-=2,e.bounds.top-=2,e.bounds.right+=2,e.bounds.bottom+=2,this.nodes[t.id]=e,this._insert(e)},t.prototype.updateBody=function(t){var e=this.nodes[t.id];if(!e)return!1;var i=t.collider.bounds;if(!this.worldBounds.contains(i))return R.getInstance().warn("Collider with id "+t.id+" is outside the world bounds and will no longer be tracked for physics"),this.untrackBody(t),!1;if(e.bounds.contains(i))return!1;this._remove(e),i.left-=Te.boundsPadding,i.top-=Te.boundsPadding,i.right+=Te.boundsPadding,i.bottom+=Te.boundsPadding;var n=t.vel.x*Te.dynamicTreeVelocityMultiplier,r=t.vel.y*Te.dynamicTreeVelocityMultiplier;return n<0?i.left+=n:i.right+=n,r<0?i.top+=r:i.bottom+=r,e.bounds=i,this._insert(e),!0},t.prototype.untrackBody=function(t){var e=this.nodes[t.collider.id];e&&(this._remove(e),this.nodes[t.collider.id]=null,delete this.nodes[t.collider.id])},t.prototype._balance=function(t){if(null===t)throw new Error("Cannot balance at null node");if(t.isLeaf()||t.height<2)return t;var e=t.left,i=t.right,n=t,r=e,o=i,s=e.left,a=e.right,c=i.left,h=i.right,u=o.height-r.height;if(u>1)return o.left=n,o.parent=n.parent,n.parent=o,o.parent?o.parent.left===n?o.parent.left=o:o.parent.right=o:this.root=o,c.height>h.height?(o.right=c,n.right=h,h.parent=n,n.bounds=r.bounds.combine(h.bounds),o.bounds=n.bounds.combine(c.bounds),n.height=1+Math.max(r.height,h.height),o.height=1+Math.max(n.height,c.height)):(o.right=h,n.right=c,c.parent=n,n.bounds=r.bounds.combine(c.bounds),o.bounds=n.bounds.combine(h.bounds),n.height=1+Math.max(r.height,c.height),o.height=1+Math.max(n.height,h.height)),o;if(u<-1){if(r.left=n,r.parent=n.parent,n.parent=r,r.parent)if(r.parent.left===n)r.parent.left=r;else{if(r.parent.right!==n)throw"Error rotating Dynamic Tree";r.parent.right=r}else this.root=r;return s.height>a.height?(r.right=s,n.left=a,a.parent=n,n.bounds=o.bounds.combine(a.bounds),r.bounds=n.bounds.combine(s.bounds),n.height=1+Math.max(o.height,a.height),r.height=1+Math.max(n.height,s.height)):(r.right=a,n.left=s,s.parent=n,n.bounds=o.bounds.combine(s.bounds),r.bounds=n.bounds.combine(a.bounds),n.height=1+Math.max(o.height,s.height),r.height=1+Math.max(n.height,a.height)),r}return t},t.prototype.getHeight=function(){return null===this.root?0:this.root.height},t.prototype.query=function(t,e){var i=t.collider.bounds,n=function(r){if(r&&r.bounds.intersect(i)){if(!r.isLeaf()||r.body===t)return n(r.left)||n(r.right);if(e.call(t,r.body))return!0}return!1};n(this.root)},t.prototype.rayCastQuery=function(t,e,i){void 0===e&&(e=1/0);var n=function(r){if(r&&r.bounds.rayCast(t,e)){if(!r.isLeaf())return n(r.left)||n(r.right);if(i.call(t,r.body))return!0}return!1};n(this.root)},t.prototype.getNodes=function(){var t=function(e){return e?[e].concat(t(e.left),t(e.right)):[]};return t(this.root)},t.prototype.debugDraw=function(t){var e=function(i){i&&(i.isLeaf()?(t.lineWidth=1,t.strokeStyle="green"):(t.lineWidth=1,t.strokeStyle="white"),i.bounds.debugDraw(t),i.left&&e(i.left),i.right&&e(i.right))};e(this.root)},t}(),Pi=function(){function t(){this._dynamicCollisionTree=new xi,this._collisionHash={},this._collisionPairCache=[],this._lastFramePairs=[],this._lastFramePairsHash={}}return t.prototype.track=function(t){t?this._dynamicCollisionTree.trackBody(t):R.getInstance().warn("Cannot track null physics body")},t.prototype.untrack=function(t){t?this._dynamicCollisionTree.untrackBody(t):R.getInstance().warn("Cannot untrack a null physics body")},t.prototype._shouldGenerateCollisionPair=function(t,e){var i=Ze.calculatePairHash(t,e);return!this._collisionHash[i]&&Ze.canCollide(t,e)},t.prototype.broadphase=function(t,e,i){var n,r=this,o=e/1e3,s=t.map((function(t){return t.collider})).filter((function(t){return t.active&&t.type!==ne.PreventCollision}));this._collisionPairCache=[],this._collisionHash={};for(var a=0,c=s.length;a<c;a++)n=s[a],this._dynamicCollisionTree.query(n.body,(function(t){if(r._shouldGenerateCollisionPair(n,t.collider)){var e=new Ze(n,t.collider);r._collisionHash[e.id]=!0,r._collisionPairCache.push(e)}return!1}));if(i&&(i.physics.pairs=this._collisionPairCache.length),Te.checkForFastBodies)for(var h=function(t){if(t.type!==ne.Active)return"continue";var e=t.body.vel.size*o+.5*t.body.acc.size*o*o,n=Math.min(t.bounds.height,t.bounds.width);if(Te.disableMinimumSpeedForFastBody||e>n/2){i&&i.physics.fastBodies++;var r,s=t.body.pos.sub(t.body.oldPos),a=t.shape.center,c=t.shape.getFurthestPoint(t.body.vel),h=c.sub(s),l=new G(h,t.body.vel);l.pos=l.pos.add(l.dir.scale(-2*Te.surfaceEpsilon));var p=new V(1/0,1/0);if(u._dynamicCollisionTree.rayCastQuery(l,e+2*Te.surfaceEpsilon,(function(i){if(t.body!==i&&i.collider.shape&&Ze.canCollide(t,i.collider)){var n=i.collider.shape.rayCast(l,e+10*Te.surfaceEpsilon);if(n){var o=n.sub(h);o.size<p.size&&(p=o,r=i)}}return!1})),r&&V.isValid(p)){var d=new Ze(t,r.collider);u._collisionHash[d.id]||(u._collisionHash[d.id]=!0,u._collisionPairCache.push(d));var f=a.sub(c);t.body.pos=h.add(f).add(p).add(l.dir.scale(2*Te.surfaceEpsilon)),t.shape.recalc(),i&&i.physics.fastBodyCollisions++}}},u=this,l=0,p=s;l<p.length;l++){h(p[l])}return this._collisionPairCache},t.prototype.narrowphase=function(t,e){for(var i=0;i<t.length;i++)t[i].collide(),e&&t[i].collision&&(e.physics.collisions++,e.physics.collidersHash[t[i].id]=t[i]);return t.filter((function(t){return t.collision}))},t.prototype.resolve=function(t,e,i){for(var n=0,r=t;n<r.length;n++){var o=r[n];o.resolve(i),o.collision&&(o.colliderA.body.applyMtv(),o.colliderB.body.applyMtv(),o.colliderA.body.integrate(e*Te.collisionShift),o.colliderB.body.integrate(e*Te.collisionShift))}return t.filter((function(t){return t.canCollide}))},t.prototype.runCollisionStartEnd=function(t){for(var e={},i=0,n=t;i<n.length;i++){if(e[(c=n[i]).id]=c,!this._lastFramePairsHash[c.id]){var r=c.colliderA,o=c.colliderB;r.emit("collisionstart",new St(r,o,c)),o.emit("collisionstart",new St(o,r,c))}}for(var s=0,a=this._lastFramePairs;s<a.length;s++){var c;if(!e[(c=a[s]).id]){r=c.colliderA,o=c.colliderB;r.emit("collisionend",new Et(r,o)),o.emit("collisionend",new Et(o,r))}}this._lastFramePairs=t,this._lastFramePairsHash=e},t.prototype.update=function(t){for(var e=0,i=t.length,n=0;n<i;n++)this._dynamicCollisionTree.updateBody(t[n])&&e++;return e},t.prototype.debugDraw=function(t){if(Te.broadphaseDebug&&this._dynamicCollisionTree.debugDraw(t),Te.showContacts||Te.showCollisionNormals)for(var e=0,i=this._collisionPairCache;e<i.length;e++){i[e].debugDraw(t)}},t}(),Si=function(){function t(t){this._getComparable=t}return t.prototype.find=function(t){return this._find(this._root,t)},t.prototype._find=function(t,e){return null!=t&&(this._getComparable.call(e)===t.getKey()?t.getData().indexOf(e)>-1:this._getComparable.call(e)<t.getKey()?this._find(t.getLeft(),e):this._find(t.getRight(),e))},t.prototype.get=function(t){return this._get(this._root,t)},t.prototype._get=function(t,e){return null==t?[]:e===t.getKey()?t.getData():e<t.getKey()?this._get(t.getLeft(),e):this._get(t.getRight(),e)},t.prototype.add=function(t){return null==this._root?(this._root=new Ei(this._getComparable.call(t),[t],null,null),!0):this._insert(this._root,t)},t.prototype._insert=function(t,e){return null!=t&&(this._getComparable.call(e)===t.getKey()?!(t.getData().indexOf(e)>-1)&&(t.getData().push(e),!0):this._getComparable.call(e)<t.getKey()?null==t.getLeft()?(t.setLeft(new Ei(this._getComparable.call(e),[e],null,null)),!0):this._insert(t.getLeft(),e):null==t.getRight()?(t.setRight(new Ei(this._getComparable.call(e),[e],null,null)),!0):this._insert(t.getRight(),e))},t.prototype.removeByComparable=function(t){this._root=this._remove(this._root,t)},t.prototype._remove=function(t,e){if(null==t)return null;if(this._getComparable.call(e)!==t.getKey())return this._getComparable.call(e)<t.getKey()?(t.setLeft(this._remove(t.getLeft(),e)),t):(t.setRight(this._remove(t.getRight(),e)),t);var i=t.getData().indexOf(e);if(i>-1){if(t.getData().splice(i,1),0===t.getData().length){if(null==t.getLeft()&&null==t.getRight())return null;if(null==t.getLeft())return t.getRight();if(null==t.getRight())return t.getLeft();var n=this._findMinNode(t.getRight());return t.setKey(n.getKey()),t.setData(n.getData()),t.setRight(this._cleanup(t.getRight(),n)),t}return t}return null},t.prototype._cleanup=function(t,e){var i=e.getKey();if(null==t)return null;if(i===t.getKey()){if(null==t.getLeft()&&null==t.getRight())return null;if(null==t.getLeft())return t.getRight();if(null==t.getRight())return t.getLeft();var n=this._findMinNode(t.getRight());return t.setKey(n.getKey()),t.setData(n.getData()),t.setRight(this._cleanup(t.getRight(),n)),t}return this._getComparable.call(e)<t.getKey()?(t.setLeft(this._cleanup(t.getLeft(),e)),t):(t.setRight(this._cleanup(t.getRight(),e)),t)},t.prototype._findMinNode=function(t){for(var e=t;null!=e.getLeft();)e=e.getLeft();return e},t.prototype.list=function(){var t=new Array;return this._list(this._root,t),t},t.prototype._list=function(t,e){null!=t&&(this._list(t.getLeft(),e),t.getData().forEach((function(t){e.push(t)})),this._list(t.getRight(),e))},t}(),Ei=function(){function t(t,e,i,n){this._key=t,this._data=e,this._left=i,this._right=n}return t.prototype.getKey=function(){return this._key},t.prototype.setKey=function(t){this._key=t},t.prototype.getData=function(){return this._data},t.prototype.setData=function(t){this._data=t},t.prototype.getLeft=function(){return this._left},t.prototype.setLeft=function(t){this._left=t},t.prototype.getRight=function(){return this._right},t.prototype.setRight=function(t){this._right=t},t}(),Ai=function(){function t(t){this._key=0,this._key=t}return t.prototype.getTheKey=function(){return this._key},t.prototype.setKey=function(t){this._key=t},t}(),Ci=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Oi=function(){function t(t){this.camera=t}return t.prototype.lockToActor=function(t){this.camera.addStrategy(new Bi(t))},t.prototype.lockToActorAxis=function(t,e){this.camera.addStrategy(new Ri(t,e))},t.prototype.elasticToActor=function(t,e,i){this.camera.addStrategy(new ji(t,e,i))},t.prototype.radiusAroundActor=function(t,e){this.camera.addStrategy(new Fi(t,e))},t}();!function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(di||(di={}));var Ti,Mi,Di,ki,Bi=function(t){this.target=t,this.action=function(t,e,i,n){return t.center}},Ri=function(t,e){var i=this;this.target=t,this.axis=e,this.action=function(t,e,n,r){var o=t.center,s=e.getFocus();return i.axis===di.X?new V(o.x,s.y):new V(s.x,o.y)}},ji=function(t,e,i){var n=this;this.target=t,this.cameraElasticity=e,this.cameraFriction=i,this.action=function(t,e,i,r){var o=t.center,s=e.getFocus(),a=e.vel.clone(),c=o.sub(s).scale(n.cameraElasticity),h=(a=a.add(c)).scale(-1).scale(n.cameraFriction);return a=a.add(h),s=s.add(a)}},Fi=function(t,e){var i=this;this.target=t,this.radius=e,this.action=function(t,e,n,r){var o=t.center,s=e.getFocus(),a=o.sub(s),c=a.size;if(c>=i.radius){var h=c-i.radius;return s.add(a.normalize().scale(h))}return s}},Ii=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._cameraStrategies=[],e.strategy=new Oi(e),e.z=1,e.dz=0,e.az=0,e.rotation=0,e.rx=0,e.pos=V.Zero,e.vel=V.Zero,e.acc=V.Zero,e._cameraMoving=!1,e._currentLerpTime=0,e._lerpDuration=1e3,e._lerpStart=null,e._lerpEnd=null,e._isShaking=!1,e._shakeMagnitudeX=0,e._shakeMagnitudeY=0,e._shakeDuration=0,e._elapsedShakeTime=0,e._xShake=0,e._yShake=0,e._isZooming=!1,e._zoomStart=1,e._zoomEnd=1,e._currentZoomTime=0,e._zoomDuration=0,e._zoomEasing=Pe.EaseInOutCubic,e._easing=Pe.EaseInOutCubic,e._isInitialized=!1,e}return Ci(e,t),Object.defineProperty(e.prototype,"angularVelocity",{get:function(){return this.rx},set:function(t){this.rx=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.pos.x},set:function(t){this._follow||this._cameraMoving||(this.pos.x=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.pos.y},set:function(t){this._follow||this._cameraMoving||(this.pos.y=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dx",{get:function(){return this.vel.x},set:function(t){this.vel.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dy",{get:function(){return this.vel.y},set:function(t){this.vel.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ax",{get:function(){return this.acc.x},set:function(t){this.acc.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ay",{get:function(){return this.acc.y},set:function(t){this.acc.y=t},enumerable:!0,configurable:!0}),e.prototype.getFocus=function(){return this.pos},e.prototype.move=function(t,e,i){if(void 0===i&&(i=Pe.EaseInOutCubic),"function"!=typeof i)throw"Please specify an EasingFunction";return this._follow?(new d).reject(t):(this._lerpPromise&&this._lerpPromise.state()===u.Pending&&this._lerpPromise.resolve(t),this._lerpPromise=new d,this._lerpStart=this.getFocus().clone(),this._lerpDuration=e,this._lerpEnd=t,this._currentLerpTime=0,this._cameraMoving=!0,this._easing=i,this._lerpPromise)},e.prototype.shake=function(t,e,i){this._isShaking=!0,this._shakeMagnitudeX=t,this._shakeMagnitudeY=e,this._shakeDuration=i},e.prototype.zoom=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=Pe.EaseInOutCubic),this._zoomPromise=new d,e?(this._isZooming=!0,this._zoomEasing=i,this._currentZoomTime=0,this._zoomDuration=e,this._zoomStart=this.z,this._zoomEnd=t):(this._isZooming=!1,this.z=t,this._zoomPromise.resolve(!0)),this._zoomPromise},e.prototype.getZoom=function(){return this.z},Object.defineProperty(e.prototype,"viewport",{get:function(){if(this._engine){var t=this._engine.halfDrawWidth,e=this._engine.halfDrawHeight;return new Me(this.x-t,this.y-e,this.x+t,this.y+e)}return new Me(0,0,0,0)},enumerable:!0,configurable:!0}),e.prototype.addStrategy=function(t){this._cameraStrategies.push(t)},e.prototype.removeStrategy=function(t){C(t,this._cameraStrategies)},e.prototype.clearAllStrategies=function(){this._cameraStrategies.length=0},e.prototype._preupdate=function(t,e){this.emit("preupdate",new ut(t,e,this)),this.onPreUpdate(t,e)},e.prototype.onPreUpdate=function(t,e){},e.prototype._postupdate=function(t,e){this.emit("postupdate",new lt(t,e,this)),this.onPostUpdate(t,e)},e.prototype.onPostUpdate=function(t,e){},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),e.prototype._initialize=function(e){this.isInitialized||(this.onInitialize(e),t.prototype.emit.call(this,"initialize",new At(e,this)),this._isInitialized=!0,this._engine=e)},e.prototype.onInitialize=function(t){},e.prototype.on=function(e,i){t.prototype.on.call(this,e,i)},e.prototype.off=function(e,i){t.prototype.off.call(this,e,i)},e.prototype.once=function(e,i){t.prototype.once.call(this,e,i)},e.prototype.update=function(t,e){if(this._initialize(t),this._preupdate(t,e),this.pos=this.pos.add(this.vel.scale(e/1e3)),this.z+=this.dz*e/1e3,this.vel=this.vel.add(this.acc.scale(e/1e3)),this.dz+=this.az*e/1e3,this.rotation+=this.angularVelocity*e/1e3,this._isZooming)if(this._currentZoomTime<this._zoomDuration){var i=(0,this._zoomEasing)(this._currentZoomTime,this._zoomStart,this._zoomEnd,this._zoomDuration);this.z=i,this._currentZoomTime+=e}else this._isZooming=!1,this.z=this._zoomEnd,this._currentZoomTime=0,this._zoomPromise.resolve(!0);if(this._cameraMoving)if(this._currentLerpTime<this._lerpDuration){var n=Pe.CreateVectorEasingFunction(this._easing)(this._currentLerpTime,this._lerpStart,this._lerpEnd,this._lerpDuration);this.pos=n,this._currentLerpTime+=e}else{this.pos=this._lerpEnd;var r=this._lerpEnd.clone();this._lerpStart=null,this._lerpEnd=null,this._currentLerpTime=0,this._cameraMoving=!1,this._lerpPromise.resolve(r)}this._isDoneShaking()?(this._isShaking=!1,this._elapsedShakeTime=0,this._shakeMagnitudeX=0,this._shakeMagnitudeY=0,this._shakeDuration=0,this._xShake=0,this._yShake=0):(this._elapsedShakeTime+=e,this._xShake=1+(Math.random()*this._shakeMagnitudeX|0),this._yShake=1+(Math.random()*this._shakeMagnitudeY|0));for(var o=0,s=this._cameraStrategies;o<s.length;o++){var a=s[o];this.pos=a.action.call(a,a.target,this,t,e)}this._postupdate(t,e)},e.prototype.draw=function(t){var e=this.getFocus(),i=t.canvas.width,n=t.canvas.height,r=this._engine?this._engine.pixelRatio:window.devicePixelRatio,o=this.getZoom(),s=i/o/r,a=n/o/r;t.scale(o,o),t.translate(-e.x+s/2+this._xShake,-e.y+a/2+this._yShake)},e.prototype.debugDraw=function(t){var e=this.getFocus();t.fillStyle="red",t.strokeStyle="white",t.lineWidth=3,t.beginPath(),t.arc(e.x,e.y,15,0,2*Math.PI),t.closePath(),t.stroke(),t.beginPath(),t.arc(e.x,e.y,5,0,2*Math.PI),t.closePath(),t.stroke(),t.beginPath(),t.setLineDash([5,15]),t.lineWidth=5,t.strokeStyle="white",t.strokeRect(this.viewport.left,this.viewport.top,this.viewport.width,this.viewport.height),t.closePath()},e.prototype._isDoneShaking=function(){return!this._isShaking||this._elapsedShakeTime>=this._shakeDuration},e}(Rt),Li=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.Em=0]="Em",t[t.Rem=1]="Rem",t[t.Px=2]="Px",t[t.Pt=3]="Pt",t[t.Percent=4]="Percent"}(Ti||(Ti={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center",t[t.Start=3]="Start",t[t.End=4]="End"}(Mi||(Mi={})),function(t){t[t.Top=0]="Top",t[t.Hanging=1]="Hanging",t[t.Middle=2]="Middle",t[t.Alphabetic=3]="Alphabetic",t[t.Ideographic=4]="Ideographic",t[t.Bottom=5]="Bottom"}(Di||(Di={})),function(t){t[t.Normal=0]="Normal",t[t.Italic=1]="Italic",t[t.Oblique=2]="Oblique"}(ki||(ki={}));var zi=function(t){function e(e,i,n,r,o){return t.call(this,e,i,n,r,o)||this}return Li(e,t),e}(Zt(function(t){function e(e,i,n,r,o){var s=t.call(this,e&&"object"==typeof e?e:{pos:new V(i,n)})||this;s.bold=!1,s.fontSize=10,s.fontStyle=ki.Normal,s.fontUnit=Ti.Px,s.textAlign=Mi.Left,s.baseAlign=Di.Bottom,s.letterSpacing=0,s.caseInsensitive=!0;var a="";return e&&"object"==typeof e?(r=e.fontFamily,o=e.spriteFont,a=e.text):a=e,s.text=a||"",s.color=Lt.Black,s.spriteFont=o,s.body.collider.type=ne.PreventCollision,s.fontFamily=r||"sans-serif",s._textShadowOn=!1,s._shadowOffsetX=0,s._shadowOffsetY=0,s}return Li(e,t),e.prototype.getTextWidth=function(t){var e=t.font;t.font=this._fontString;var i=t.measureText(this.text).width;return t.font=e,i},e.prototype._lookupFontUnit=function(t){switch(t){case Ti.Em:return"em";case Ti.Rem:return"rem";case Ti.Pt:return"pt";case Ti.Px:return"px";case Ti.Percent:return"%";default:return"px"}},e.prototype._lookupTextAlign=function(t){switch(t){case Mi.Left:return"left";case Mi.Right:return"right";case Mi.Center:return"center";case Mi.End:return"end";case Mi.Start:default:return"start"}},e.prototype._lookupBaseAlign=function(t){switch(t){case Di.Alphabetic:return"alphabetic";case Di.Bottom:return"bottom";case Di.Hanging:return"hanging";case Di.Ideographic:return"ideographic";case Di.Middle:return"middle";case Di.Top:return"top";default:return"alphabetic"}},e.prototype._lookupFontStyle=function(t){var e=this.bold?" bold":"";switch(t){case ki.Italic:return"italic"+e;case ki.Normal:return"normal"+e;case ki.Oblique:return"oblique"+e;default:return"normal"+e}},e.prototype.setTextShadow=function(t,e,i){this.spriteFont.setTextShadow(t,e,i)},e.prototype.useTextShadow=function(t){this.spriteFont.useTextShadow(t)},e.prototype.clearTextShadow=function(){this._textShadowOn=!1,this._shadowOffsetX=0,this._shadowOffsetY=0},e.prototype.update=function(e,i){t.prototype.update.call(this,e,i)},e.prototype.draw=function(e,i){e.save(),e.translate(this.pos.x,this.pos.y),e.scale(this.scale.x,this.scale.y),e.rotate(this.rotation),this._textShadowOn&&(e.save(),e.translate(this._shadowOffsetX,this._shadowOffsetY),this._fontDraw(e),e.restore()),this._fontDraw(e),t.prototype.draw.call(this,e,i),e.restore()},e.prototype._fontDraw=function(t){if(this.spriteFont)this.spriteFont.draw(t,this.text,0,0,{color:this.color.clone(),baseAlign:this.baseAlign,textAlign:this.textAlign,fontSize:this.fontSize,letterSpacing:this.letterSpacing,opacity:this.opacity});else{var e=t.textAlign,i=t.textBaseline;t.textAlign=this._lookupTextAlign(this.textAlign),t.textBaseline=this._lookupBaseAlign(this.baseAlign),this.color&&(this.color.a=this.opacity),t.fillStyle=this.color.toString(),t.font=this._fontString,this.maxWidth?t.fillText(this.text,0,0,this.maxWidth):t.fillText(this.text,0,0),t.textAlign=e,t.textBaseline=i}},Object.defineProperty(e.prototype,"_fontString",{get:function(){return this._lookupFontStyle(this.fontStyle)+" "+this.fontSize+this._lookupFontUnit(this.fontUnit)+" "+this.fontFamily},enumerable:!0,configurable:!0}),e.prototype.debugDraw=function(e){t.prototype.debugDraw.call(this,e)},e}(ii))),Hi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Wi={pos:V.Zero,width:10,height:10,visible:!1,action:function(){},filter:function(){return!0},repeat:-1},Ui=function(t){function e(e){var i=t.call(this,e.pos.x,e.pos.y,e.width,e.height)||this;return i.action=function(){},i.filter=function(){return!0},i.repeat=-1,e=y({},Wi,e),i.filter=e.filter||i.filter,i.repeat=e.repeat||i.repeat,i.action=e.action||i.action,e.target&&(i.target=e.target),i.visible=e.visible,i.body.collider.type=ne.Passive,i.eventDispatcher=new Bt(i),i.actionQueue=new we(i),i.on("collisionstart",(function(t){ei(t.other)&&i.filter(t.other)&&(i.emit("enter",new Dt(i,t.other)),i._dispatchAction(),0===i.repeat&&i.kill())})),i.on("collisionend",(function(t){ei(t.other)&&i.filter(t.other)&&i.emit("exit",new kt(i,t.other))})),i}return Hi(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t,this.filter=function(e){return e===t}},enumerable:!0,configurable:!0}),e.prototype._initialize=function(e){t.prototype._initialize.call(this,e)},e.prototype._dispatchAction=function(){this.action.call(this),this.repeat--},e.prototype.debugDraw=function(e){t.prototype.debugDraw.call(this,e),e.save(),e.translate(this.pos.x,this.pos.y);var i=this.body.collider.bounds,n=this.getWorldPos();i.left=i.left-n.x,i.right=i.right-n.x,i.top=i.top-n.y,i.bottom=i.bottom-n.y,e.fillStyle=Lt.Violet.toString(),e.strokeStyle=Lt.Violet.toString(),e.fillText("Trigger",10,10),i.debugDraw(e),e.restore()},e}(ii);function Ni(t){return t instanceof oi}var qi,Vi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Gi=function(t){function e(e){var i=t.call(this)||this;return i.actors=[],i._bodies=[],i.triggers=[],i.tileMaps=[],i.screenElements=[],i._isInitialized=!1,i._sortedDrawingTree=new Si(ii.prototype.getZIndex),i._broadphase=new Pi,i._killQueue=[],i._triggerKillQueue=[],i._timers=[],i._cancelQueue=[],i._logger=R.getInstance(),i.camera=new Ii,i._engine=e,e&&(i.camera.x=e.halfDrawWidth,i.camera.y=e.halfDrawHeight),i}return Vi(e,t),e.prototype.on=function(e,i){t.prototype.on.call(this,e,i)},e.prototype.once=function(e,i){t.prototype.once.call(this,e,i)},e.prototype.off=function(e,i){t.prototype.off.call(this,e,i)},e.prototype.onInitialize=function(t){},e.prototype.onActivate=function(t,e){},e.prototype.onDeactivate=function(t,e){},e.prototype.onPreUpdate=function(t,e){},e.prototype.onPostUpdate=function(t,e){},e.prototype.onPreDraw=function(t,e){},e.prototype.onPostDraw=function(t,e){},e.prototype._initializeChildren=function(){for(var t=0,e=this.actors;t<e.length;t++){e[t]._initialize(this._engine)}},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),e.prototype._initialize=function(t){this.isInitialized||(this._engine=t,this.camera&&(this.camera.x=t.halfDrawWidth,this.camera.y=t.halfDrawHeight),this._initializeChildren(),this._logger.debug("Scene.onInitialize",this,t),this.eventDispatcher.emit("initialize",new At(t,this)),this.onInitialize.call(this,t),this._isInitialized=!0)},e.prototype._activate=function(t,e){this._logger.debug("Scene.onActivate",this),this.onActivate(t,e)},e.prototype._deactivate=function(t,e){this._logger.debug("Scene.onDeactivate",this),this.onDeactivate(t,e)},e.prototype._preupdate=function(t,e){this.emit("preupdate",new ut(t,e,this)),this.onPreUpdate(t,e)},e.prototype._postupdate=function(t,e){this.emit("postupdate",new lt(t,e,this)),this.onPostUpdate(t,e)},e.prototype._predraw=function(t,e){this.emit("predraw",new st(t,e,this)),this.onPreDraw(t,e)},e.prototype._postdraw=function(t,e){this.emit("postdraw",new at(t,e,this)),this.onPostDraw(t,e)},e.prototype.update=function(t,e){var i,n;for(this._preupdate(t,e),this.camera&&this.camera.update(t,e),i=0,n=this._cancelQueue.length;i<n;i++)this.removeTimer(this._cancelQueue[i]);this._cancelQueue.length=0;for(var r=0,o=this._timers;r<o.length;r++){o[r].update(e)}for(i=0,n=this.screenElements.length;i<n;i++)this.screenElements[i].update(t,e);for(i=0,n=this.tileMaps.length;i<n;i++)this.tileMaps[i].update(t,e);for(i=0,n=this.actors.length;i<n;i++)this.actors[i].update(t,e),this._bodies[i]=this.actors[i].body;for(i=0,n=this.triggers.length;i<n;i++)this.triggers[i].update(t,e);if(this._collectActorStats(t),t.input.pointers.dispatchPointerEvents(),this._broadphase&&Te.enabled){var s=Date.now();this._broadphase.update(this._bodies,e);for(var a=this._broadphase.broadphase(this._bodies,e,t.stats.currFrame),c=Date.now(),h=Date.now(),u=Te.collisionPasses,l=e/u;u>0;)a=this._broadphase.narrowphase(a,t.stats.currFrame),a=this._broadphase.resolve(a,l,Te.collisionResolutionStrategy),this._broadphase.runCollisionStartEnd(a),u--;var p=Date.now();t.stats.currFrame.physics.broadphase=c-s,t.stats.currFrame.physics.narrowphase=p-h}t.stats.currFrame.actors.killed=this._killQueue.length+this._triggerKillQueue.length,this._processKillQueue(this._killQueue,this.actors),this._processKillQueue(this._triggerKillQueue,this.triggers),this._postupdate(t,e)},e.prototype._processKillQueue=function(t,e){for(var i,n=0,r=t;n<r.length;n++){var o=r[n];o.isKilled()&&(i=e.indexOf(o))>-1&&(this._sortedDrawingTree.removeByComparable(o),e.splice(i,1))}t.length=0},e.prototype.draw=function(t,e){var i,n;for(this._predraw(t,e),t.save(),this.camera&&this.camera.draw(t),i=0,n=this.tileMaps.length;i<n;i++)this.tileMaps[i].draw(t,e);var r=this._sortedDrawingTree.list();for(i=0,n=r.length;i<n;i++)r[i].visible&&!r[i].isOffScreen&&r[i].draw(t,e);for(this._engine&&this._engine.isDebug&&(t.strokeStyle="yellow",this.debugDraw(t)),t.restore(),i=0,n=this.screenElements.length;i<n;i++)this.screenElements[i].visible&&this.screenElements[i].draw(t,e);if(this._engine&&this._engine.isDebug)for(i=0,n=this.screenElements.length;i<n;i++)this.screenElements[i].debugDraw(t);this._postdraw(t,e)},e.prototype.debugDraw=function(t){var e,i;for(this.emit("predebugdraw",new ct(t,this)),e=0,i=this.tileMaps.length;e<i;e++)this.tileMaps[e].debugDraw(t);for(e=0,i=this.actors.length;e<i;e++)this.actors[e].debugDraw(t);for(e=0,i=this.triggers.length;e<i;e++)this.triggers[e].debugDraw(t);this._broadphase.debugDraw(t,20),this.camera.debugDraw(t),this.emit("postdebugdraw",new ht(t,this))},e.prototype.contains=function(t){return this.actors.indexOf(t)>-1},e.prototype.add=function(t){t instanceof ii&&t.unkill(),t instanceof oi?O(this.screenElements,t)||this.addScreenElement(t):t instanceof ii?O(this.actors,t)||this._addChild(t):t instanceof ai?O(this._timers,t)||this.addTimer(t):t instanceof hi&&(O(this.tileMaps,t)||this.addTileMap(t))},e.prototype.remove=function(t){t instanceof oi?this.removeScreenElement(t):(t instanceof ii&&this._removeChild(t),t instanceof ai&&this.removeTimer(t),t instanceof hi&&this.removeTileMap(t))},e.prototype.addScreenElement=function(t){this.screenElements.push(t),t.scene=this},e.prototype.removeScreenElement=function(t){var e=this.screenElements.indexOf(t);e>-1&&this.screenElements.splice(e,1)},e.prototype._addChild=function(t){this._broadphase.track(t.body),t.scene=this,t instanceof Ui?this.triggers.push(t):this.actors.push(t),this._sortedDrawingTree.add(t)},e.prototype.addTileMap=function(t){this.tileMaps.push(t)},e.prototype.removeTileMap=function(t){var e=this.tileMaps.indexOf(t);e>-1&&this.tileMaps.splice(e,1)},e.prototype._removeChild=function(t){O(this.actors,t)&&(this._broadphase.untrack(t.body),t instanceof Ui?this._triggerKillQueue.push(t):(t.isKilled()||t.kill(),this._killQueue.push(t)),t.parent=null)},e.prototype.addTimer=function(t){return this._timers.push(t),t.scene=this,t},e.prototype.removeTimer=function(t){var e=this._timers.indexOf(t);return-1!==e&&this._timers.splice(e,1),t},e.prototype.cancelTimer=function(t){return this._cancelQueue.push(t),t},e.prototype.isTimerActive=function(t){return this._timers.indexOf(t)>-1&&!t.complete},e.prototype.cleanupDrawTree=function(t){this._sortedDrawingTree.removeByComparable(t)},e.prototype.updateDrawTree=function(t){this._sortedDrawingTree.add(t)},e.prototype.isActorInDrawTree=function(t){return this._sortedDrawingTree.find(t)},e.prototype.isCurrentScene=function(){return!!this._engine&&this._engine.currentScene===this},e.prototype._collectActorStats=function(t){for(var e=0,i=this.screenElements;e<i.length;e++){i[e];t.stats.currFrame.actors.ui++}for(var n=0,r=this.actors;n<r.length;n++){var o=r[n];t.stats.currFrame.actors.alive++;for(var s=0,a=o.children;s<a.length;s++){Ni(a[s])?t.stats.currFrame.actors.ui++:t.stats.currFrame.actors.alive++}}},e}(Rt);!function(t){t[t.Protanope=0]="Protanope",t[t.Deuteranope=1]="Deuteranope",t[t.Tritanope=2]="Tritanope"}(qi||(qi={}));var Xi,Ki=function(){function t(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=qi.Protanope),this.engine=t,this.simulate=e,this.colorMode=i,this._vertexShader="attribute vec2 a_position;attribute vec2 a_texCoord;uniform vec2 u_resolution;varying vec2 v_texCoord;void main() {vec2 zeroToOne = a_position / u_resolution;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texCoord = a_texCoord;}",this._fragmentShader="precision mediump float;uniform sampler2D u_image;varying vec2 v_texCoord;void main() {vec4 o =  texture2D(u_image, v_texCoord);float L = (17.8824 * o.r) + (43.5161 * o.g) + (4.11935 * o.b);float M = (3.45565 * o.r) + (27.1554 * o.g) + (3.86714 * o.b);float S = (0.0299566 * o.r) + (0.184309 * o.g) + (1.46709 * o.b);//MODE CODE//vec4 error;error.r = (0.0809444479 * l) + (-0.130504409 * m) + (0.116721066 * s);error.g = (-0.0102485335 * l) + (0.0540193266 * m) + (-0.113614708 * s);error.b = (-0.000365296938 * l) + (-0.00412161469 * m) + (0.693511405 * s);error.a = 1.0;vec4 diff = o - error;vec4 correction;correction.r = 0.0;correction.g =  (diff.r * 0.7) + (diff.g * 1.0);correction.b =  (diff.r * 0.7) + (diff.b * 1.0);correction = o + correction;correction.a = o.a;//SIMULATE//}",this._internalCanvas=document.createElement("canvas"),this._internalCanvas.width=t.drawWidth,this._internalCanvas.height=t.drawHeight,this._gl=this._internalCanvas.getContext("webgl",{preserveDrawingBuffer:!0}),this._program=this._gl.createProgram();var n=this._getShader("Fragment",this._getFragmentShaderByMode(i)),r=this._getShader("Vertex",this._vertexShader);this._gl.attachShader(this._program,r),this._gl.attachShader(this._program,n),this._gl.linkProgram(this._program),this._gl.getProgramParameter(this._program,this._gl.LINK_STATUS)||R.getInstance().error("Unable to link shader program!"),this._gl.useProgram(this._program)}return t.prototype._getFragmentShaderByMode=function(t){var e="";return t===qi.Protanope?e="float l = 0.0 * L + 2.02344 * M + -2.52581 * S;float m = 0.0 * L + 1.0 * M + 0.0 * S;float s = 0.0 * L + 0.0 * M + 1.0 * S;":t===qi.Deuteranope?e="float l = 1.0 * L + 0.0 * M + 0.0 * S;float m = 0.494207 * L + 0.0 * M + 1.24827 * S;float s = 0.0 * L + 0.0 * M + 1.0 * S;":t===qi.Tritanope&&(e="float l = 1.0 * L + 0.0 * M + 0.0 * S;float m = 0.0 * L + 1.0 * M + 0.0 * S;float s = -0.395913 * L + 0.801109 * M + 0.0 * S;"),this.simulate?this._fragmentShader=this._fragmentShader.replace("//SIMULATE//","gl_FragColor = error.rgba;"):this._fragmentShader=this._fragmentShader.replace("//SIMULATE//","gl_FragColor = correction.rgba;"),this._fragmentShader.replace("//MODE CODE//",e)},t.prototype._setRectangle=function(t,e,i,n){var r=t,o=t+i,s=e,a=e+n;this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array([r,s,o,s,r,a,r,a,o,s,o,a]),this._gl.STATIC_DRAW)},t.prototype._getShader=function(t,e){var i;return"Fragment"===t?i=this._gl.createShader(this._gl.FRAGMENT_SHADER):"Vertex"===t?i=this._gl.createShader(this._gl.VERTEX_SHADER):R.getInstance().error("Error unknown shader type",t),this._gl.shaderSource(i,e),this._gl.compileShader(i),this._gl.getShaderParameter(i,this._gl.COMPILE_STATUS)?i:(R.getInstance().error("Unable to compile shader!",this._gl.getShaderInfoLog(i)),null)},t.prototype.process=function(t,e){var i=this._gl.getAttribLocation(this._program,"a_position"),n=this._gl.getAttribLocation(this._program,"a_texCoord"),r=this._gl.createBuffer();this._gl.bindBuffer(this._gl.ARRAY_BUFFER,r),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),this._gl.STATIC_DRAW),this._gl.enableVertexAttribArray(n),this._gl.vertexAttribPointer(n,2,this._gl.FLOAT,!1,0,0);var o=this._gl.createTexture();this._gl.bindTexture(this._gl.TEXTURE_2D,o),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,1),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,this._gl.RGBA,this._gl.UNSIGNED_BYTE,t);var s=this._gl.getUniformLocation(this._program,"u_resolution");this._gl.uniform2f(s,this._internalCanvas.width,this._internalCanvas.height);var a=this._gl.createBuffer();this._gl.bindBuffer(this._gl.ARRAY_BUFFER,a),this._gl.enableVertexAttribArray(i),this._gl.vertexAttribPointer(i,2,this._gl.FLOAT,!1,0,0),this._setRectangle(0,0,t.width,t.height),this._gl.drawArrays(this._gl.TRIANGLES,0,6);var c=new Uint8Array(t.width*t.height*4);this._gl.readPixels(0,0,t.width,t.height,this._gl.RGBA,this._gl.UNSIGNED_BYTE,c),t.data.set(c),e.putImageData(t,0,0)},t}(),Yi=function(){function t(t){this._engine=t}return t.prototype.correct=function(t){this._engine.postProcessors.push(new Ki(this._engine,!1,t))},t.prototype.simulate=function(t){this._engine.postProcessors.push(new Ki(this._engine,!0,t))},t}(),Zi=function(t){this.stats={currFrame:new Qi,prevFrame:new Qi},this._engine=t,this.colorBlindMode=new Yi(this._engine)},Qi=function(){function t(){this._id=0,this._delta=0,this._fps=0,this._actorStats={alive:0,killed:0,ui:0,get remaining(){return this.alive-this.killed},get total(){return this.remaining+this.ui}},this._durationStats={update:0,draw:0,get total(){return this.update+this.draw}},this._physicsStats=new Ji}return t.prototype.reset=function(t){t?(this.id=t.id,this.delta=t.delta,this.fps=t.fps,this.actors.alive=t.actors.alive,this.actors.killed=t.actors.killed,this.actors.ui=t.actors.ui,this.duration.update=t.duration.update,this.duration.draw=t.duration.draw,this._physicsStats.reset(t.physics)):(this.id=this.delta=this.fps=0,this.actors.alive=this.actors.killed=this.actors.ui=0,this.duration.update=this.duration.draw=0,this._physicsStats.reset())},t.prototype.clone=function(){var e=new t;return e.reset(this),e},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delta",{get:function(){return this._delta},set:function(t){this._delta=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fps",{get:function(){return this._fps},set:function(t){this._fps=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actors",{get:function(){return this._actorStats},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._durationStats},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"physics",{get:function(){return this._physicsStats},enumerable:!0,configurable:!0}),t}(),Ji=function(){function t(){this._pairs=0,this._collisions=0,this._collidersHash={},this._fastBodies=0,this._fastBodyCollisions=0,this._broadphase=0,this._narrowphase=0}return t.prototype.reset=function(t){t?(this.pairs=t.pairs,this.collisions=t.collisions,this.collidersHash=t.collidersHash,this.fastBodies=t.fastBodies,this.fastBodyCollisions=t.fastBodyCollisions,this.broadphase=t.broadphase,this.narrowphase=t.narrowphase):(this.pairs=this.collisions=this.fastBodies=0,this.fastBodyCollisions=this.broadphase=this.narrowphase=0,this.collidersHash={})},t.prototype.clone=function(){var e=new t;return e.reset(this),e},Object.defineProperty(t.prototype,"pairs",{get:function(){return this._pairs},set:function(t){this._pairs=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collisions",{get:function(){return this._collisions},set:function(t){this._collisions=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collidersHash",{get:function(){return this._collidersHash},set:function(t){this._collidersHash=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fastBodies",{get:function(){return this._fastBodies},set:function(t){this._fastBodies=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fastBodyCollisions",{get:function(){return this._fastBodyCollisions},set:function(t){this._fastBodyCollisions=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"broadphase",{get:function(){return this._broadphase},set:function(t){this._broadphase=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"narrowphase",{get:function(){return this._narrowphase},set:function(t){this._narrowphase=t},enumerable:!0,configurable:!0}),t}(),$i=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.Num1=97]="Num1",t[t.Num2=98]="Num2",t[t.Num3=99]="Num3",t[t.Num4=100]="Num4",t[t.Num5=101]="Num5",t[t.Num6=102]="Num6",t[t.Num7=103]="Num7",t[t.Num8=104]="Num8",t[t.Num9=105]="Num9",t[t.Num0=96]="Num0",t[t.Numlock=144]="Numlock",t[t.Semicolon=186]="Semicolon",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.Shift=16]="Shift",t[t.Alt=18]="Alt",t[t.Up=38]="Up",t[t.Down=40]="Down",t[t.Left=37]="Left",t[t.Right=39]="Right",t[t.Space=32]="Space",t[t.Esc=27]="Esc"}(Xi||(Xi={}));var tn,en,nn=function(t){function e(e){var i=t.call(this)||this;return i.key=e,i}return $i(e,t),e}(tt),rn=function(t){function e(){var e=t.call(this)||this;return e._keys=[],e._keysUp=[],e._keysDown=[],e}return $i(e,t),e.prototype.on=function(e,i){t.prototype.on.call(this,e,i)},e.prototype.init=function(t){var e=this;if(!t)try{var i=function(){};window.top.addEventListener("blur",i),window.top.removeEventListener("blur",i),t=window.top}catch(e){t=window,R.getInstance().warn("Failed to bind to keyboard events to top frame. If you are trying to embed Excalibur in a cross-origin iframe, keyboard events will not fire.")}t.addEventListener("blur",(function(){e._keys.length=0})),t.addEventListener("keyup",(function(t){var i=e._normalizeKeyCode(t.keyCode),n=e._keys.indexOf(i);e._keys.splice(n,1),e._keysUp.push(i);var r=new nn(i);e.eventDispatcher.emit("up",r),e.eventDispatcher.emit("release",r)})),t.addEventListener("keydown",(function(t){var i=e._normalizeKeyCode(t.keyCode);if(-1===e._keys.indexOf(i)){e._keys.push(i),e._keysDown.push(i);var n=new nn(i);e.eventDispatcher.emit("down",n),e.eventDispatcher.emit("press",n)}}))},e.prototype.update=function(){this._keysDown.length=0,this._keysUp.length=0;for(var t=0;t<this._keys.length;t++)this.eventDispatcher.emit("hold",new nn(this._keys[t]))},e.prototype.getKeys=function(){return this._keys},e.prototype.wasPressed=function(t){return this._keysDown.indexOf(t)>-1},e.prototype.isHeld=function(t){return this._keys.indexOf(t)>-1},e.prototype.wasReleased=function(t){return this._keysUp.indexOf(t)>-1},e.prototype._normalizeKeyCode=function(t){switch(t){case 59:return Xi.Semicolon;default:return t}},e}(Rt),on=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),sn=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n};!function(t){t.Touch="Touch",t.Mouse="Mouse",t.Pen="Pen",t.Unknown="Unknown"}(tn||(tn={})),function(t){t.Canvas="Canvas",t.Document="Document"}(en||(en={}));var an,cn,hn,un=function(t){function e(){var i=t.call(this)||this;return i.id=e._MAX_ID++,i._isDown=!1,i._wasDown=!1,i._actorsUnderPointer={length:0},i._actors=[],i._actorsLastFrame=[],i._actorsNoLongerUnderPointer=[],i.lastPagePos=null,i.lastScreenPos=null,i.lastWorldPos=null,i.dragTarget=null,i.on("move",i._onPointerMove),i.on("down",i._onPointerDown),i.on("up",i._onPointerUp),i}return on(e,t),Object.defineProperty(e.prototype,"isDragging",{get:function(){return this._isDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDragStart",{get:function(){return!this._wasDown&&this._isDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDragEnd",{get:function(){return this._wasDown&&!this._isDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasActorsUnderPointer",{get:function(){return!!this._actorsUnderPointer.length},enumerable:!0,configurable:!0}),e.prototype.on=function(e,i){t.prototype.on.call(this,e,i)},e.prototype.once=function(e,i){t.prototype.once.call(this,e,i)},e.prototype.off=function(e,i){t.prototype.off.call(this,e,i)},e.prototype.update=function(){this._wasDown&&!this._isDown?this._wasDown=!1:!this._wasDown&&this._isDown&&(this._wasDown=!0),this._actorsLastFrame=sn(this._actors),this._actorsNoLongerUnderPointer=[]},e.prototype.addActorUnderPointer=function(t){this.isActorUnderPointer(t)||(this._actorsUnderPointer[t.id]=t,this._actorsUnderPointer.length+=1,this._actors.push(t)),this._actors.sort((function(t,e){return t.z===e.z?t.id-e.id:t.z-e.z}))},e.prototype.removeActorUnderPointer=function(t){this.isActorUnderPointer(t)&&(delete this._actorsUnderPointer[t.id],this._actorsUnderPointer.length-=1,C(t,this._actors),this._actorsNoLongerUnderPointer.push(t))},e.prototype.getActorsUnderPointer=function(){return this._actors},e.prototype.getActorsUnderPointerLastFrame=function(){return this._actorsLastFrame},e.prototype.getActorsForEvents=function(){return this._actors.concat(this._actorsLastFrame).filter((function(t,e,i){return i.indexOf(t)===e}))},e.prototype.checkActorUnderPointer=function(t){return!!this.lastWorldPos&&t.contains(this.lastWorldPos.x,this.lastWorldPos.y,!Ni(t))},e.prototype.wasActorUnderPointer=function(t){return this._actorsLastFrame.indexOf(t)>-1},e.prototype.isActorUnderPointer=function(t){return this._actorsUnderPointer.hasOwnProperty(t.id.toString())},e.prototype._onPointerMove=function(t){this.lastPagePos=new V(t.pagePos.x,t.pagePos.y),this.lastScreenPos=new V(t.screenPos.x,t.screenPos.y),this.lastWorldPos=new V(t.worldPos.x,t.worldPos.y)},e.prototype._onPointerDown=function(t){this.lastPagePos=new V(t.pagePos.x,t.pagePos.y),this.lastScreenPos=new V(t.screenPos.x,t.screenPos.y),this.lastWorldPos=new V(t.worldPos.x,t.worldPos.y),this._isDown=!0},e.prototype._onPointerUp=function(t){this._isDown=!1,this.dragTarget=null},e._MAX_ID=0,e}(Rt),ln=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.NoButton=-1]="NoButton",t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Unknown=3]="Unknown"}(an||(an={})),function(t){t.Left="Left",t.Middle="Middle",t.Right="Right",t.Unknown="Unknown",t.NoButton="NoButton"}(cn||(cn={})),function(t){t.Pixel="Pixel",t.Line="Line",t.Page="Page"}(hn||(hn={}));var pn=function(t){function e(e,i,n,r,o,s){var a=t.call(this)||this;return a.coordinates=e,a.pointer=i,a.index=n,a.pointerType=r,a.button=o,a.ev=s,a}return ln(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worldPos",{get:function(){return this.coordinates.worldPos.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pagePos",{get:function(){return this.coordinates.pagePos.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenPos",{get:function(){return this.coordinates.screenPos.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this.coordinates.worldPos.clone()},enumerable:!0,configurable:!0}),e.prototype.propagate=function(t){this.doAction(t),this.bubbles&&t.parent&&this.propagate(t.parent)},e.prototype.doAction=function(t){t&&(this._onActionStart(t),t.emit(this._name,this),this._onActionEnd(t))},e.prototype._onActionStart=function(t){},e.prototype._onActionEnd=function(t){},e}(tt),dn=function(){function t(t){this._pointerEventType=t}return t.prototype.create=function(t,e,i,n,r,o){return new this._pointerEventType(t,e,i,n,r,o)},t}(),fn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ln(e,t),e}(pn),gn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerup",e}return ln(e,t),e.prototype._onActionEnd=function(t){this.pointer.isDragEnd&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragend",this)},e}(pn),yn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerdown",e}return ln(e,t),e.prototype._onActionEnd=function(t){this.pointer.isDragStart&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragstart",this)},e}(pn),_n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointermove",e}return ln(e,t),e.prototype.propagate=function(t){this.pointer.isActorUnderPointer(t)&&(this.doAction(t),this.bubbles&&t.parent&&this.propagate(t.parent))},e.prototype._onActionStart=function(t){t.capturePointer.captureMoveEvents&&this.pointer.isDragging&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragmove",this)},e}(pn),vn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerenter",e}return ln(e,t),e.prototype._onActionStart=function(t){t.capturePointer.captureMoveEvents},e.prototype._onActionEnd=function(t){this.pointer.isDragging&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragenter",this)},e}(pn),mn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerleave",e}return ln(e,t),e.prototype._onActionStart=function(t){t.capturePointer.captureMoveEvents},e.prototype._onActionEnd=function(t){this.pointer.isDragging&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragleave",this)},e}(pn),bn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointercancel",e}return ln(e,t),e}(pn),wn=function(t){function e(e,i,n,r,o,s,a,c,h,u,l,p){var d=t.call(this)||this;return d.x=e,d.y=i,d.pageX=n,d.pageY=r,d.screenX=o,d.screenY=s,d.index=a,d.deltaX=c,d.deltaY=h,d.deltaZ=u,d.deltaMode=l,d.ev=p,d}return ln(e,t),e}(tt);function xn(t,e,i,n,r,o,s){var a;switch(t){case"up":a=new dn(gn);break;case"down":a=new dn(yn);break;case"move":a=new dn(_n);break;case"cancel":a=new dn(bn);break;case"enter":a=new dn(vn);break;case"leave":a=new dn(mn)}return a.create(e,i,n,r,o,s)}var Pn,Sn,En=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),An=function(t){function e(e){var i=t.call(this)||this;return i._pointerDown=[],i._pointerUp=[],i._pointerMove=[],i._pointerCancel=[],i._wheel=[],i._pointers=[],i._activePointers=[],i._engine=e,i._pointers.push(new un),i._activePointers=[-1],i.primary=i._pointers[0],i}return En(e,t),e.prototype.on=function(e,i){t.prototype.on.call(this,e,i)},e.prototype.init=function(t){(t=t||this._engine.canvas).addEventListener("touchstart",this._handleTouchEvent("down",this._pointerDown)),t.addEventListener("touchend",this._handleTouchEvent("up",this._pointerUp)),t.addEventListener("touchmove",this._handleTouchEvent("move",this._pointerMove)),t.addEventListener("touchcancel",this._handleTouchEvent("cancel",this._pointerCancel)),window.PointerEvent?(this._engine.canvas.style.touchAction="none",t.addEventListener("pointerdown",this._handlePointerEvent("down",this._pointerDown)),t.addEventListener("pointerup",this._handlePointerEvent("up",this._pointerUp)),t.addEventListener("pointermove",this._handlePointerEvent("move",this._pointerMove)),t.addEventListener("pointercancel",this._handlePointerEvent("cancel",this._pointerCancel))):window.MSPointerEvent?(this._engine.canvas.style.msTouchAction="none",t.addEventListener("MSPointerDown",this._handlePointerEvent("down",this._pointerDown)),t.addEventListener("MSPointerUp",this._handlePointerEvent("up",this._pointerUp)),t.addEventListener("MSPointerMove",this._handlePointerEvent("move",this._pointerMove)),t.addEventListener("MSPointerCancel",this._handlePointerEvent("cancel",this._pointerCancel))):(t.addEventListener("mousedown",this._handleMouseEvent("down",this._pointerDown)),t.addEventListener("mouseup",this._handleMouseEvent("up",this._pointerUp)),t.addEventListener("mousemove",this._handleMouseEvent("move",this._pointerMove)));var e={passive:!(this._engine.pageScrollPreventionMode===Dn.All||this._engine.pageScrollPreventionMode===Dn.Canvas)};"onwheel"in document.createElement("div")?t.addEventListener("wheel",this._handleWheelEvent("wheel",this._wheel),e):void 0!==document.onmousewheel?t.addEventListener("mousewheel",this._handleWheelEvent("wheel",this._wheel),e):t.addEventListener("MozMousePixelScroll",this._handleWheelEvent("wheel",this._wheel),e)},e.prototype.triggerEvent=function(t,e,i,n,r){void 0===i&&(i=an.Left),void 0===n&&(n="mouse"),void 0===r&&(r=0);var o,s=0,a=0;e instanceof Y?(s=e.pagePos.x,a=e.pagePos.y,o=e):(s=e.x,a=e.y,o=new Y(e.clone(),e.clone(),e.clone()));var c={pageX:s,pageY:a,pointerId:r,pointerType:n,button:i,preventDefault:function(){}};switch(t){case"move":this._handlePointerEvent(t,this._pointerMove,o)(c);break;case"down":this._handlePointerEvent(t,this._pointerDown,o)(c);break;case"up":this._handlePointerEvent(t,this._pointerUp,o)(c);break;case"cancel":this._handlePointerEvent(t,this._pointerCancel,o)(c)}for(var h=0,u=this._engine.currentScene.actors;h<u.length;h++){var l=u[h],p=l.traits.filter((function(t){return t instanceof Ne}))[0];p&&p.update(l,this._engine,1)}this.dispatchPointerEvents(),this.update()},e.prototype.update=function(){this._pointerUp.length=0,this._pointerDown.length=0,this._pointerMove.length=0,this._pointerCancel.length=0,this._wheel.length=0;for(var t=0;t<this._pointers.length;t++)this._pointers[t].update()},e.prototype.at=function(t){if(t>=this._pointers.length)for(var e=this._pointers.length-1,i=t;e<i;e++)this._pointers.push(new un),this._activePointers.push(-1);return this._pointers[t]},e.prototype.count=function(){return this._pointers.length},e.prototype.checkAndUpdateActorUnderPointer=function(t){for(var e=0,i=this._pointers;e<i.length;e++){var n=i[e];n.checkActorUnderPointer(t)?n.addActorUnderPointer(t):n.removeActorUnderPointer(t)}},e.prototype._dispatchWithBubble=function(t){for(var e=0,i=t;e<i.length;e++)for(var n=i[e],r=0,o=n.pointer.getActorsForEvents();r<o.length;r++){var s=o[r];if(n.propagate(s),!n.bubbles)break}},e.prototype._dispatchPointerLeaveEvents=function(){for(var t={},e=[],i=0,n=this._pointerMove;i<n.length;i++)for(var r=n[i],o=0,s=r.pointer.getActorsForEvents();o<s.length;o++){var a=s[o];if(!t[r.pointer.id+"+"+a.id]&&r.pointer.wasActorUnderPointer(a)&&!r.pointer.isActorUnderPointer(a)){t[r.pointer.id+"+"+a.id]=r;var c=xn("leave",new Y(r.worldPos,r.pagePos,r.screenPos),r.pointer,r.index,r.pointerType,r.button,r.ev);c.propagate(a),e.push(c)}}return e},e.prototype._dispatchPointerEnterEvents=function(){for(var t={},e=[],i=0,n=this._pointerMove;i<n.length;i++)for(var r=n[i],o=0,s=r.pointer.getActorsForEvents();o<s.length;o++){var a=s[o];if(!t[r.pointer.id]&&!r.pointer.wasActorUnderPointer(a)&&r.pointer.isActorUnderPointer(a)){t[r.pointer.id]=r;var c=xn("enter",new Y(r.worldPos,r.pagePos,r.screenPos),r.pointer,r.index,r.pointerType,r.button,r.ev);c.propagate(a),e.push(c),r.pointer.isDragging&&(r.pointer.dragTarget=a)}}return e},e.prototype.dispatchPointerEvents=function(){this._dispatchWithBubble(this._pointerDown),this._dispatchWithBubble(this._pointerUp),this._dispatchWithBubble(this._pointerMove),this._dispatchPointerLeaveEvents(),this._dispatchPointerEnterEvents(),this._dispatchWithBubble(this._pointerCancel);for(var t=0,e=this._wheel;t<e.length;t++)for(var i=e[t],n=0,r=this._pointers[i.index].getActorsUnderPointer();n<r.length;n++){var o=r[n];if(this._propagateWheelPointerEvent(o,i),!i.bubbles)break}},e.prototype._propagateWheelPointerEvent=function(t,e){t.emit("pointerwheel",e),e.bubbles&&t.parent&&this._propagateWheelPointerEvent(t.parent,e)},e.prototype._handleMouseEvent=function(t,e){var i=this;return function(n){n.preventDefault();var r=i.at(0),o=Y.fromPagePosition(n.pageX,n.pageY,i._engine),s=xn(t,o,r,0,tn.Mouse,i._nativeButtonToPointerButton(n.button),n);e.push(s),r.eventDispatcher.emit(t,s)}},e.prototype._handleTouchEvent=function(t,e){var i=this;return function(n){n.preventDefault();for(var r=0,o=n.changedTouches.length;r<o;r++){var s=i._pointers.length>1?i._getPointerIndex(n.changedTouches[r].identifier):0;if(-1!==s){var a=i.at(s),c=Y.fromPagePosition(n.changedTouches[r].pageX,n.changedTouches[r].pageY,i._engine),h=xn(t,c,a,s,tn.Touch,cn.Unknown,n);e.push(h),a.eventDispatcher.emit(t,h),i._pointers.length>1&&("up"===t?i._activePointers[s]=-1:"down"===t&&(i._activePointers[s]=n.changedTouches[r].identifier))}}}},e.prototype._handlePointerEvent=function(t,e,i){var n=this;return function(r){r.preventDefault();var o=n._pointers.length>1?n._getPointerIndex(r.pointerId):0;if(-1!==o){var s=n.at(o),a=i||Y.fromPagePosition(r.pageX,r.pageY,n._engine),c=xn(t,a,s,o,n._stringToPointerType(r.pointerType),n._nativeButtonToPointerButton(r.button),r);e.push(c),s.eventDispatcher.emit(t,c),n._pointers.length>1&&("up"===t?n._activePointers[o]=-1:"down"===t&&(n._activePointers[o]=r.pointerId))}}},e.prototype._handleWheelEvent=function(t,e){var i=this;return function(n){(i._engine.pageScrollPreventionMode===Dn.All||i._engine.pageScrollPreventionMode===Dn.Canvas&&n.target===i._engine.canvas)&&n.preventDefault();var r=n.pageX-E(i._engine.canvas).x,o=n.pageY-E(i._engine.canvas).y,s=i._engine.screenToWorldCoordinates(new V(r,o)),a=n.deltaX||-.025*n.wheelDeltaX||0,c=n.deltaY||-.025*n.wheelDeltaY||-.025*n.wheelDelta||n.detail||0,h=n.deltaZ||0,u=hn.Pixel;n.deltaMode&&(1===n.deltaMode?u=hn.Line:2===n.deltaMode&&(u=hn.Page));var l=new wn(s.x,s.y,n.pageX,n.pageY,r,o,0,a,c,h,u,n);e.push(l),i.at(0).eventDispatcher.emit(t,l)}},e.prototype._getPointerIndex=function(t){var e;if((e=this._activePointers.indexOf(t))>-1)return e;for(var i=0;i<this._activePointers.length;i++)if(-1===this._activePointers[i])return i;return-1},e.prototype._nativeButtonToPointerButton=function(t){switch(t){case an.NoButton:return cn.NoButton;case an.Left:return cn.Left;case an.Middle:return cn.Middle;case an.Right:return cn.Right;case an.Unknown:return cn.Unknown;default:return B(t)}},e.prototype._stringToPointerType=function(t){switch(t){case"touch":return tn.Touch;case"mouse":return tn.Mouse;case"pen":return tn.Pen;default:return tn.Unknown}},e}(Rt),Cn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),On=function(t){function e(){var e=t.call(this)||this;return e.enabled=!1,e.supported=!!navigator.getGamepads,e._gamePadTimeStamps=[0,0,0,0],e._oldPads=[],e._pads=[],e._initSuccess=!1,e._navigator=navigator,e._minimumConfiguration=null,e}return Cn(e,t),e.prototype.init=function(){this.supported&&(this._initSuccess||(this._oldPads=this._clonePads(this._navigator.getGamepads()),this._oldPads.length&&this._oldPads[0]&&(this._initSuccess=!0)))},e.prototype.setMinimumGamepadConfiguration=function(t){this._enableAndUpdate(),this._minimumConfiguration=t},e.prototype._enableAndUpdate=function(){this.enabled||(this.enabled=!0,this.update())},e.prototype._isGamepadValid=function(t){if(!this._minimumConfiguration)return!0;if(!t)return!1;var e=t.axes.filter((function(t){return void 0!==typeof t})).length,i=t.buttons.filter((function(t){return void 0!==typeof t})).length;return e>=this._minimumConfiguration.axis&&i>=this._minimumConfiguration.buttons&&t.connected},e.prototype.on=function(e,i){this._enableAndUpdate(),t.prototype.on.call(this,e,i)},e.prototype.off=function(e,i){this._enableAndUpdate(),t.prototype.off.call(this,e,i)},e.prototype.update=function(){if(this.enabled&&this.supported){this.init();for(var t=this._navigator.getGamepads(),e=0;e<t.length;e++)if(t[e]){if(!this.at(e).connected&&this._isGamepadValid(t[e])&&this.eventDispatcher.emit("connect",new ft(e,this.at(e))),this.at(e).connected=!0,!t[e].timestamp||t[e].timestamp!==this._gamePadTimeStamps[e]){this._gamePadTimeStamps[e]=t[e].timestamp,this.at(e).navigatorGamepad=t[e];var i=void 0,n=void 0,r=void 0,o=void 0,s=void 0;for(i in Pn)"number"==typeof(n=Pn[i])&&t[e].buttons[n]&&(s=t[e].buttons[n].value)!==this._oldPads[e].getButton(n)&&(t[e].buttons[n].pressed?(this.at(e).updateButton(n,s),this.at(e).eventDispatcher.emit("button",new yt(n,s,this.at(e)))):this.at(e).updateButton(n,0));for(r in Sn)"number"==typeof(o=Sn[r])&&(s=t[e].axes[o])!==this._oldPads[e].getAxes(o)&&(this.at(e).updateAxes(o,s),this.at(e).eventDispatcher.emit("axis",new _t(o,s,this.at(e))));this._oldPads[e]=this._clonePad(t[e])}}else{var a=this.at(e);a.connected&&this.eventDispatcher.emit("disconnect",new gt(e,a)),a.connected=!1}}},e.prototype.at=function(t){if(this._enableAndUpdate(),t>=this._pads.length)for(var e=this._pads.length-1,i=t;e<i;e++)this._pads.push(new Tn),this._oldPads.push(new Tn);return this._pads[t]},e.prototype.getValidGamepads=function(){this._enableAndUpdate();for(var t=[],e=0;e<this._pads.length;e++)this._isGamepadValid(this.at(e).navigatorGamepad)&&this.at(e).connected&&t.push(this.at(e));return t},e.prototype.count=function(){return this._pads.filter((function(t){return t.connected})).length},e.prototype._clonePads=function(t){for(var e=[],i=0,n=t.length;i<n;i++)e.push(this._clonePad(t[i]));return e},e.prototype._clonePad=function(t){var e,i,n=new Tn;if(!t)return n;for(e=0,i=t.buttons.length;e<i;e++)t.buttons[e]&&n.updateButton(e,t.buttons[e].value);for(e=0,i=t.axes.length;e<i;e++)n.updateAxes(e,t.axes[e]);return n},e.MinAxisMoveThreshold=.05,e}(Rt),Tn=function(t){function e(){var e=t.call(this)||this;e.connected=!1,e._buttons=new Array(16),e._axes=new Array(4);for(var i=0;i<e._buttons.length;i++)e._buttons[i]=0;for(i=0;i<e._axes.length;i++)e._axes[i]=0;return e}return Cn(e,t),e.prototype.isButtonPressed=function(t,e){return void 0===e&&(e=1),this._buttons[t]>=e},e.prototype.getButton=function(t){return this._buttons[t]},e.prototype.getAxes=function(t){var e=this._axes[t];return Math.abs(e)<On.MinAxisMoveThreshold?0:e},e.prototype.updateButton=function(t,e){this._buttons[t]=e},e.prototype.updateAxes=function(t,e){this._axes[t]=e},e}(Rt);!function(t){t[t.Face1=0]="Face1",t[t.Face2=1]="Face2",t[t.Face3=2]="Face3",t[t.Face4=3]="Face4",t[t.LeftBumper=4]="LeftBumper",t[t.RightBumper=5]="RightBumper",t[t.LeftTrigger=6]="LeftTrigger",t[t.RightTrigger=7]="RightTrigger",t[t.Select=8]="Select",t[t.Start=9]="Start",t[t.LeftStick=10]="LeftStick",t[t.RightStick=11]="RightStick",t[t.DpadUp=12]="DpadUp",t[t.DpadDown=13]="DpadDown",t[t.DpadLeft=14]="DpadLeft",t[t.DpadRight=15]="DpadRight"}(Pn||(Pn={})),function(t){t[t.LeftStickX=0]="LeftStickX",t[t.LeftStickY=1]="LeftStickY",t[t.RightStickX=2]="RightStickX",t[t.RightStickY=3]="RightStickY"}(Sn||(Sn={}));var Mn,Dn,kn=function(){function t(t){this.nativeComponent=t,this._paused=!1,this._nativeHandlers={}}return t.prototype.on=function(t,e){this._nativeHandlers[t]&&this.off(t,this._nativeHandlers[t]),this._nativeHandlers[t]=this._decorate(e),this.nativeComponent.addEventListener(t,this._nativeHandlers[t])},t.prototype.off=function(t,e){e||(e=this._nativeHandlers[t]),this.nativeComponent.removeEventListener(t,e),this._nativeHandlers[t]=null},t.prototype._decorate=function(t){var e=this;return function(i){e._paused||t(i)}},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.clear=function(){for(var t in this._nativeHandlers)this.off(t)},t}(),Bn=function(){function t(t,e){this._windowGlobal=t,this._documentGlobal=e,this._windowComponent=new kn(this._windowGlobal),this._documentComponent=new kn(this._documentGlobal)}return Object.defineProperty(t.prototype,"window",{get:function(){return this._windowComponent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){return this._documentComponent},enumerable:!0,configurable:!0}),t.prototype.pause=function(){this.window.pause(),this.document.pause()},t.prototype.resume=function(){this.window.resume(),this.document.resume()},t.prototype.clear=function(){this.window.clear(),this.document.clear()},t}(),Rn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),jn=function(){return(jn=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};l(),function(t){t[t.FullScreen=0]="FullScreen",t[t.Container=1]="Container",t[t.Fixed=2]="Fixed",t[t.Position=3]="Position"}(Mn||(Mn={})),function(t){t[t.None=0]="None",t[t.Canvas=1]="Canvas",t[t.All=2]="All"}(Dn||(Dn={}));var Fn,In=function(t){function e(i){var n=t.call(this)||this;n._hasStarted=!1,n.postProcessors=[],n.scenes={},n._animations=[],n.isFullscreen=!1,n.displayMode=Mn.FullScreen,n._suppressHiDPIScaling=!1,n._suppressPlayButton=!1,n.pauseAudioWhenHidden=!0,n.isDebug=!1,n.debugColor=new Lt(255,255,255),n.enableCanvasTransparency=!0,n.onFatalException=function(t){R.getInstance().fatal(t)},n._isSmoothingEnabled=!0,n._timescale=1,n._isLoading=!1,n._isInitialized=!1,i=jn(jn({},e._DefaultEngineOptions),i),n.browser=new Bn(window,document);var r=new bi;if(!i.suppressMinimumBrowserFeatureDetection&&!(n._compatible=r.test())){var o=document.createElement("div");if(o.innerText="Sorry, your browser does not support all the features needed for Excalibur",document.body.appendChild(o),r.failedTests.forEach((function(t){var e=document.createElement("div");e.innerText="Browser feature missing "+t,document.body.appendChild(e)})),i.canvasElementId){var s=document.getElementById(i.canvasElementId);s&&s.parentElement.removeChild(s)}return n}return n._compatible=!0,console.log&&!i.suppressConsoleBootMessage&&(console.log("%cPowered by Excalibur.js (v"+br+")","background: #176BAA; color: white; border-radius: 5px; padding: 15px; font-size: 1.5em; line-height: 80px;"),console.log("\n      /| ________________\nO|===|* >________________>\n      \\|"),console.log("Visit","http://excaliburjs.com","for more information")),i.suppressPlayButton&&(n._suppressPlayButton=!0),n._logger=R.getInstance(),n._logger.defaultLevel===D.Debug&&r.logBrowserFeatures(),n._logger.debug("Building engine..."),n.canvasElementId=i.canvasElementId,i.canvasElementId?(n._logger.debug("Using Canvas element specified: "+i.canvasElementId),n.canvas=document.getElementById(i.canvasElementId)):i.canvasElement?(n._logger.debug("Using Canvas element specified:",i.canvasElement),n.canvas=i.canvasElement):(n._logger.debug("Using generated canvas element"),n.canvas=document.createElement("canvas")),i.width&&i.height?(void 0===i.displayMode&&(n.displayMode=Mn.Fixed),n._logger.debug("Engine viewport is size "+i.width+" x "+i.height),n.canvas.width=i.width,n.canvas.height=i.height):i.displayMode||(n._logger.debug("Engine viewport is fullscreen"),n.displayMode=Mn.FullScreen),i.backgroundColor&&(n.backgroundColor=i.backgroundColor.clone()),n.enableCanvasTransparency=i.enableCanvasTransparency,n._loader=new vi,n.debug=new Zi(n),n._initialize(i),n.rootScene=n.currentScene=new Gi(n),n.addScene("root",n.rootScene),n.goToScene("root"),n}return Rn(e,t),Object.defineProperty(e.prototype,"canvasWidth",{get:function(){return this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfCanvasWidth",{get:function(){return this.canvas.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvasHeight",{get:function(){return this.canvas.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfCanvasHeight",{get:function(){return this.canvas.height/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"drawWidth",{get:function(){return this.currentScene&&this.currentScene.camera?this.canvasWidth/this.currentScene.camera.getZoom()/this.pixelRatio:this.canvasWidth/this.pixelRatio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfDrawWidth",{get:function(){return this.drawWidth/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"drawHeight",{get:function(){return this.currentScene&&this.currentScene.camera?this.canvasHeight/this.currentScene.camera.getZoom()/this.pixelRatio:this.canvasHeight/this.pixelRatio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfDrawHeight",{get:function(){return this.drawHeight/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHiDpi",{get:function(){return 1!==this.pixelRatio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stats",{get:function(){return this.debug.stats},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelRatio",{get:function(){return this._suppressHiDPIScaling?1:window.devicePixelRatio<1?1:window.devicePixelRatio||1},enumerable:!0,configurable:!0}),e.prototype.on=function(e,i){t.prototype.on.call(this,e,i)},e.prototype.once=function(e,i){t.prototype.once.call(this,e,i)},e.prototype.off=function(e,i){t.prototype.off.call(this,e,i)},e.prototype.getWorldBounds=function(){var t=this.screenToWorldCoordinates(V.Zero).x,e=this.screenToWorldCoordinates(V.Zero).y,i=t+this.drawWidth,n=e+this.drawHeight;return new Me(t,e,i,n)},Object.defineProperty(e.prototype,"timescale",{get:function(){return this._timescale},set:function(t){t<=0?R.getInstance().error("Cannot set engine.timescale to a value of 0 or less than 0."):this._timescale=t},enumerable:!0,configurable:!0}),e.prototype.playAnimation=function(t,e,i){this._animations.push(new Ln(t,e,i))},e.prototype.addTileMap=function(t){this.currentScene.addTileMap(t)},e.prototype.removeTileMap=function(t){this.currentScene.removeTileMap(t)},e.prototype.addTimer=function(t){return this.currentScene.addTimer(t)},e.prototype.removeTimer=function(t){return this.currentScene.removeTimer(t)},e.prototype.addScene=function(t,e){this.scenes[t]&&this._logger.warn("Scene",t,"already exists overwriting"),this.scenes[t]=e},e.prototype.removeScene=function(t){if(t instanceof Gi)for(var e in this.scenes)this.scenes.hasOwnProperty(e)&&this.scenes[e]===t&&delete this.scenes[e];"string"==typeof t&&delete this.scenes[t]},e.prototype.add=function(t){t instanceof oi?this.currentScene.addScreenElement(t):(t instanceof ii&&this._addChild(t),t instanceof ai&&this.addTimer(t),t instanceof hi&&this.addTileMap(t),2===arguments.length&&this.addScene(arguments[0],arguments[1]))},e.prototype.remove=function(t){t instanceof oi?this.currentScene.removeScreenElement(t):(t instanceof ii&&this._removeChild(t),t instanceof ai&&this.removeTimer(t),t instanceof hi&&this.removeTileMap(t),t instanceof Gi&&this.removeScene(t),"string"==typeof t&&this.removeScene(t))},e.prototype._addChild=function(t){this.currentScene.add(t)},e.prototype._removeChild=function(t){this.currentScene.remove(t)},e.prototype.goToScene=function(t){if(this.scenes[t]){var e=this.currentScene,i=this.scenes[t];this._logger.debug("Going to scene:",t),this.currentScene.isInitialized&&(this.currentScene._deactivate.call(this.currentScene,[e,i]),this.currentScene.eventDispatcher.emit("deactivate",new Ot(i,this.currentScene))),this.currentScene=i,this.currentScene._initialize(this),this.currentScene._activate.call(this.currentScene,[e,i]),this.currentScene.eventDispatcher.emit("activate",new Ct(e,this.currentScene))}else this._logger.error("Scene",t,"does not exist!")},e.prototype.screenToWorldCoordinates=function(t){var e=t.x,i=t.y;if(e=e/this.canvas.clientWidth*this.drawWidth,i=i/this.canvas.clientHeight*this.drawHeight,e-=this.halfDrawWidth,i-=this.halfDrawHeight,this.currentScene&&this.currentScene.camera){var n=this.currentScene.camera.getFocus();e+=n.x,i+=n.y}return new V(Math.floor(e),Math.floor(i))},e.prototype.worldToScreenCoordinates=function(t){var e=t.x,i=t.y;if(this.currentScene&&this.currentScene.camera){var n=this.currentScene.camera.getFocus();e-=n.x,i-=n.y}return e+=this.halfDrawWidth,i+=this.halfDrawHeight,e=e*this.canvas.clientWidth/this.drawWidth,i=i*this.canvas.clientHeight/this.drawHeight,new V(Math.floor(e),Math.floor(i))},e.prototype._setHeightByDisplayMode=function(t){this.displayMode===Mn.Container&&(this.canvas.width=t.clientWidth,this.canvas.height=t.clientHeight),this.displayMode===Mn.FullScreen&&(document.body.style.margin="0px",document.body.style.overflow="hidden",this.canvas.width=t.innerWidth,this.canvas.height=t.innerHeight)},e.prototype._initialize=function(t){var e,i,n=this;if(t.displayMode&&(this.displayMode=t.displayMode),this.displayMode===Mn.FullScreen||this.displayMode===Mn.Container){var r=this.displayMode===Mn.Container?this.canvas.parentElement||document.body:window;this._setHeightByDisplayMode(r),this.browser.window.on("resize",(function(){n._logger.debug("View port resized"),n._setHeightByDisplayMode(r),n._logger.info("parent.clientHeight "+r.clientHeight),n.setAntialiasing(n._isSmoothingEnabled)}))}else this.displayMode===Mn.Position&&this._initializeDisplayModePosition(t);this.pageScrollPreventionMode=t.scrollPreventionMode,this.input={keyboard:new rn,pointers:new An(this),gamepads:new On},this.input.keyboard.init(),this.input.pointers.init(t&&t.pointerScope===en.Document?document:this.canvas),this.input.gamepads.init(),void 0!==document.hidden?(e="hidden",i="visibilitychange"):"msHidden"in document?(e="msHidden",i="msvisibilitychange"):"webkitHidden"in document&&(e="webkitHidden",i="webkitvisibilitychange"),this.browser.document.on(i,(function(){document[e]?(n.eventDispatcher.emit("hidden",new wt(n)),n._logger.debug("Window hidden")):(n.eventDispatcher.emit("visible",new bt(n)),n._logger.debug("Window visible"))})),this.ctx=this.canvas.getContext("2d",{alpha:this.enableCanvasTransparency}),this._suppressHiDPIScaling=!!t.suppressHiDPIScaling,t.suppressHiDPIScaling||this._initializeHiDpi(),this.canvasElementId||t.canvasElement||document.body.appendChild(this.canvas)},e.prototype.onInitialize=function(t){},e.prototype._initializeDisplayModePosition=function(t){if(!t.position)throw new Error("DisplayMode of Position was selected but no position option was given");if(this.canvas.style.display="block",this.canvas.style.position="absolute","string"==typeof t.position){var e=t.position.split(" ");switch(e[0]){case"top":this.canvas.style.top="0px";break;case"bottom":this.canvas.style.bottom="0px";break;case"middle":this.canvas.style.top="50%";var i=-this.halfDrawHeight;this.canvas.style.marginTop=i.toString();break;default:throw new Error("Invalid Position Given")}if(e[1])switch(e[1]){case"left":this.canvas.style.left="0px";break;case"right":this.canvas.style.right="0px";break;case"center":this.canvas.style.left="50%";var n=-this.halfDrawWidth;this.canvas.style.marginLeft=n.toString();break;default:throw new Error("Invalid Position Given")}}else t.position.top&&("number"==typeof t.position.top?this.canvas.style.top=t.position.top.toString()+"px":this.canvas.style.top=t.position.top),t.position.right&&("number"==typeof t.position.right?this.canvas.style.right=t.position.right.toString()+"px":this.canvas.style.right=t.position.right),t.position.bottom&&("number"==typeof t.position.bottom?this.canvas.style.bottom=t.position.bottom.toString()+"px":this.canvas.style.bottom=t.position.bottom),t.position.left&&("number"==typeof t.position.left?this.canvas.style.left=t.position.left.toString()+"px":this.canvas.style.left=t.position.left)},e.prototype._initializeHiDpi=function(){if(this.isHiDpi){var t=this.canvas.width,e=this.canvas.height;this.canvas.width=t*this.pixelRatio,this.canvas.height=e*this.pixelRatio,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px",this._logger.warn("Hi DPI screen detected, resetting canvas resolution from \n                           "+t+"x"+e+" to "+this.canvas.width+"x"+this.canvas.height+" \n                           css size will remain "+t+"x"+e),this.ctx.scale(this.pixelRatio,this.pixelRatio),this._logger.warn("Canvas drawing context was scaled by "+this.pixelRatio)}},e.prototype.setAntialiasing=function(t){this._isSmoothingEnabled=t;var e=this.ctx;e.imageSmoothingEnabled=t;for(var i=0,n=["webkitImageSmoothingEnabled","mozImageSmoothingEnabled","msImageSmoothingEnabled"];i<n.length;i++){var r=n[i];r in e&&(e[r]=t)}},e.prototype.getAntialiasing=function(){return this.ctx.imageSmoothingEnabled||this.ctx.webkitImageSmoothingEnabled||this.ctx.mozImageSmoothingEnabled||this.ctx.msImageSmoothingEnabled},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),e.prototype._overrideInitialize=function(e){this.isInitialized||(this.onInitialize(e),t.prototype.emit.call(this,"initialize",new At(e,this)),this._isInitialized=!0)},e.prototype._update=function(t){if(this._isLoading)return this._loader.update(this,t),this.input.keyboard.update(),this.input.pointers.update(),void this.input.gamepads.update();this._overrideInitialize(this),this._preupdate(t),this.currentScene.update(this,t),this._animations=this._animations.filter((function(t){return!t.animation.isDone()})),this.input.keyboard.update(),this.input.pointers.update(),this.input.gamepads.update(),this._postupdate(t)},e.prototype._preupdate=function(t){this.emit("preupdate",new ut(this,t,this)),this.onPreUpdate(this,t)},e.prototype.onPreUpdate=function(t,e){},e.prototype._postupdate=function(t){this.emit("postupdate",new lt(this,t,this)),this.onPostUpdate(this,t)},e.prototype.onPostUpdate=function(t,e){},e.prototype._draw=function(t){var e=this.ctx;if(this._predraw(e,t),this._isLoading)this._loader.draw(e,t);else{e.clearRect(0,0,this.canvasWidth,this.canvasHeight),e.fillStyle=this.backgroundColor.toString(),e.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.currentScene.draw(this.ctx,t);for(var i=0,n=this._animations.length;i<n;i++)this._animations[i].animation.draw(e,this._animations[i].x,this._animations[i].y);if(this.isDebug){this.ctx.font="Consolas",this.ctx.fillStyle=this.debugColor.toString();for(var r=this.input.keyboard.getKeys(),o=0;o<r.length;o++)this.ctx.fillText(r[o].toString()+" : "+(Xi[r[o]]?Xi[r[o]]:"Not Mapped"),100,10*o+10);this.ctx.fillText("FPS:"+this.stats.currFrame.fps.toFixed(2).toString(),10,10)}for(var s=0;s<this.postProcessors.length;s++)this.postProcessors[s].process(this.ctx.getImageData(0,0,this.canvasWidth,this.canvasHeight),this.ctx);this._postdraw(e,t)}},e.prototype._predraw=function(t,e){this.emit("predraw",new st(t,e,this)),this.onPreDraw(t,e)},e.prototype.onPreDraw=function(t,e){},e.prototype._postdraw=function(t,e){this.emit("postdraw",new at(t,e,this)),this.onPostDraw(t,e)},e.prototype.onPostDraw=function(t,e){},e.prototype.start=function(t){var i,n=this;return this._compatible?(t?(this._loader=t,this._loader.suppressPlayButton=this._suppressPlayButton||this._loader.suppressPlayButton,this._loader.wireEngine(this),i=this.load(this._loader)):i=d.resolve(),i.then((function(){n.emit("start",new rt(n))})),this._hasStarted||(this._hasStarted=!0,this._logger.debug("Starting game..."),this.browser.resume(),e.createMainLoop(this,window.requestAnimationFrame,Date.now)(),this._logger.debug("Game started")),i):(new d).reject("Excalibur is incompatible with your browser")},e.createMainLoop=function(t,e,i){var n=i();return function r(){if(t._hasStarted)try{t._requestId=e(r),t.emit("preframe",new pt(t,t.stats.prevFrame));var o=i(),s=Math.floor(o-n)||1;s>200&&(s=1);var a=s*t.timescale,c=t.stats.prevFrame.id+1;t.stats.prevFrame.reset(t.stats.currFrame),t.stats.currFrame.reset(),t.stats.currFrame.id=c,t.stats.currFrame.delta=a,t.stats.currFrame.fps=1/(a/1e3);var h=i();t._update(a);var u=i();t._draw(a);var l=i();t.stats.currFrame.duration.update=u-h,t.stats.currFrame.duration.draw=l-u,n=o,t.emit("postframe",new dt(t,t.stats.currFrame))}catch(e){window.cancelAnimationFrame(t._requestId),t.stop(),t.onFatalException(e)}}},e.prototype.stop=function(){this._hasStarted&&(this.emit("stop",new ot(this)),this.browser.pause(),this._hasStarted=!1,this._logger.debug("Game stopped"))},e.prototype.isPaused=function(){return!this._hasStarted},e.prototype.screenshot=function(){var t=new Image,e=this.canvas.toDataURL("image/png");return t.src=e,t},e.prototype.load=function(t){var e=this,i=new d;return this._isLoading=!0,t.load().then((function(){e._suppressPlayButton?setTimeout((function(){e._isLoading=!1,i.resolve()}),500):(e._isLoading=!1,i.resolve())})),i},e._DefaultEngineOptions={width:0,height:0,enableCanvasTransparency:!0,canvasElementId:"",canvasElement:void 0,pointerScope:en.Document,suppressConsoleBootMessage:null,suppressMinimumBrowserFeatureDetection:null,suppressHiDPIScaling:null,suppressPlayButton:null,scrollPreventionMode:Dn.Canvas,backgroundColor:Lt.fromHex("#2185d0")},e}(Rt),Ln=function(t,e,i){this.animation=t,this.x=e,this.y=i},zn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Hn=function(t){function e(e,i){void 0===i&&(i="MediaEvent");var n=t.call(this)||this;return n.target=e,n._name=i,n}return zn(e,t),Object.defineProperty(e.prototype,"bubbles",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_path",{get:function(){return null},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.stopPropagation=function(){},e.prototype.action=function(){},e.prototype.propagate=function(){},e.prototype.layPath=function(t){},e}(tt),Wn=function(t){function e(e,i){var n=t.call(this,e,"NativeSoundEvent")||this;return n.track=i,n}return zn(e,t),e}(Hn),Un=function(t){function e(e,i){var n=t.call(this,e,"NativeSoundProcessedEvent")||this;return n.processedData=i,n.data=n.processedData,n}return zn(e,t),e}(Hn),Nn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.Circle=0]="Circle",t[t.Rectangle=1]="Rectangle"}(Fn||(Fn={}));var qn=function(t){function e(e,i,n,r,o,s,a,c,h,u){return t.call(this,e,i,n,r,o,s,a,c,h,u)||this}return Nn(e,t),e}(Zt(function(){function t(t,e,i,n,r,o,s,a,c,h){this.position=new V(0,0),this.velocity=new V(0,0),this.acceleration=new V(0,0),this.particleRotationalVelocity=0,this.currentRotation=0,this.focus=null,this.focusAccel=0,this.opacity=1,this.beginColor=Lt.White,this.endColor=Lt.White,this.life=300,this.fadeFlag=!1,this._rRate=1,this._gRate=1,this._bRate=1,this._aRate=0,this._currentColor=Lt.White,this.emitter=null,this.particleSize=5,this.particleSprite=null,this.sizeRate=0,this.elapsedMultiplier=0;var u=t;if(u&&!(t instanceof Vn)){var l=t;u=l.emitter,e=l.life,i=l.opacity,r=l.endColor,n=l.beginColor,o=l.position,s=l.velocity,a=l.acceleration,c=l.startSize,h=l.endSize}this.emitter=u,this.life=e||this.life,this.opacity=i||this.opacity,this.endColor=r||this.endColor.clone(),this.beginColor=n||this.beginColor.clone(),this._currentColor=this.beginColor.clone(),this.position=o||this.position,this.velocity=s||this.velocity,this.acceleration=a||this.acceleration,this._rRate=(this.endColor.r-this.beginColor.r)/this.life,this._gRate=(this.endColor.g-this.beginColor.g)/this.life,this._bRate=(this.endColor.b-this.beginColor.b)/this.life,this._aRate=this.opacity/this.life,this.startSize=c||0,this.endSize=h||0,this.endSize>0&&this.startSize>0&&(this.sizeRate=(this.endSize-this.startSize)/this.life,this.particleSize=this.startSize)}return t.prototype.kill=function(){this.emitter.removeParticle(this)},t.prototype.update=function(t){if(this.life=this.life-t,this.elapsedMultiplier=this.elapsedMultiplier+t,this.life<0&&this.kill(),this.fadeFlag&&(this.opacity=m(this._aRate*this.life,1e-4,1)),this.startSize>0&&this.endSize>0&&(this.particleSize=m(this.sizeRate*t+this.particleSize,Math.min(this.startSize,this.endSize),Math.max(this.startSize,this.endSize))),this._currentColor.r=m(this._currentColor.r+this._rRate*t,0,255),this._currentColor.g=m(this._currentColor.g+this._gRate*t,0,255),this._currentColor.b=m(this._currentColor.b+this._bRate*t,0,255),this._currentColor.a=m(this.opacity,1e-4,1),this.focus){var e=this.focus.sub(this.position).normalize().scale(this.focusAccel).scale(t/1e3);this.velocity=this.velocity.add(e)}else this.velocity=this.velocity.add(this.acceleration.scale(t/1e3));this.position=this.position.add(this.velocity.scale(t/1e3)),this.particleRotationalVelocity&&(this.currentRotation=(this.currentRotation+this.particleRotationalVelocity*t/1e3)%(2*Math.PI))},t.prototype.draw=function(t){if(this.particleSprite)return this.particleSprite.rotation=this.currentRotation,this.particleSprite.scale.setTo(this.particleSize,this.particleSize),void this.particleSprite.draw(t,this.position.x,this.position.y);this._currentColor.a=m(this.opacity,1e-4,1),t.fillStyle=this._currentColor.toString(),t.beginPath(),t.arc(this.position.x,this.position.y,this.particleSize,0,2*Math.PI),t.fill(),t.closePath()},t}())),Vn=function(t){function e(e,i,n,r){return t.call(this,e,i,n,r)||this}return Nn(e,t),e}(Zt(function(t){function e(e,i,n,r){var o=t.call(this,"number"==typeof e?{pos:new V(e,i),width:n,height:r}:e)||this;o.numParticles=0,o.isEmitting=!0,o.particles=null,o.deadParticles=null,o.minVel=0,o.maxVel=0,o.acceleration=new V(0,0),o.minAngle=0,o.maxAngle=0,o.emitRate=1,o.particleLife=2e3,o.opacity=1,o.fadeFlag=!1,o.focus=null,o.focusAccel=1,o.startSize=null,o.endSize=null,o.minSize=5,o.maxSize=5,o.beginColor=Lt.White,o.endColor=Lt.White,o.particleSprite=null,o.emitterType=Fn.Rectangle,o.radius=0,o.particleRotationalVelocity=0,o.randomRotation=!1,o._particlesToEmit=0,o.body.collider.type=ne.PreventCollision,o.particles=new k,o.deadParticles=new k,o.random=new f;for(var s=0;s<o.traits.length;s++)o.traits[s]instanceof Ue&&o.traits.splice(s,1);return o}return Nn(e,t),e.prototype.removeParticle=function(t){this.deadParticles.push(t)},e.prototype.emitParticles=function(t){for(var e=0;e<t;e++)this.particles.push(this._createParticle())},e.prototype.clearParticles=function(){this.particles.clear()},e.prototype._createParticle=function(){var t=0,e=0,i=b(this.minAngle,this.maxAngle,this.random),n=b(this.minVel,this.maxVel,this.random),r=this.startSize||b(this.minSize,this.maxSize,this.random),o=n*Math.cos(i),s=n*Math.sin(i);if(this.emitterType===Fn.Rectangle)t=b(this.pos.x,this.pos.x+this.width,this.random),e=b(this.pos.y,this.pos.y+this.height,this.random);else if(this.emitterType===Fn.Circle){var a=b(0,this.radius,this.random);t=a*Math.cos(i)+this.pos.x,e=a*Math.sin(i)+this.pos.y}var c=new qn(this,this.particleLife,this.opacity,this.beginColor,this.endColor,new V(t,e),new V(o,s),this.acceleration,this.startSize,this.endSize);return c.fadeFlag=this.fadeFlag,c.particleSize=r,this.particleSprite&&(c.particleSprite=this.particleSprite),c.particleRotationalVelocity=this.particleRotationalVelocity,this.randomRotation&&(c.currentRotation=b(0,2*Math.PI,this.random)),this.focus&&(c.focus=this.focus.add(new V(this.pos.x,this.pos.y)),c.focusAccel=this.focusAccel),c},e.prototype.update=function(e,i){var n=this;t.prototype.update.call(this,e,i),this.isEmitting&&(this._particlesToEmit+=this.emitRate*(i/1e3),this._particlesToEmit>1&&(this.emitParticles(Math.floor(this._particlesToEmit)),this._particlesToEmit=this._particlesToEmit-Math.floor(this._particlesToEmit))),this.particles.forEach((function(t){return t.update(i)})),this.deadParticles.forEach((function(t){return n.particles.removeElement(t)})),this.deadParticles.clear()},e.prototype.draw=function(t){this.particles.forEach((function(e){return e.draw(t)}))},e.prototype.debugDraw=function(e){t.prototype.debugDraw.call(this,e),e.fillStyle=Lt.Black.toString(),e.fillText("Particles: "+this.particles.count(),this.pos.x,this.pos.y+20),this.focus&&(e.fillRect(this.focus.x+this.pos.x,this.focus.y+this.pos.y,3,3),qe(e,Lt.Yellow,this.focus.x+this.pos.x,this.focus.y+this.pos.y,this.center.x,this.center.y),e.fillText("Focus",this.focus.x+this.pos.x,this.focus.y+this.pos.y))},e}(ii))),Gn={Actions:o},Xn=function(){function t(){}return t.create=function(t,e){if(this._currentGroup>this._MAX_GROUPS)throw new Error("Cannot have more than "+this._MAX_GROUPS+" collision groups");if(this._groups.get(t))throw new Error("Collision group "+t+" already exists");var i=new Ye(t,this._currentBit,void 0!==e?e:~this._currentBit);return this._currentBit=this._currentBit<<1|0,this._currentGroup++,this._groups.set(t,i),i},Object.defineProperty(t,"groups",{get:function(){return Array.from(this._groups.values())},enumerable:!0,configurable:!0}),t.groupByName=function(t){return this._groups.get(t)},t.reset=function(){this._groups=new Map,this._currentBit=this._STARTING_BIT,this._currentGroup=1},t._STARTING_BIT=1,t._MAX_GROUPS=32,t._currentGroup=1,t._currentBit=t._STARTING_BIT,t._groups=new Map,t}(),Kn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Yn=function(t){function e(e,i,n,r){return t.call(this,e,i,n,r)||this}return Kn(e,t),e}(Zt(function(){function t(t,e,i,n){this.sprites=[],this.currentFrame=0,this._oldTime=Date.now(),this.anchor=V.Zero,this.rotation=0,this.scale=V.One,this.loop=!0,this.freezeFrame=-1,this.flipVertical=!1,this.flipHorizontal=!1,this.drawWidth=0,this.drawHeight=0,this.width=0,this.height=0;var r=t;if(t&&!(t instanceof In)){var o=t;r=o.engine,e=o.sprites,i=o.speed,n=o.loop}this.sprites=e,this.speed=i,this._engine=r,null!=n&&(this.loop=n),e&&e[0]&&(this.drawHeight=e[0]?e[0].drawHeight:0,this.drawWidth=e[0]?e[0].drawWidth:0,this.width=e[0]?e[0].width:0,this.height=e[0]?e[0].height:0,this.freezeFrame=e.length-1)}return t.prototype.opacity=function(t){this.addEffect(new Ut(t))},t.prototype.grayscale=function(){this.addEffect(new Ht)},t.prototype.invert=function(){this.addEffect(new Wt)},t.prototype.fill=function(t){this.addEffect(new Kt(t))},t.prototype.colorize=function(t){this.addEffect(new Nt(t))},t.prototype.lighten=function(t){void 0===t&&(t=.1),this.addEffect(new qt(t))},t.prototype.darken=function(t){void 0===t&&(t=.1),this.addEffect(new Vt(t))},t.prototype.saturate=function(t){void 0===t&&(t=.1),this.addEffect(new Gt(t))},t.prototype.desaturate=function(t){void 0===t&&(t=.1),this.addEffect(new Xt(t))},t.prototype.addEffect=function(t){for(var e in this.sprites)this.sprites[e].addEffect(t)},t.prototype.removeEffect=function(t){for(var e in this.sprites)this.sprites[e].removeEffect(t)},t.prototype.clearEffects=function(){for(var t in this.sprites)this.sprites[t].clearEffects()},t.prototype._setAnchor=function(t){for(var e in this.sprites)this.sprites[e].anchor.setTo(t.x,t.y)},t.prototype._setRotation=function(t){for(var e in this.sprites)this.sprites[e].rotation=t},t.prototype._setScale=function(t){for(var e in this.sprites)this.sprites[e].scale=t},t.prototype.reset=function(){this.currentFrame=0},t.prototype.isDone=function(){return!this.loop&&this.currentFrame>=this.sprites.length},t.prototype.tick=function(){var t=Date.now();t-this._oldTime>this.speed&&(this.currentFrame=this.loop?(this.currentFrame+1)%this.sprites.length:this.currentFrame+1,this._oldTime=t)},t.prototype._updateValues=function(){this._setAnchor(this.anchor),this._setRotation(this.rotation),this._setScale(this.scale)},t.prototype.skip=function(t){this.currentFrame=(this.currentFrame+t)%this.sprites.length},t.prototype.draw=function(t,e,i){t instanceof CanvasRenderingContext2D?this._drawWithOptions({ctx:t,x:e,y:i,flipHorizontal:this.flipHorizontal,flipVertical:this.flipVertical}):this._drawWithOptions(t)},t.prototype._drawWithOptions=function(t){var e;this.tick(),this._updateValues(),this.currentFrame<this.sprites.length&&(e=this.sprites[this.currentFrame]).draw(t),-1!==this.freezeFrame&&this.currentFrame>=this.sprites.length&&(e=this.sprites[m(this.freezeFrame,0,this.sprites.length-1)]).draw(t),e&&(this.drawWidth=e.drawWidth,this.drawHeight=e.drawHeight)},t.prototype.play=function(t,e){this.reset(),this._engine.playAnimation(this,t,e)},t}())),Zn=function(){return(Zn=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Qn=function(){function t(t){this.lineWidth=5,this.filled=!1,this._points=[],this.anchor=V.Zero,this.offset=V.Zero,this.rotation=0,this.scale=V.One,this.opacity=1,this._points=t;var e=this._points.reduce((function(t,e){return Math.min(t,e.x)}),0),i=this._points.reduce((function(t,e){return Math.max(t,e.x)}),0);this.drawWidth=i-e;var n=this._points.reduce((function(t,e){return Math.min(t,e.y)}),0),r=this._points.reduce((function(t,e){return Math.max(t,e.y)}),0);this.drawHeight=r-n,this.height=this.drawHeight,this.width=this.drawWidth}return t.prototype.addEffect=function(){},t.prototype.removeEffect=function(){},t.prototype.clearEffects=function(){},t.prototype.reset=function(){},t.prototype.draw=function(t,e,i){t instanceof CanvasRenderingContext2D?this._drawWithOptions({ctx:t,x:e,y:i}):this._drawWithOptions(t)},t.prototype._drawWithOptions=function(t){var e=Zn(Zn({},t),{rotation:v(t.rotation,this.rotation),drawWidth:v(t.drawWidth,this.drawWidth),drawHeight:v(t.drawHeight,this.drawHeight),flipHorizontal:v(t.flipHorizontal,this.flipHorizontal),flipVertical:v(t.flipVertical,this.flipVertical),anchor:v(t.anchor,this.anchor),offset:v(t.offset,this.offset),opacity:v(t.opacity,this.opacity)}),i=e.ctx,n=e.x,r=e.y,o=e.rotation,s=e.drawWidth,a=e.drawHeight,c=e.anchor,h=e.offset,u=e.opacity,l=e.flipHorizontal,p=e.flipVertical,d=s*c.x+h.x+n,f=a*c.y+h.y+r;i.save(),i.translate(d,f),i.scale(this.scale.x,this.scale.y),i.rotate(o),i.beginPath(),i.lineWidth=this.lineWidth;var g=this._points[0];i.moveTo(g.x,g.y);for(var y=0,_=this._points.length;y<_;y++)i.lineTo(this._points[y].x,this._points[y].y);i.lineTo(g.x,g.y),i.closePath(),this.filled&&(i.fillStyle=this.fillColor.toString(),i.fill()),i.strokeStyle=this.lineColor.toString(),l&&(i.translate(s,0),i.scale(-1,1)),p&&(i.translate(0,a),i.scale(1,-1));var m=i.globalAlpha;i.globalAlpha=v(u,1),i.stroke(),i.globalAlpha=m,i.restore()},t}(),Jn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$n=function(t){function e(e,i,n,r,o,s){return t.call(this,e,i,n,r,o,s)||this}return Jn(e,t),e}(Zt(function(){function t(t,e,i,n,r,o){var s=this;this.sprites=[],this.image=null,this.columns=0,this.rows=0,this.spWidth=0,this.spHeight=0,this.spacing=0;var a=!1;if(t instanceof Array?this.sprites=t:(!t||t instanceof ie?(this.image=t,this.columns=e,this.rows=i,this.spWidth=n,this.spHeight=r,this.spacing=o||0):(this.columns=t.columns,this.rows=t.rows,this.spWidth=t.spWidth,this.spHeight=t.spHeight,this.image=t.image,this.spacing=t.spacing||0),this.sprites=new Array(this.columns*this.rows),a=!0),this.image instanceof ie){var c=!1,h=!1;if(this.image.loaded.then((function(t){c=s.spWidth*s.columns>t.naturalWidth,h=s.spHeight*s.rows>t.naturalHeight})),c)throw new RangeError("SpriteSheet specified is wider, "+this.columns+" cols x "+this.spWidth+" pixels > "+this.image.image.naturalWidth+" pixels than image width");if(h)throw new RangeError("SpriteSheet specified is taller, "+this.rows+" rows x "+this.spHeight+" pixels > "+this.image.image.naturalHeight+" pixels than image height")}if(a)for(var u=0;u<this.rows;u++)for(var l=0;l<this.columns;l++)this.sprites[l+u*this.columns]=new te(this.image,l*this.spWidth+this.spacing*l+this.spacing,u*this.spHeight+this.spacing*u+this.spacing,this.spWidth,this.spHeight)}return t.prototype.getAnimationByIndices=function(t,e,i){var n=this,r=e.map((function(t){return n.sprites[t]}));return r=r.map((function(t){return t.clone()})),new Yn(t,r,i)},t.prototype.getAnimationBetween=function(t,e,i,n){var r=this.sprites.slice(e,i);return r=r.map((function(t){return t.clone()})),new Yn(t,r,n)},t.prototype.getAnimationForAll=function(t,e){var i=this.sprites.map((function(t){return t.clone()}));return new Yn(t,i,e)},t.prototype.getSprite=function(t){if(t>=0&&t<this.sprites.length)return this.sprites[t];throw new Error("Invalid index: "+t)},t.prototype.getAnimationByCoords=function(t,e,i){for(var n=0,r=0,o=new Array(e.length),s=0;s<e.length;s++){var a=e[s];a.image=a.image||this.image,n=Math.max(n,a.drawWidth),r=Math.max(r,a.drawHeight),o[s]=new te(a)}var c=new Yn(t,o,i);return c.drawWidth=n,c.drawHeight=r,c},t}())),tr=function(t){function e(e,i,n,r,o,s,a,c){return t.call(this,e,i,n,r,o,s,a,c)||this}return Jn(e,t),e}(Zt(function(t){function e(e,i,n,r,o,s,a,c){var h=t.call(this,e instanceof ie?{image:e,spWidth:s,spHeight:a,rows:o,columns:r,spacing:c||0}:e)||this;return h._currentColor=Lt.Black,h._currentOpacity=1,h._sprites={},h._textShadowOn=!1,h._textShadowDirty=!0,h._textShadowColor=Lt.Black,h._textShadowSprites={},h._shadowOffsetX=5,h._shadowOffsetY=5,!e||e instanceof ie||(i=e.alphabet,n=e.caseInsensitive),h._alphabet=i,h._caseInsensitive=n,h._sprites=h.getTextSprites(),h}return Jn(e,t),e.prototype.getTextSprites=function(){for(var t={},e=0;e<this._alphabet.length;e++){var i=this._alphabet[e];this._caseInsensitive&&(i=i.toLowerCase()),t[i]=this.sprites[e].clone()}return t},e.prototype.setTextShadow=function(t,e,i){for(var n in this._textShadowOn=!0,this._shadowOffsetX=t,this._shadowOffsetY=e,this._textShadowColor=i.clone(),this._textShadowDirty=!0,this._sprites)this._textShadowSprites[n]=this._sprites[n].clone()},e.prototype.useTextShadow=function(t){this._textShadowOn=t,t&&this.setTextShadow(5,5,this._textShadowColor)},e.prototype.draw=function(t,e,i,n,r){if(r=this._parseOptions(r),this._currentColor.toString()!==r.color.toString()||this._currentOpacity!==r.opacity)for(var o in this._currentOpacity=r.opacity,this._currentColor=r.color,this._sprites)this._sprites[o].clearEffects(),this._sprites[o].fill(r.color),this._sprites[o].opacity(r.opacity);if(this._textShadowOn&&this._textShadowDirty&&this._textShadowColor){for(var s in this._textShadowSprites)this._textShadowSprites[s].clearEffects(),this._textShadowSprites[s].addEffect(new Kt(this._textShadowColor.clone()));this._textShadowDirty=!1}var a=this.sprites[0],c=a.drawHeight,h=r.fontSize/c,u=e.length*a.drawWidth*h+e.length*r.letterSpacing,l=i;r.textAlign===Mi.Left||r.textAlign===Mi.Start?l=i:r.textAlign===Mi.Right||r.textAlign===Mi.End?l=i-u:r.textAlign===Mi.Center&&(l=i-u/2);var p=n-c*h;r.baseAlign===Di.Top||r.baseAlign===Di.Hanging?p=n:r.baseAlign===Di.Ideographic||r.baseAlign===Di.Bottom||r.baseAlign===Di.Alphabetic?p=n-c*h:r.baseAlign===Di.Middle&&(p=n-c*h/2);for(var d=0;d<e.length;d++){var f=e[d];this._caseInsensitive&&(f=f.toLowerCase());try{this._textShadowOn&&(this._textShadowSprites[f].scale.x=h,this._textShadowSprites[f].scale.y=h,this._textShadowSprites[f].draw(t,l+this._shadowOffsetX,p+this._shadowOffsetY));var g=this._sprites[f];g.scale.x=h,g.scale.y=h,g.draw(t,l,p),l+=g.drawWidth+r.letterSpacing}catch(t){R.getInstance().error("SpriteFont Error drawing char "+f)}}},e.prototype._parseOptions=function(t){return{fontSize:t.fontSize||10,letterSpacing:t.letterSpacing||0,color:t.color||Lt.Black,textAlign:void 0===typeof t.textAlign?Mi.Left:t.textAlign,baseAlign:void 0===typeof t.baseAlign?Di.Bottom:t.baseAlign,maxWidth:t.maxWidth||-1,opacity:t.opacity||0}},e}($n))),er=function(){function t(){}return t.type={any:"",blob:"blob",json:"json",text:"text",document:"document",arraybuffer:"arraybuffer"},t}();function ir(t,e,i){return e+t*(i-e)}function nr(t){return t*t*t*(t*(6*t-15)+10)}var rr=function(){function t(t){this._perm=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this._p=new Uint8Array(512),this._defaultPerlinOptions={octaves:1,frequency:1,amplitude:1,persistance:.5},t=y({},this._defaultPerlinOptions,t),this.persistance=t.persistance,this.amplitude=t.amplitude,this.frequency=t.frequency,this.octaves=t.octaves,t.seed?this._random=new f(t.seed):this._random=new f,this._perm=this._random.shuffle(this._perm);for(var e=0;e<512;e++)this._p[e]=255&this._perm[e%256]}return t.prototype.noise=function(){for(var t=this.amplitude,e=this.frequency,i=0,n=0,r=0;r<this.octaves;r++){switch(arguments.length){case 1:i+=this._noise1d(arguments[0]*e)*t;break;case 2:i+=this._noise2d(arguments[0]*e,arguments[1]*e)*t;break;case 3:i+=this._noise3d(arguments[0]*e,arguments[1]*e,arguments[2]*e)*t;break;default:throw new Error("Invalid arguments for perlin noise")}n+=t,t*=this.persistance,e*=2}return i/n},t.prototype.sequence=function(t,e){e||(e=1/t);for(var i=new Array(t),n=0;n<t;n++)i[n]=this.noise(n*e);return i},t.prototype.grid=function(t,e,i){i||(i=1/Math.min(t,e));for(var n=new Array(t*e),r=0;r<e;r++)for(var o=0;o<t;o++)n[o+r*t]=this.noise(o*i,r*i);return n},t.prototype._gradient3d=function(t,e,i,n){var r=15&t,o=r<8?e:i,s=r<4?i:12===r||14===r?e:n;return(0==(1&r)?o:-o)+(0==(2&r)?s:-s)},t.prototype._gradient2d=function(t,e,i){var n=0==(1&t)?e:i;return 0==(2&t)?-n:n},t.prototype._gradient1d=function(t,e){return 0==(1&t)?-e:e},t.prototype._noise1d=function(t){var e=255&Math.floor(t);return(ir(nr(t-=Math.floor(t)),this._gradient1d(this._p[e],t),this._gradient1d(this._p[e+1],t-1))+1)/2},t.prototype._noise2d=function(t,e){var i=255&Math.floor(t),n=255&Math.floor(e);t-=Math.floor(t),e-=Math.floor(e);var r=nr(t),o=nr(e),s=this._p[i]+n,a=this._p[i+1]+n;return(ir(o,ir(r,this._gradient2d(this._p[s],t,e),this._gradient2d(this._p[a],t-1,e)),ir(r,this._gradient2d(this._p[s+1],t,e-1),this._gradient2d(this._p[a+1],t-1,e-1)))+1)/2},t.prototype._noise3d=function(t,e,i){var n=255&Math.floor(t),r=255&Math.floor(e),o=255&Math.floor(i);t-=Math.floor(t),e-=Math.floor(e),i-=Math.floor(i);var s=nr(t),a=nr(e),c=nr(i),h=this._p[n]+r,u=this._p[n+1]+r,l=this._p[h]+o,p=this._p[u]+o,d=this._p[h+1]+o,f=this._p[u+1]+o;return(ir(c,ir(a,ir(s,this._gradient3d(this._p[l],t,e,i),this._gradient3d(this._p[p],t-1,e,i)),ir(s,this._gradient3d(this._p[d],t,e-1,i),this._gradient3d(this._p[f],t-1,e-1,i))),ir(a,ir(s,this._gradient3d(this._p[l+1],t,e,i-1),this._gradient3d(this._p[p+1],t-1,e,i-1)),ir(s,this._gradient3d(this._p[d+1],t,e-1,i-1),this._gradient3d(this._p[f+1],t-1,e-1,i-1))))+1)/2},t}(),or=function(){function t(t,e){this.generator=t,this.colorFcn=e,e||(this.colorFcn=function(t){return t<125?Lt.Black:Lt.White})}return t.prototype.image=function(t,e){var i=document.createElement("img"),n=document.createElement("canvas");n.width=t,n.height=e;var r=n.getContext("2d");return this.draw(r,0,0,t,e),i.src=n.toDataURL(),i},t.prototype.draw=function(t,e,i,n,r){for(var o=this.generator.grid(n,r),s=t.getImageData(e,i,n,r),a=0;a<r;a++)for(var c=0;c<n;c++){var h=o[c+n*a],u=255&Math.floor(255*h),l=4*(c+a*s.width),p=this.colorFcn(u);s.data[l]=p.r,s.data[l+1]=p.g,s.data[l+2]=p.b,s.data[l+3]=Math.floor(255*p.a)}t.putImageData(s,e,i)},t}(),sr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ar=function(){function t(){}return t.create=function(t){return"string"==typeof t?new hr(t):t instanceof AudioBuffer?new ur(t):new cr(t)},t}(),cr=function(){function t(t){this._src=t,this._volume=1,this._duration=void 0,this._loop=!1,this._isPlaying=!1,this._isPaused=!1}return Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._instance&&(this._instance.loop=t,this._wireUpOnEnded())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=m(t,0,1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},set:function(t){this._duration=t},enumerable:!0,configurable:!0}),t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.pause=function(){this._isPlaying&&(this._isPaused=!0,this._isPlaying=!1)},t.prototype.stop=function(){this._isPlaying&&(this._isPlaying=!1,this._isPaused=!1)},t.prototype.play=function(){return this._isPaused&&this._resumePlayBack(),this._isPlaying||this._startPlayBack(),this._playingPromise},t.prototype._startPlayBack=function(){this._isPlaying=!0,this._isPaused=!1,this._playingPromise=new d},t.prototype._resumePlayBack=function(){this._isPaused&&(this._isPaused=!1,this._isPlaying=!0)},t.prototype._wireUpOnEnded=function(){var t=this;this.loop||(this._instance.onended=function(){return t._handleOnEnded()})},t.prototype._handleOnEnded=function(){},t}(),hr=function(t){function e(e){var i=t.call(this,e)||this;return i._instance=new Audio(e),i}return sr(e,t),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){t=m(t,0,1),this._volume=t,this._instance.volume=t},enumerable:!0,configurable:!0}),e.prototype.pause=function(){this._isPlaying&&(this._instance.pause(),this._isPaused=!0,this._isPlaying=!1)},e.prototype.stop=function(){t.prototype.stop.call(this),this._instance.pause(),this._instance.currentTime=0,this._handleOnEnded()},e.prototype._startPlayBack=function(){t.prototype._startPlayBack.call(this),this._instance.load(),this._instance.loop=this.loop,this._instance.play(),this._wireUpOnEnded()},e.prototype._resumePlayBack=function(){t.prototype._resumePlayBack.call(this),this._instance.play(),this._wireUpOnEnded()},e.prototype._handleOnEnded=function(){this._isPlaying=!1,this._isPaused=!1,this._playingPromise.resolve(!0)},e}(cr),ur=function(t){function e(e){var i=t.call(this,e)||this;return i._audioContext=pi.create(),i._volumeNode=i._audioContext.createGain(),i._currentOffset=0,i._createNewBufferSource(),i}return sr(e,t),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){t=m(t,0,1),this._volume=t,this._isPlaying&&this._volumeNode.gain.setTargetAtTime?this._volumeNode.gain.setTargetAtTime(t,this._audioContext.currentTime,.1):this._volumeNode.gain.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_playbackRate",{get:function(){return this._instance?1/(this._instance.playbackRate.value||1):null},enumerable:!0,configurable:!0}),e.prototype.pause=function(){t.prototype.pause.call(this),this._instance.stop(0),this._setPauseOffset()},e.prototype.stop=function(){t.prototype.stop.call(this),this._currentOffset=0,this._instance.stop(0),this._instance.onended||this._handleOnEnded()},e.prototype._startPlayBack=function(){t.prototype._startPlayBack.call(this),this._instance||this._createNewBufferSource(),this._rememberStartTime(),this._volumeNode.connect(this._audioContext.destination),this._instance.start(0,0),this._currentOffset=0,this._playingPromise=new d,this._wireUpOnEnded()},e.prototype._resumePlayBack=function(){t.prototype._resumePlayBack.call(this),this._instance.onended=null,this._createNewBufferSource();var e=this._playbackRate*this._src.duration,i=this._currentOffset%e;this._rememberStartTime(-1e3*i),this._instance.start(0,i),this._wireUpOnEnded()},e.prototype._handleOnEnded=function(){this._isPaused||(this._isPlaying=!1,this._playingPromise.resolve(!0))},e.prototype._rememberStartTime=function(t){this._startTime=(new Date).getTime()+(0|t)},e.prototype._setPauseOffset=function(){this._currentOffset=((new Date).getTime()-this._startTime)*this._playbackRate/1e3},e.prototype._createNewBufferSource=function(){this._instance=this._audioContext.createBufferSource(),this._instance.buffer=this._src,this._instance.loop=this.loop,this._instance.playbackRate.setValueAtTime(1,0),this._instance.connect(this._volumeNode)},e}(cr);function lr(t){try{var e=new Audio,i=t.match(/.*\.([A-Za-z0-9]+)$/)[1];return!!e.canPlayType("audio/"+i)}catch(t){return R.getInstance().warn("Cannot determine audio support, assuming no support for the Audio Tag",t),!1}}var pr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),dr=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=t.call(this,"","")||this;n._loop=!1,n._volume=1,n._duration=void 0,n._isStopped=!1,n._isPaused=!1,n._tracks=[],n._wasPlayingOnHidden=!1,n._processedData=new d,n._audioContext=pi.create(),n._detectResponseType();for(var r=0,o=e;r<o.length;r++){var s=o[r];if(lr(s)){n.path=s;break}}return n.path||(n.logger.warn("This browser does not support any of the audio files specified:",e.join(", ")),n.logger.warn("Attempting to use",e[0]),n.path=e[0]),n}return pr(e,t),Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t;for(var e=0,i=this._tracks;e<i.length;e++){i[e].loop=this._loop}this.logger.debug("Set loop for all instances of sound",this.path,"to",this._loop)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t;for(var e=0,i=this._tracks;e<i.length;e++){i[e].volume=this._volume}this.emit("volumechange",new Wn(this)),this.logger.debug("Set loop for all instances of sound",this.path,"to",this._volume)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instances",{get:function(){return this._tracks},enumerable:!0,configurable:!0}),e.prototype.wireEngine=function(t){var e=this;t&&(this._engine=t,this._engine.on("hidden",(function(){t.pauseAudioWhenHidden&&e.isPlaying()&&(e._wasPlayingOnHidden=!0,e.pause())})),this._engine.on("visible",(function(){t.pauseAudioWhenHidden&&e._wasPlayingOnHidden&&(e.play(),e._wasPlayingOnHidden=!1)})),this._engine.on("start",(function(){e._isStopped=!1})),this._engine.on("stop",(function(){e.stop(),e._isStopped=!0})))},e.prototype.instanceCount=function(){return this._tracks.length},e.prototype.isPlaying=function(){return this._tracks.some((function(t){return t.isPlaying()}))},e.prototype.play=function(t){return this.isLoaded()?this._isStopped?(this.logger.warn("Cannot start playing. Engine is in a stopped state."),d.resolve(!1)):(this.volume=t||this.volume,this._isPaused?this._resumePlayback():this._startPlayback()):(this.logger.warn("Cannot start playing. Resource",this.path,"is not loaded yet"),d.resolve(!0))},e.prototype.pause=function(){if(this.isPlaying()){for(var t=0,e=this._tracks;t<e.length;t++){e[t].pause()}this._isPaused=!0,this.emit("pause",new Wn(this)),this.logger.debug("Paused all instances of sound",this.path)}},e.prototype.stop=function(){for(var t=0,e=this._tracks;t<e.length;t++){e[t].stop()}this.emit("stop",new Wn(this)),this._isPaused=!1,this._tracks.length=0,this.logger.debug("Stopped all instances of sound",this.path)},e.prototype.setData=function(t){this.emit("emptied",new Wn(this)),this.data=t,this._processedData=new d},e.prototype.processData=function(t){var e=this;return(t instanceof ArrayBuffer?this._processArrayBufferData(t):this._processBlobData(t)).then((function(t){return e._setProcessedData(t)}))},e.prototype.getTrackId=function(t){return this._tracks.indexOf(t)},e.prototype._resumePlayback=function(){if(this._isPaused){for(var t=[],e=0,i=this._tracks;e<i.length;e++){var n=i[e];t.push(n.play())}return this._isPaused=!1,this.emit("resume",new Wn(this)),this.logger.debug("Resuming paused instances for sound",this.path,this._tracks),d.join(t)}return d.resolve(!0)},e.prototype._startPlayback=function(){var t=this,e=this._createNewTrack(),i=new d;return e.then((function(e){e.play().then((function(n){return t.emit("playbackend",new Wn(t,e)),t._tracks.splice(t.getTrackId(e),1),i.resolve(n),n})),t.emit("playbackstart",new Wn(t,e)),t.logger.debug("Playing new instance for sound",t.path)})),i},e.prototype._processArrayBufferData=function(t){var e=this,i=new d;return this._audioContext.decodeAudioData(t,(function(t){i.resolve(t)}),(function(){e.logger.error("Unable to decode  this browser may not fully support this format, or the file may be corrupt, if this is an mp3 try removing id3 tags and album art from the file."),i.resolve(void 0)})),i},e.prototype._processBlobData=function(e){return(new d).resolve(t.prototype.processData.call(this,e))},e.prototype._setProcessedData=function(t){this._processedData.resolve(t),this._duration="object"==typeof t?t.duration:void 0,this.emit("processed",new Un(this,t))},e.prototype._createNewTrack=function(){var t=this,e=new d;return 0!==this._processedData.state()&&this.processData(this.data),this._processedData.then((function(i){return e.resolve(t._getTrackInstance(i)),i}),(function(e){t.logger.error(e,"Cannot create AudioInstance due to wrong processed data.")})),e},e.prototype._getTrackInstance=function(t){var e=ar.create(t);return e.loop=this.loop,e.volume=this.volume,e.duration=this.duration,this._tracks.push(e),e},e.prototype._detectResponseType=function(){window.AudioContext?this.responseType=er.type.arraybuffer:this.responseType=er.type.blob},e}(Ft),fr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),gr=function(t){function e(e,i,n){void 0===i&&(i=Lt.Magenta),void 0===n&&(n=!0);var r=t.call(this,e,"arraybuffer",n)||this;return r.path=e,r.color=i,r.bustCache=n,r.loaded=new d,r._isLoaded=!1,r._stream=null,r._gif=null,r._texture=[],r._animation=null,r._transparentColor=null,r._transparentColor=i,r}return fr(e,t),e.prototype.isLoaded=function(){return this._isLoaded},e.prototype.load=function(){var e=this,i=new d;return t.prototype.load.call(this).then((function(){e._stream=new vr(e.getData()),e._gif=new mr(e._stream,e._transparentColor);for(var t=[],n=0;n<e._gif.images.length;n++){var r=new ie(e._gif.images[n].src,!1);e._texture.push(r),t.push(r.load())}d.join(t).then((function(){e._isLoaded=!0,i.resolve(e._texture)}))}),(function(){i.reject("Error loading texture.")})),i},e.prototype.asSprite=function(t){return void 0===t&&(t=0),this._texture[t].asSprite()},e.prototype.asSpriteSheet=function(){var t=this._texture.map((function(t){return t.asSprite()}));return new $n(t)},e.prototype.asAnimation=function(t,e){var i=this.asSpriteSheet();return this._animation=i.getAnimationForAll(t,e),this._animation},Object.defineProperty(e.prototype,"readCheckBytes",{get:function(){return this._gif.checkBytes},enumerable:!0,configurable:!0}),e}(Ft),yr=function(t){return t.reduce((function(t,e){return 2*t+e}),0)},_r=function(t){for(var e=[],i=7;i>=0;i--)e.push(!!(t&1<<i));return e},vr=function(t){var e=this;if(this.data=null,this.len=0,this.position=0,this.readByte=function(){if(e.position>=e.data.byteLength)throw new Error("Attempted to read past end of stream.");return e.data[e.position++]},this.readBytes=function(t){for(var i=[],n=0;n<t;n++)i.push(e.readByte());return i},this.read=function(t){for(var i="",n=0;n<t;n++)i+=String.fromCharCode(e.readByte());return i},this.readUnsigned=function(){var t=e.readBytes(2);return(t[1]<<8)+t[0]},this.data=new Uint8Array(t),this.len=this.data.byteLength,0===this.len)throw new Error("No data loaded from file")},mr=function(t,e){var i=this;void 0===e&&(e=Lt.Magenta),this._st=null,this._handler={},this._transparentColor=null,this.frames=[],this.images=[],this.globalColorTable=[],this.checkBytes=[],this.parseColorTable=function(t){for(var e=[],n=0;n<t;n++){var r="#"+i._st.readBytes(3).map((function(t){var e=t.toString(16);return 1===e.length?"0"+e:e})).join("");e.push(r)}return e},this.readSubBlocks=function(){var t,e;e="";do{t=i._st.readByte(),e+=i._st.read(t)}while(0!==t);return e},this.parseHeader=function(){var t={sig:null,ver:null,width:null,height:null,colorRes:null,globalColorTableSize:null,gctFlag:null,sorted:null,globalColorTable:[],bgColor:null,pixelAspectRatio:null};if(t.sig=i._st.read(3),t.ver=i._st.read(3),"GIF"!==t.sig)throw new Error("Not a GIF file.");t.width=i._st.readUnsigned(),t.height=i._st.readUnsigned();var e=_r(i._st.readByte());t.gctFlag=e.shift(),t.colorRes=yr(e.splice(0,3)),t.sorted=e.shift(),t.globalColorTableSize=yr(e.splice(0,3)),t.bgColor=i._st.readByte(),t.pixelAspectRatio=i._st.readByte(),t.gctFlag&&(t.globalColorTable=i.parseColorTable(1<<t.globalColorTableSize+1),i.globalColorTable=t.globalColorTable),i._handler.hdr&&i._handler.hdr(t)&&i.checkBytes.push(i._handler.hdr)},this.parseExt=function(t){switch(t.label=i._st.readByte(),t.label){case 249:t.extType="gce",function(t){i.checkBytes.push(i._st.readByte());var e=_r(i._st.readByte());t.reserved=e.splice(0,3),t.disposalMethod=yr(e.splice(0,3)),t.userInput=e.shift(),t.transparencyGiven=e.shift(),t.delayTime=i._st.readUnsigned(),t.transparencyIndex=i._st.readByte(),t.terminator=i._st.readByte(),i._handler.gce&&i._handler.gce(t)&&i.checkBytes.push(i._handler.gce)}(t);break;case 254:t.extType="com",function(t){t.comment=i.readSubBlocks(),i._handler.com&&i._handler.com(t)&&i.checkBytes.push(i._handler.com)}(t);break;case 1:t.extType="pte",function(t){i.checkBytes.push(i._st.readByte()),t.ptHeader=i._st.readBytes(12),t.ptData=i.readSubBlocks(),i._handler.pte&&i._handler.pte(t)&&i.checkBytes.push(i._handler.pte)}(t);break;case 255:t.extType="app",function(t){switch(i.checkBytes.push(i._st.readByte()),t.identifier=i._st.read(8),t.authCode=i._st.read(3),t.identifier){case"NETSCAPE":!function(t){i.checkBytes.push(i._st.readByte()),t.unknown=i._st.readByte(),t.iterations=i._st.readUnsigned(),t.terminator=i._st.readByte(),i._handler.app&&i._handler.app.NETSCAPE&&i._handler.app.NETSCAPE(t)&&i.checkBytes.push(i._handler.app)}(t);break;default:!function(t){t.appData=i.readSubBlocks(),i._handler.app&&i._handler.app[t.identifier]&&i._handler.app[t.identifier](t)&&i.checkBytes.push(i._handler.app[t.identifier])}(t)}}(t);break;default:t.extType="unknown",function(t){t.data=i.readSubBlocks(),i._handler.unknown&&i._handler.unknown(t)&&i.checkBytes.push(i._handler.unknown)}(t)}},this.parseImg=function(t){t.leftPos=i._st.readUnsigned(),t.topPos=i._st.readUnsigned(),t.width=i._st.readUnsigned(),t.height=i._st.readUnsigned();var e=_r(i._st.readByte());t.lctFlag=e.shift(),t.interlaced=e.shift(),t.sorted=e.shift(),t.reserved=e.splice(0,2),t.lctSize=yr(e.splice(0,3)),t.lctFlag&&(t.lct=i.parseColorTable(1<<t.lctSize+1)),t.lzwMinCodeSize=i._st.readByte();var n=i.readSubBlocks();t.pixels=function(t,e){for(var i,n,r=0,o=function(t){for(var i=0,n=0;n<t;n++)e.charCodeAt(r>>3)&1<<(7&r)&&(i|=1<<n),r++;return i},s=[],a=1<<t,c=a+1,h=t+1,u=[],l=function(){u=[],h=t+1;for(var e=0;e<a;e++)u[e]=[e];u[a]=[],u[c]=null};;)if(n=i,(i=o(h))!==a){if(i===c)break;if(i<u.length)n!==a&&u.push(u[n].concat(u[i][0]));else{if(i!==u.length)throw new Error("Invalid LZW code.");u.push(u[n].concat(u[n][0]))}s.push.apply(s,u[i]),u.length===1<<h&&h<12&&h++}else l();return s}(t.lzwMinCodeSize,n),t.interlaced&&(t.pixels=function(t,e){for(var i=new Array(t.length),n=t.length/e,r=function(n,r){var o=t.slice(r*e,(r+1)*e);i.splice.apply(i,[n*e,e].concat(o))},o=[0,4,2,1],s=[8,8,4,2],a=0,c=0;c<4;c++)for(var h=o[c];h<n;h+=s[c])r(h,a),a++;return i}(t.pixels,t.width)),i.frames.push(t),i.arrayToImage(t),i._handler.img&&i._handler.img(t)&&i.checkBytes.push(i._handler)},this.parseBlock=function(){var t={sentinel:i._st.readByte(),type:""};switch(String.fromCharCode(t.sentinel)){case"!":t.type="ext",i.parseExt(t);break;case",":t.type="img",i.parseImg(t);break;case";":t.type="eof",i._handler.eof&&i._handler.eof(t)&&i.checkBytes.push(i._handler.eof);break;default:throw new Error("Unknown block: 0x"+t.sentinel.toString(16))}"eof"!==t.type&&i.parseBlock()},this.arrayToImage=function(t){var e=0,n=document.createElement("canvas");n.id=e.toString(),n.width=t.width,n.height=t.height,e++;for(var r=n.getContext("2d"),o=0,s=0,a=0;a<t.pixels.length;a++)s%t.width==0&&(o++,s=0),i.globalColorTable[t.pixels[a]]===i._transparentColor.toHex()?r.fillStyle="rgba(0, 0, 0, 0)":r.fillStyle=i.globalColorTable[t.pixels[a]],r.fillRect(s,o,1,1),s++;var c=new Image;c.src=n.toDataURL(),i.images.push(c)},this._st=t,this._handler={},this._transparentColor=e,this.parseHeader(),this.parseBlock()},br="0.24.3";l()}])}));
//# sourceMappingURL=excalibur.min.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXhjYWxpYnVyL2Rpc3QvZXhjYWxpYnVyLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsS0FBaUQsb0JBQW9CLFNBQW1HLENBQUMsb0JBQW9CLG1CQUFtQixTQUFTLGNBQWMsNEJBQTRCLFlBQVkscUJBQXFCLDJEQUEyRCx1Q0FBdUMscUNBQXFDLG9CQUFvQixFQUFFLGlCQUFpQiw0RkFBNEYsZUFBZSx3Q0FBd0MsU0FBUyxFQUFFLG1CQUFtQiw4QkFBOEIscURBQXFELDBCQUEwQiw2Q0FBNkMsc0JBQXNCLDZEQUE2RCxZQUFZLGVBQWUsU0FBUyxpQkFBaUIsaUNBQWlDLGlCQUFpQixZQUFZLFVBQVUsc0JBQXNCLG1CQUFtQixpREFBaUQsbUJBQW1CLGtCQUFrQiw2REFBNkQsd0JBQXdCLDZDQUE2Qyx1QkFBdUIsV0FBVyx3QkFBd0IsaUdBQWlHLCtCQUErQixPQUFPLGlEQUFpRCxpQkFBaUIsb0dBQW9HLHNCQUFzQiwrREFBK0QsaUJBQWlCLHNEQUFzRCxlQUFlLFNBQVMsd0JBQXdCLHNCQUFzQixRQUFRLEVBQUUsbUZBQW1GLGdDQUFnQyxrQkFBa0IsT0FBTyxXQUFXLFNBQVMsb0JBQW9CLHVCQUF1QixJQUFJLGlCQUFpQix1QkFBdUIsc0JBQXNCLHVDQUF1QyxlQUFlLHNCQUFzQixJQUFJLFlBQVksU0FBUyxXQUFXLGlCQUFpQixhQUFhLGtCQUFrQiwyQkFBMkIsOEtBQThLLG1CQUFtQixpQkFBaUIsWUFBWSxzQkFBc0IscUJBQXFCLGVBQWUsc0JBQXNCLHdEQUF3RCxlQUFlLFFBQVEsZ0JBQWdCLHdCQUF3QixvQkFBb0IsaUJBQWlCLDREQUE0RCx3QkFBd0IsNkJBQTZCLGdCQUFnQixVQUFVLG1FQUFtRSxxQ0FBcUMsaUJBQWlCLGFBQWEsV0FBVyx3QkFBd0IsWUFBWSx5QkFBeUIsMEJBQTBCLFFB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VSxpQ0FBaUMsVUFBVSxvQ0FBb0MsVUFBVSxxQ0FBcUMsVUFBVSxzQ0FBc0MsVUFBVSxxQ0FBcUMsVUFBVSxvQ0FBb0MsVUFBVSxxQ0FBcUMsVUFBVSx5Q0FBeUMsVUFBVSwwQ0FBMEMsVUFBVSxzQ0FBc0MsVUFBVSx1Q0FBdUMsVUFBVSxxQ0FBcUMsVUFBVSxzQ0FBc0MsVUFBVSwyQ0FBMkMsVUFBVSw4Q0FBOEMsVUFBVSwwQ0FBMEMsVUFBVSx3Q0FBd0MsVUFBVSxzQ0FBc0MsVUFBVSx3Q0FBd0MsVUFBVSxvQ0FBb0MsVUFBVSxtQ0FBbUMsVUFBVSx5Q0FBeUMsVUFBVSwwQ0FBMEMsVUFBVSwyQ0FBMkMsVUFBVSx5Q0FBeUMsVUFBVSx1Q0FBdUMsVUFBVSxxQ0FBcUMsVUFBVSx1Q0FBdUMsVUFBVSx5Q0FBeUMsVUFBVSwwQ0FBMEMsVUFBVSx5Q0FBeUMsVUFBVSx3Q0FBd0MsVUFBVSw2QkFBNkIsVUFBVSxpQ0FBaUMsVUFBVSxnQ0FBZ0MsVUFBVSxpQ0FBaUMsVUFBVSxpQ0FBaUMsVUFBVSw4QkFBOEIsVUFBVSxnQ0FBZ0MsVUFBVSx1Q0FBdUMsVUFBVSxtQ0FBbUMsVUFBVSxtREFBbUQsVUFBVSwwQ0FBMEMsVUFBVSxrQ0FBa0MsVUFBVSwrQkFBK0IsVUFBVSxvQ0FBb0MsU0FBUywrQkFBK0IsU0FBUyw2QkFBNkIsVUFBVSwrQkFBK0IsVUFBVSw0QkFBNEIsVUFBVSxrQ0FBa0MsVUFBVSw2QkFBNkIsVUFBVSwrQkFBK0IsVUFBVSxxQ0FBcUMsVUFBVSwrQkFBK0IsVUFBVSxxQ0FBcUMsVUFBVSxvQ0FBb0MsVUFBVSwrQkFBK0IsU0FBUyxnQ0FBZ0MsVUFBVSw0QkFBNEIsVUFBVSxrQ0FBa0MsVUFBVSxnQ0FBZ0MsVUFBVSxtQ0FBbUMsVUFBVSw4QkFBOEIsVUFBVSx3Q0FBd0MsVUFBVSwwQ0FBMEMsVUFBVSxtQ0FBbUMsVUFBVSw0Q0FBNEMsVUFBVSxzQ0FBc0MsVUFBVSw2Q0FBNkMsVUFBVSxnQ0FBZ0MsVUFBVSxtQ0FBbUMsVUFBVSxzREFBc0QsVUFBVSw0QkFBNEIsVUFBVSw0QkFBNEIsVUFB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MEdBQTBHLEtBQUssMkJBQTJCLHdIQUF3SCwyQkFBMkIsME1BQTBNLHdCQUF3Qix1QkFBdUIsOEJBQThCLGdCQUFnQixJQUFJLCtDQUErQyxTQUFTLDJDQUEyQyxXQUFXLFlBQVksSUFBSSxhQUFhLG9CQUFvQixzQkFBc0IsZUFBZSxrREFBa0QsS0FBSyxxREFBcUQsNkJBQTZCLGdEQUFnRCxTQUFTLFNBQVMsMkRBQTJELDJEQUEyRCwyQkFBMkIsb0NBQW9DLGlDQUFpQyxJQUFJLG1CQUFtQixJQUFJLG1CQUFtQixTQUFTLHdIQUF3SCw0QkFBNEIsT0FBTyxtQ0FBbUMsd0NBQXdDLG1DQUFtQyxNQUFNLG1DQUFtQyxNQUFNLE1BQU0sb0ZBQW9GLE1BQU0scUVBQXFFLCtCQUErQiwrQkFBK0IsMkNBQTJDLHdEQUF3RCx5Q0FBeUMsa0JBQWtCLDZMQUE2TCxnQkFBZ0IscUNBQXFDLDRCQUE0QiwrREFBK0QsYUFBYSxJQUFJLEdBQUc7QUFDbDQzUyx5QyIsImZpbGUiOiJ2ZW5kb3Jzfm1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGV4Y2FsaWJ1ciAtIDAuMjQuMyAtIDIwMjAtNS0xMFxuICogaHR0cHM6Ly9naXRodWIuY29tL2V4Y2FsaWJ1cmpzL0V4Y2FsaWJ1clxuICogQ29weXJpZ2h0IChjKSAyMDIwIEV4Y2FsaWJ1ci5qcyA8aHR0cHM6Ly9naXRodWIuY29tL2V4Y2FsaWJ1cmpzL0V4Y2FsaWJ1ci9ncmFwaHMvY29udHJpYnV0b3JzPlxuICogTGljZW5zZWQgQlNELTItQ2xhdXNlXG4gKiBAcHJlc2VydmVcbiAqL1xuIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5leD1lKCk6dC5leD1lKCl9KHdpbmRvdywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9e307ZnVuY3Rpb24gaShuKXtpZihlW25dKXJldHVybiBlW25dLmV4cG9ydHM7dmFyIHI9ZVtuXT17aTpuLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbbl0uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsaSksci5sPSEwLHIuZXhwb3J0c31yZXR1cm4gaS5tPXQsaS5jPWUsaS5kPWZ1bmN0aW9uKHQsZSxuKXtpLm8odCxlKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7ZW51bWVyYWJsZTohMCxnZXQ6bn0pfSxpLnI9ZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0saS50PWZ1bmN0aW9uKHQsZSl7aWYoMSZlJiYodD1pKHQpKSw4JmUpcmV0dXJuIHQ7aWYoNCZlJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoaS5yKG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KSwyJmUmJlwic3RyaW5nXCIhPXR5cGVvZiB0KWZvcih2YXIgciBpbiB0KWkuZChuLHIsZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxyKSk7cmV0dXJuIG59LGkubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gaS5kKGUsXCJhXCIsZSksZX0saS5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxpLnA9XCJcIixpKGkucz0xMjcpfShbZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoNSkscj1pKDQ4KS5mLG89aSgxNikscz1pKDQ5KSxhPWkoMzApLGM9aSg2NSksaD1pKDY5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgaSx1LGwscCxkLGY9dC50YXJnZXQsZz10Lmdsb2JhbCx5PXQuc3RhdDtpZihpPWc/bjp5P25bZl18fGEoZix7fSk6KG5bZl18fHt9KS5wcm90b3R5cGUpZm9yKHUgaW4gZSl7aWYocD1lW3VdLGw9dC5ub1RhcmdldEdldD8oZD1yKGksdSkpJiZkLnZhbHVlOmlbdV0sIWgoZz91OmYrKHk/XCIuXCI6XCIjXCIpK3UsdC5mb3JjZWQpJiZ2b2lkIDAhPT1sKXtpZih0eXBlb2YgcD09dHlwZW9mIGwpY29udGludWU7YyhwLGwpfSh0LnNoYW18fGwmJmwuc2hhbSkmJm8ocCxcInNoYW1cIiwhMCkscyhpLHUscCx0KX19fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg1KSxyPWkoNDUpLG89aSg4KSxzPWkoNDYpLGE9aSg1MiksYz1pKDcyKSxoPXIoXCJ3a3NcIiksdT1uLlN5bWJvbCxsPWM/dTp1JiZ1LndpdGhvdXRTZXR0ZXJ8fHM7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvKGgsdCl8fChhJiZvKHUsdCk/aFt0XT11W3RdOmhbdF09bChcIlN5bWJvbC5cIit0KSksaFt0XX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDExKSxyPWkoNCksbz1pKDgpLHM9T2JqZWN0LmRlZmluZVByb3BlcnR5LGE9e30sYz1mdW5jdGlvbih0KXt0aHJvdyB0fTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihvKGEsdCkpcmV0dXJuIGFbdF07ZXx8KGU9e30pO3ZhciBpPVtdW3RdLGg9ISFvKGUsXCJBQ0NFU1NPUlNcIikmJmUuQUNDRVNTT1JTLHU9byhlLDApP2VbMF06YyxsPW8oZSwxKT9lWzFdOnZvaWQgMDtyZXR1cm4gYVt0XT0hIWkmJiFyKChmdW5jdGlvbigpe2lmKGgmJiFuKXJldHVybiEwO3ZhciB0PXtsZW5ndGg6LTF9O2g/cyh0LDEse2VudW1lcmFibGU6ITAsZ2V0OmN9KTp0WzFdPTEsaS5jYWxsKHQsdSxsKX0pKX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDE1KSxyPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP3Iobih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiEhdCgpfWNhdGNoKHQpe3JldHVybiEwfX19LGZ1bmN0aW9uKHQsZSxpKXsoZnVuY3Rpb24oZSl7dmFyIGk9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuTWF0aD09TWF0aCYmdH07dC5leHBvcnRzPWkoXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMpfHxpKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyl8fGkoXCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYpfHxpKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZlKXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfSkuY2FsbCh0aGlzLGkoNjMpKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMjgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KG4odCkpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQ/bnVsbCE9PXQ6XCJmdW5jdGlvblwiPT10eXBlb2YgdH19LGZ1bmN0aW9uKHQsZSl7dmFyIGk9e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuY2FsbCh0LGUpfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMTEpLHI9aSg0Myksbz1pKDE3KSxzPWkoMzEpLGE9T2JqZWN0LmRlZmluZVByb3BlcnR5O2UuZj1uP2E6ZnVuY3Rpb24odCxlLGkpe2lmKG8odCksZT1zKGUsITApLG8oaSkscil0cnl7cmV0dXJuIGEodCxlLGkpfWNhdGNoKHQpe31pZihcImdldFwiaW4gaXx8XCJzZXRcImluIGkpdGhyb3cgVHlwZUVycm9yKFwiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWRcIik7cmV0dXJuXCJ2YWx1ZVwiaW4gaSYmKHRbZV09aS52YWx1ZSksdH19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDQpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBpPVtdW3RdO3JldHVybiEhaSYmbigoZnVuY3Rpb24oKXtpLmNhbGwobnVsbCxlfHxmdW5jdGlvbigpe3Rocm93IDF9LDEpfSkpfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoNCk7dC5leHBvcnRzPSFuKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSlbMV19KSl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpLHI9aSg1Myksbz1pKDkpLHM9bihcInVuc2NvcGFibGVzXCIpLGE9QXJyYXkucHJvdG90eXBlO251bGw9PWFbc10mJm8uZihhLHMse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTpyKG51bGwpfSksdC5leHBvcnRzPWZ1bmN0aW9uKHQpe2Fbc11bdF09ITB9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgyNikscj1pKDI4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4ocih0KSl9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg0MCkscj1pKDI2KSxvPWkoNikscz1pKDMpLGE9aSgyMyksYz1bXS5wdXNoLGg9ZnVuY3Rpb24odCl7dmFyIGU9MT09dCxpPTI9PXQsaD0zPT10LHU9ND09dCxsPTY9PXQscD01PT10fHxsO3JldHVybiBmdW5jdGlvbihkLGYsZyx5KXtmb3IodmFyIF8sdixtPW8oZCksYj1yKG0pLHc9bihmLGcsMykseD1zKGIubGVuZ3RoKSxQPTAsUz15fHxhLEU9ZT9TKGQseCk6aT9TKGQsMCk6dm9pZCAwO3g+UDtQKyspaWYoKHB8fFAgaW4gYikmJih2PXcoXz1iW1BdLFAsbSksdCkpaWYoZSlFW1BdPXY7ZWxzZSBpZih2KXN3aXRjaCh0KXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBfO2Nhc2UgNjpyZXR1cm4gUDtjYXNlIDI6Yy5jYWxsKEUsXyl9ZWxzZSBpZih1KXJldHVybiExO3JldHVybiBsPy0xOmh8fHU/dTpFfX07dC5leHBvcnRzPXtmb3JFYWNoOmgoMCksbWFwOmgoMSksZmlsdGVyOmgoMiksc29tZTpoKDMpLGV2ZXJ5OmgoNCksZmluZDpoKDUpLGZpbmRJbmRleDpoKDYpfX0sZnVuY3Rpb24odCxlKXt2YXIgaT1NYXRoLmNlaWwsbj1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odD0rdCk/MDoodD4wP246aSkodCl9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxMSkscj1pKDkpLG89aSgyNSk7dC5leHBvcnRzPW4/ZnVuY3Rpb24odCxlLGkpe3JldHVybiByLmYodCxlLG8oMSxpKSl9OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdFtlXT1pLHR9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg3KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIW4odCkpdGhyb3cgVHlwZUVycm9yKFN0cmluZyh0KStcIiBpcyBub3QgYW4gb2JqZWN0XCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMzUpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm5cIkFycmF5XCI9PW4odCl9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxNSkscj1NYXRoLm1heCxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBpPW4odCk7cmV0dXJuIGk8MD9yKGkrZSwwKTpvKGksZSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMzEpLHI9aSg5KSxvPWkoMjUpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsaSl7dmFyIHM9bihlKTtzIGluIHQ/ci5mKHQscyxvKDAsaSkpOnRbc109aX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDcpLHI9aSgxOCksbz1pKDEpKFwic3BlY2llc1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgaTtyZXR1cm4gcih0KSYmKFwiZnVuY3Rpb25cIiE9dHlwZW9mKGk9dC5jb25zdHJ1Y3Rvcil8fGkhPT1BcnJheSYmIXIoaS5wcm90b3R5cGUpP24oaSkmJm51bGw9PT0oaT1pW29dKSYmKGk9dm9pZCAwKTppPXZvaWQgMCksbmV3KHZvaWQgMD09PWk/QXJyYXk6aSkoMD09PWU/MDplKX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDQpLHI9aSgxKSxvPWkoNTUpLHM9cihcInNwZWNpZXNcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvPj01MXx8IW4oKGZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuKGUuY29uc3RydWN0b3I9e30pW3NdPWZ1bmN0aW9uKCl7cmV0dXJue2ZvbzoxfX0sMSE9PWVbdF0oQm9vbGVhbikuZm9vfSkpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg0KSxyPWkoMzUpLG89XCJcIi5zcGxpdDt0LmV4cG9ydHM9bigoZnVuY3Rpb24oKXtyZXR1cm4hT2JqZWN0KFwielwiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKX0pKT9mdW5jdGlvbih0KXtyZXR1cm5cIlN0cmluZ1wiPT1yKHQpP28uY2FsbCh0LFwiXCIpOk9iamVjdCh0KX06T2JqZWN0fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgzNikscj1pKDUpLG89ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90OnZvaWQgMH07dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj9vKG5bdF0pfHxvKHJbdF0pOm5bdF0mJm5bdF1bZV18fHJbdF0mJnJbdF1bZV19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihudWxsPT10KXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiK3QpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLHIsbyxzPWkoNjIpLGE9aSg1KSxjPWkoNyksaD1pKDE2KSx1PWkoOCksbD1pKDMyKSxwPWkoMzQpLGQ9YS5XZWFrTWFwO2lmKHMpe3ZhciBmPW5ldyBkLGc9Zi5nZXQseT1mLmhhcyxfPWYuc2V0O249ZnVuY3Rpb24odCxlKXtyZXR1cm4gXy5jYWxsKGYsdCxlKSxlfSxyPWZ1bmN0aW9uKHQpe3JldHVybiBnLmNhbGwoZix0KXx8e319LG89ZnVuY3Rpb24odCl7cmV0dXJuIHkuY2FsbChmLHQpfX1lbHNle3ZhciB2PWwoXCJzdGF0ZVwiKTtwW3ZdPSEwLG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gaCh0LHYsZSksZX0scj1mdW5jdGlvbih0KXtyZXR1cm4gdSh0LHYpP3Rbdl06e319LG89ZnVuY3Rpb24odCl7cmV0dXJuIHUodCx2KX19dC5leHBvcnRzPXtzZXQ6bixnZXQ6cixoYXM6byxlbmZvcmNlOmZ1bmN0aW9uKHQpe3JldHVybiBvKHQpP3IodCk6bih0LHt9KX0sZ2V0dGVyRm9yOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgaTtpZighYyhlKXx8KGk9cihlKSkudHlwZSE9PXQpdGhyb3cgVHlwZUVycm9yKFwiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCBcIit0K1wiIHJlcXVpcmVkXCIpO3JldHVybiBpfX19fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg1KSxyPWkoMTYpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3RyeXtyKG4sdCxlKX1jYXRjaChpKXtuW3RdPWV9cmV0dXJuIGV9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg3KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighbih0KSlyZXR1cm4gdDt2YXIgaSxyO2lmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mKGk9dC50b1N0cmluZykmJiFuKHI9aS5jYWxsKHQpKSlyZXR1cm4gcjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZihpPXQudmFsdWVPZikmJiFuKHI9aS5jYWxsKHQpKSlyZXR1cm4gcjtpZighZSYmXCJmdW5jdGlvblwiPT10eXBlb2YoaT10LnRvU3RyaW5nKSYmIW4ocj1pLmNhbGwodCkpKXJldHVybiByO3Rocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDQ1KSxyPWkoNDYpLG89bihcImtleXNcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvW3RdfHwob1t0XT1yKHQpKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSExfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17fX0sZnVuY3Rpb24odCxlKXt2YXIgaT17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkuY2FsbCh0KS5zbGljZSg4LC0xKX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDUpO3QuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxMykscj1pKDMpLG89aSgxOSkscz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxpLHMpe3ZhciBhLGM9bihlKSxoPXIoYy5sZW5ndGgpLHU9byhzLGgpO2lmKHQmJmkhPWkpe2Zvcig7aD51OylpZigoYT1jW3UrK10pIT1hKXJldHVybiEwfWVsc2UgZm9yKDtoPnU7dSsrKWlmKCh0fHx1IGluIGMpJiZjW3VdPT09aSlyZXR1cm4gdHx8dXx8MDtyZXR1cm4hdCYmLTF9fTt0LmV4cG9ydHM9e2luY2x1ZGVzOnMoITApLGluZGV4T2Y6cyghMSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1bXCJjb25zdHJ1Y3RvclwiLFwiaGFzT3duUHJvcGVydHlcIixcImlzUHJvdG90eXBlT2ZcIixcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsXCJ0b0xvY2FsZVN0cmluZ1wiLFwidG9TdHJpbmdcIixcInZhbHVlT2ZcIl19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDgpLHI9aSg2KSxvPWkoMzIpLHM9aSg3MSksYT1vKFwiSUVfUFJPVE9cIiksYz1PYmplY3QucHJvdG90eXBlO3QuZXhwb3J0cz1zP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gdD1yKHQpLG4odCxhKT90W2FdOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY29uc3RydWN0b3ImJnQgaW5zdGFuY2VvZiB0LmNvbnN0cnVjdG9yP3QuY29uc3RydWN0b3IucHJvdG90eXBlOnQgaW5zdGFuY2VvZiBPYmplY3Q/YzpudWxsfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMjEpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsaSl7aWYobih0KSx2b2lkIDA9PT1lKXJldHVybiB0O3N3aXRjaChpKXtjYXNlIDA6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuY2FsbChlKX07Y2FzZSAxOnJldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gdC5jYWxsKGUsaSl9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24oaSxuKXtyZXR1cm4gdC5jYWxsKGUsaSxuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihpLG4scil7cmV0dXJuIHQuY2FsbChlLGksbixyKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDQyKSxyPUZ1bmN0aW9uLnRvU3RyaW5nO1wiZnVuY3Rpb25cIiE9dHlwZW9mIG4uaW5zcGVjdFNvdXJjZSYmKG4uaW5zcGVjdFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gci5jYWxsKHQpfSksdC5leHBvcnRzPW4uaW5zcGVjdFNvdXJjZX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoNSkscj1pKDMwKSxvPW5bXCJfX2NvcmUtanNfc2hhcmVkX19cIl18fHIoXCJfX2NvcmUtanNfc2hhcmVkX19cIix7fSk7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDExKSxyPWkoNCksbz1pKDQ0KTt0LmV4cG9ydHM9IW4mJiFyKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobyhcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoNSkscj1pKDcpLG89bi5kb2N1bWVudCxzPXIobykmJnIoby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHM/by5jcmVhdGVFbGVtZW50KHQpOnt9fX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMzMpLHI9aSg0Mik7KHQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiByW3RdfHwoclt0XT12b2lkIDAhPT1lP2U6e30pfSkoXCJ2ZXJzaW9uc1wiLFtdKS5wdXNoKHt2ZXJzaW9uOlwiMy42LjVcIixtb2RlOm4/XCJwdXJlXCI6XCJnbG9iYWxcIixjb3B5cmlnaHQ6XCLCqSAyMDIwIERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpXCJ9KX0sZnVuY3Rpb24odCxlKXt2YXIgaT0wLG49TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJTeW1ib2woXCIrU3RyaW5nKHZvaWQgMD09PXQ/XCJcIjp0KStcIilfXCIrKCsraStuKS50b1N0cmluZygzNil9fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgwKSxyPWkoNzApLG89aSgzOSkscz1pKDc2KSxhPWkoNTQpLGM9aSgxNiksaD1pKDQ5KSx1PWkoMSksbD1pKDMzKSxwPWkoMjApLGQ9aSg1MSksZj1kLkl0ZXJhdG9yUHJvdG90eXBlLGc9ZC5CVUdHWV9TQUZBUklfSVRFUkFUT1JTLHk9dShcIml0ZXJhdG9yXCIpLF89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxpLHUsZCx2LG0pe3IoaSxlLHUpO3ZhciBiLHcseCxQPWZ1bmN0aW9uKHQpe2lmKHQ9PT1kJiZPKXJldHVybiBPO2lmKCFnJiZ0IGluIEEpcmV0dXJuIEFbdF07c3dpdGNoKHQpe2Nhc2VcImtleXNcIjpjYXNlXCJ2YWx1ZXNcIjpjYXNlXCJlbnRyaWVzXCI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMsdCl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzKX19LFM9ZStcIiBJdGVyYXRvclwiLEU9ITEsQT10LnByb3RvdHlwZSxDPUFbeV18fEFbXCJAQGl0ZXJhdG9yXCJdfHxkJiZBW2RdLE89IWcmJkN8fFAoZCksVD1cIkFycmF5XCI9PWUmJkEuZW50cmllc3x8QztpZihUJiYoYj1vKFQuY2FsbChuZXcgdCkpLGYhPT1PYmplY3QucHJvdG90eXBlJiZiLm5leHQmJihsfHxvKGIpPT09Znx8KHM/cyhiLGYpOlwiZnVuY3Rpb25cIiE9dHlwZW9mIGJbeV0mJmMoYix5LF8pKSxhKGIsUywhMCwhMCksbCYmKHBbU109XykpKSxcInZhbHVlc1wiPT1kJiZDJiZcInZhbHVlc1wiIT09Qy5uYW1lJiYoRT0hMCxPPWZ1bmN0aW9uKCl7cmV0dXJuIEMuY2FsbCh0aGlzKX0pLGwmJiFtfHxBW3ldPT09T3x8YyhBLHksTykscFtlXT1PLGQpaWYodz17dmFsdWVzOlAoXCJ2YWx1ZXNcIiksa2V5czp2P086UChcImtleXNcIiksZW50cmllczpQKFwiZW50cmllc1wiKX0sbSlmb3IoeCBpbiB3KSFnJiYhRSYmeCBpbiBBfHxoKEEseCx3W3hdKTtlbHNlIG4oe3RhcmdldDplLHByb3RvOiEwLGZvcmNlZDpnfHxFfSx3KTtyZXR1cm4gd319LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDExKSxyPWkoNjQpLG89aSgyNSkscz1pKDEzKSxhPWkoMzEpLGM9aSg4KSxoPWkoNDMpLHU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtlLmY9bj91OmZ1bmN0aW9uKHQsZSl7aWYodD1zKHQpLGU9YShlLCEwKSxoKXRyeXtyZXR1cm4gdSh0LGUpfWNhdGNoKHQpe31pZihjKHQsZSkpcmV0dXJuIG8oIXIuZi5jYWxsKHQsZSksdFtlXSl9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg1KSxyPWkoMTYpLG89aSg4KSxzPWkoMzApLGE9aSg0MSksYz1pKDI5KSxoPWMuZ2V0LHU9Yy5lbmZvcmNlLGw9U3RyaW5nKFN0cmluZykuc3BsaXQoXCJTdHJpbmdcIik7KHQuZXhwb3J0cz1mdW5jdGlvbih0LGUsaSxhKXt2YXIgYz0hIWEmJiEhYS51bnNhZmUsaD0hIWEmJiEhYS5lbnVtZXJhYmxlLHA9ISFhJiYhIWEubm9UYXJnZXRHZXQ7XCJmdW5jdGlvblwiPT10eXBlb2YgaSYmKFwic3RyaW5nXCIhPXR5cGVvZiBlfHxvKGksXCJuYW1lXCIpfHxyKGksXCJuYW1lXCIsZSksdShpKS5zb3VyY2U9bC5qb2luKFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6XCJcIikpLHQhPT1uPyhjPyFwJiZ0W2VdJiYoaD0hMCk6ZGVsZXRlIHRbZV0saD90W2VdPWk6cih0LGUsaSkpOmg/dFtlXT1pOnMoZSxpKX0pKEZ1bmN0aW9uLnByb3RvdHlwZSxcInRvU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcyYmaCh0aGlzKS5zb3VyY2V8fGEodGhpcyl9KSl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDgpLHI9aSgxMyksbz1pKDM3KS5pbmRleE9mLHM9aSgzNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIGksYT1yKHQpLGM9MCxoPVtdO2ZvcihpIGluIGEpIW4ocyxpKSYmbihhLGkpJiZoLnB1c2goaSk7Zm9yKDtlLmxlbmd0aD5jOyluKGEsaT1lW2MrK10pJiYofm8oaCxpKXx8aC5wdXNoKGkpKTtyZXR1cm4gaH19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbixyLG8scz1pKDM5KSxhPWkoMTYpLGM9aSg4KSxoPWkoMSksdT1pKDMzKSxsPWgoXCJpdGVyYXRvclwiKSxwPSExO1tdLmtleXMmJihcIm5leHRcImluKG89W10ua2V5cygpKT8ocj1zKHMobykpKSE9PU9iamVjdC5wcm90b3R5cGUmJihuPXIpOnA9ITApLG51bGw9PW4mJihuPXt9KSx1fHxjKG4sbCl8fGEobixsLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHQuZXhwb3J0cz17SXRlcmF0b3JQcm90b3R5cGU6bixCVUdHWV9TQUZBUklfSVRFUkFUT1JTOnB9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg0KTt0LmV4cG9ydHM9ISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYhbigoZnVuY3Rpb24oKXtyZXR1cm4hU3RyaW5nKFN5bWJvbCgpKX0pKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLHI9aSgxNyksbz1pKDczKSxzPWkoMzgpLGE9aSgzNCksYz1pKDc1KSxoPWkoNDQpLHU9aSgzMiksbD11KFwiSUVfUFJPVE9cIikscD1mdW5jdGlvbigpe30sZD1mdW5jdGlvbih0KXtyZXR1cm5cIjxzY3JpcHQ+XCIrdCtcIjxcXC9zY3JpcHQ+XCJ9LGY9ZnVuY3Rpb24oKXt0cnl7bj1kb2N1bWVudC5kb21haW4mJm5ldyBBY3RpdmVYT2JqZWN0KFwiaHRtbGZpbGVcIil9Y2F0Y2godCl7fXZhciB0LGU7Zj1uP2Z1bmN0aW9uKHQpe3Qud3JpdGUoZChcIlwiKSksdC5jbG9zZSgpO3ZhciBlPXQucGFyZW50V2luZG93Lk9iamVjdDtyZXR1cm4gdD1udWxsLGV9KG4pOigoZT1oKFwiaWZyYW1lXCIpKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGMuYXBwZW5kQ2hpbGQoZSksZS5zcmM9U3RyaW5nKFwiamF2YXNjcmlwdDpcIiksKHQ9ZS5jb250ZW50V2luZG93LmRvY3VtZW50KS5vcGVuKCksdC53cml0ZShkKFwiZG9jdW1lbnQuRj1PYmplY3RcIikpLHQuY2xvc2UoKSx0LkYpO2Zvcih2YXIgaT1zLmxlbmd0aDtpLS07KWRlbGV0ZSBmLnByb3RvdHlwZVtzW2ldXTtyZXR1cm4gZigpfTthW2xdPSEwLHQuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciBpO3JldHVybiBudWxsIT09dD8ocC5wcm90b3R5cGU9cih0KSxpPW5ldyBwLHAucHJvdG90eXBlPW51bGwsaVtsXT10KTppPWYoKSx2b2lkIDA9PT1lP2k6byhpLGUpfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoOSkuZixyPWkoOCksbz1pKDEpKFwidG9TdHJpbmdUYWdcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxpKXt0JiYhcih0PWk/dDp0LnByb3RvdHlwZSxvKSYmbih0LG8se2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTplfSl9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG4scixvPWkoNSkscz1pKDg5KSxhPW8ucHJvY2VzcyxjPWEmJmEudmVyc2lvbnMsaD1jJiZjLnY4O2g/cj0obj1oLnNwbGl0KFwiLlwiKSlbMF0rblsxXTpzJiYoIShuPXMubWF0Y2goL0VkZ2VcXC8oXFxkKykvKSl8fG5bMV0+PTc0KSYmKG49cy5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLykpJiYocj1uWzFdKSx0LmV4cG9ydHM9ciYmK3J9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDE4KSxyPWkoMyksbz1pKDQwKSxzPWZ1bmN0aW9uKHQsZSxpLGEsYyxoLHUsbCl7Zm9yKHZhciBwLGQ9YyxmPTAsZz0hIXUmJm8odSxsLDMpO2Y8YTspe2lmKGYgaW4gaSl7aWYocD1nP2coaVtmXSxmLGUpOmlbZl0saD4wJiZuKHApKWQ9cyh0LGUscCxyKHAubGVuZ3RoKSxkLGgtMSktMTtlbHNle2lmKGQ+PTkwMDcxOTkyNTQ3NDA5OTEpdGhyb3cgVHlwZUVycm9yKFwiRXhjZWVkIHRoZSBhY2NlcHRhYmxlIGFycmF5IGxlbmd0aFwiKTt0W2RdPXB9ZCsrfWYrK31yZXR1cm4gZH07dC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDIxKSxyPWkoNiksbz1pKDI2KSxzPWkoMyksYT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxpLGEsYyl7bihpKTt2YXIgaD1yKGUpLHU9byhoKSxsPXMoaC5sZW5ndGgpLHA9dD9sLTE6MCxkPXQ/LTE6MTtpZihhPDIpZm9yKDs7KXtpZihwIGluIHUpe2M9dVtwXSxwKz1kO2JyZWFrfWlmKHArPWQsdD9wPDA6bDw9cCl0aHJvdyBUeXBlRXJyb3IoXCJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCIpfWZvcig7dD9wPj0wOmw+cDtwKz1kKXAgaW4gdSYmKGM9aShjLHVbcF0scCxoKSk7cmV0dXJuIGN9fTt0LmV4cG9ydHM9e2xlZnQ6YSghMSkscmlnaHQ6YSghMCl9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxMjUpO3QuZXhwb3J0cz1cInN0cmluZ1wiPT10eXBlb2Ygbj9uOm4udG9TdHJpbmcoKX0sZnVuY3Rpb24odCxlLGkpe2koNjApLGkoNzgpLGkoODYpLGkoODcpLGkoODgpLGkoOTApLGkoOTIpLGkoOTMpLGkoOTUpLGkoOTYpLGkoOTcpLGkoOTgpLGkoOTkpLGkoMTAwKSxpKDEwMiksaSgxMDMpLGkoMTA0KSxpKDEwNSksaSgxMDYpLGkoMTA4KSxpKDEwOSksaSgxMTApLGkoMTExKSxpKDExMiksaSgxMTMpLGkoMTE0KSxpKDExNSksaSgxMTcpLGkoMTE4KSxpKDExOSk7dmFyIG49aSgzNik7dC5leHBvcnRzPW4uQXJyYXl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDYxKS5jaGFyQXQscj1pKDI5KSxvPWkoNDcpLHM9ci5zZXQsYT1yLmdldHRlckZvcihcIlN0cmluZyBJdGVyYXRvclwiKTtvKFN0cmluZyxcIlN0cmluZ1wiLChmdW5jdGlvbih0KXtzKHRoaXMse3R5cGU6XCJTdHJpbmcgSXRlcmF0b3JcIixzdHJpbmc6U3RyaW5nKHQpLGluZGV4OjB9KX0pLChmdW5jdGlvbigpe3ZhciB0LGU9YSh0aGlzKSxpPWUuc3RyaW5nLHI9ZS5pbmRleDtyZXR1cm4gcj49aS5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfToodD1uKGksciksZS5pbmRleCs9dC5sZW5ndGgse3ZhbHVlOnQsZG9uZTohMX0pfSkpfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxNSkscj1pKDI4KSxvPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLGkpe3ZhciBvLHMsYT1TdHJpbmcocihlKSksYz1uKGkpLGg9YS5sZW5ndGg7cmV0dXJuIGM8MHx8Yz49aD90P1wiXCI6dm9pZCAwOihvPWEuY2hhckNvZGVBdChjKSk8NTUyOTZ8fG8+NTYzMTl8fGMrMT09PWh8fChzPWEuY2hhckNvZGVBdChjKzEpKTw1NjMyMHx8cz41NzM0Mz90P2EuY2hhckF0KGMpOm86dD9hLnNsaWNlKGMsYysyKTpzLTU2MzIwKyhvLTU1Mjk2PDwxMCkrNjU1MzZ9fTt0LmV4cG9ydHM9e2NvZGVBdDpvKCExKSxjaGFyQXQ6byghMCl9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg1KSxyPWkoNDEpLG89bi5XZWFrTWFwO3QuZXhwb3J0cz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBvJiYvbmF0aXZlIGNvZGUvLnRlc3QocihvKSl9LGZ1bmN0aW9uKHQsZSl7dmFyIGk7aT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtpPWl8fG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9Y2F0Y2godCl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKGk9d2luZG93KX10LmV4cG9ydHM9aX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixvPXImJiFuLmNhbGwoezE6Mn0sMSk7ZS5mPW8/ZnVuY3Rpb24odCl7dmFyIGU9cih0aGlzLHQpO3JldHVybiEhZSYmZS5lbnVtZXJhYmxlfTpufSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg4KSxyPWkoNjYpLG89aSg0OCkscz1pKDkpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1yKGUpLGE9cy5mLGM9by5mLGg9MDtoPGkubGVuZ3RoO2grKyl7dmFyIHU9aVtoXTtuKHQsdSl8fGEodCx1LGMoZSx1KSl9fX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMjcpLHI9aSg2Nyksbz1pKDY4KSxzPWkoMTcpO3QuZXhwb3J0cz1uKFwiUmVmbGVjdFwiLFwib3duS2V5c1wiKXx8ZnVuY3Rpb24odCl7dmFyIGU9ci5mKHModCkpLGk9by5mO3JldHVybiBpP2UuY29uY2F0KGkodCkpOmV9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg1MCkscj1pKDM4KS5jb25jYXQoXCJsZW5ndGhcIixcInByb3RvdHlwZVwiKTtlLmY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKHQpe3JldHVybiBuKHQscil9fSxmdW5jdGlvbih0LGUpe2UuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg0KSxyPS8jfFxcLnByb3RvdHlwZVxcLi8sbz1mdW5jdGlvbih0LGUpe3ZhciBpPWFbcyh0KV07cmV0dXJuIGk9PWh8fGkhPWMmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP24oZSk6ISFlKX0scz1vLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gU3RyaW5nKHQpLnJlcGxhY2UocixcIi5cIikudG9Mb3dlckNhc2UoKX0sYT1vLmRhdGE9e30sYz1vLk5BVElWRT1cIk5cIixoPW8uUE9MWUZJTEw9XCJQXCI7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDUxKS5JdGVyYXRvclByb3RvdHlwZSxyPWkoNTMpLG89aSgyNSkscz1pKDU0KSxhPWkoMjApLGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxpKXt2YXIgaD1lK1wiIEl0ZXJhdG9yXCI7cmV0dXJuIHQucHJvdG90eXBlPXIobix7bmV4dDpvKDEsaSl9KSxzKHQsaCwhMSwhMCksYVtoXT1jLHR9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg0KTt0LmV4cG9ydHM9IW4oKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuY29uc3RydWN0b3I9bnVsbCxPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IHQpIT09dC5wcm90b3R5cGV9KSl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDUyKTt0LmV4cG9ydHM9biYmIVN5bWJvbC5zaGFtJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxMSkscj1pKDkpLG89aSgxNykscz1pKDc0KTt0LmV4cG9ydHM9bj9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbih0LGUpe28odCk7Zm9yKHZhciBpLG49cyhlKSxhPW4ubGVuZ3RoLGM9MDthPmM7KXIuZih0LGk9bltjKytdLGVbaV0pO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoNTApLHI9aSgzOCk7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gbih0LHIpfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMjcpO3QuZXhwb3J0cz1uKFwiZG9jdW1lbnRcIixcImRvY3VtZW50RWxlbWVudFwiKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMTcpLHI9aSg3Nyk7dC5leHBvcnRzPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8KFwiX19wcm90b19fXCJpbnt9P2Z1bmN0aW9uKCl7dmFyIHQsZT0hMSxpPXt9O3RyeXsodD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsXCJfX3Byb3RvX19cIikuc2V0KS5jYWxsKGksW10pLGU9aSBpbnN0YW5jZW9mIEFycmF5fWNhdGNoKHQpe31yZXR1cm4gZnVuY3Rpb24oaSxvKXtyZXR1cm4gbihpKSxyKG8pLGU/dC5jYWxsKGksbyk6aS5fX3Byb3RvX189byxpfX0oKTp2b2lkIDApfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSg3KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIW4odCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcihcIkNhbid0IHNldCBcIitTdHJpbmcodCkrXCIgYXMgYSBwcm90b3R5cGVcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgwKSxyPWkoNzkpO24oe3RhcmdldDpcIkFycmF5XCIsc3RhdDohMCxmb3JjZWQ6IWkoODUpKChmdW5jdGlvbih0KXtBcnJheS5mcm9tKHQpfSkpfSx7ZnJvbTpyfSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDQwKSxyPWkoNiksbz1pKDgwKSxzPWkoODEpLGE9aSgzKSxjPWkoMjIpLGg9aSg4Mik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLGksdSxsLHAsZCxmPXIodCksZz1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzP3RoaXM6QXJyYXkseT1hcmd1bWVudHMubGVuZ3RoLF89eT4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsdj12b2lkIDAhPT1fLG09aChmKSxiPTA7aWYodiYmKF89bihfLHk+Mj9hcmd1bWVudHNbMl06dm9pZCAwLDIpKSxudWxsPT1tfHxnPT1BcnJheSYmcyhtKSlmb3IoaT1uZXcgZyhlPWEoZi5sZW5ndGgpKTtlPmI7YisrKWQ9dj9fKGZbYl0sYik6ZltiXSxjKGksYixkKTtlbHNlIGZvcihwPShsPW0uY2FsbChmKSkubmV4dCxpPW5ldyBnOyEodT1wLmNhbGwobCkpLmRvbmU7YisrKWQ9dj9vKGwsXyxbdS52YWx1ZSxiXSwhMCk6dS52YWx1ZSxjKGksYixkKTtyZXR1cm4gaS5sZW5ndGg9YixpfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMTcpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsaSxyKXt0cnl7cmV0dXJuIHI/ZShuKGkpWzBdLGlbMV0pOmUoaSl9Y2F0Y2goZSl7dmFyIG89dC5yZXR1cm47dGhyb3cgdm9pZCAwIT09byYmbihvLmNhbGwodCkpLGV9fX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSkscj1pKDIwKSxvPW4oXCJpdGVyYXRvclwiKSxzPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQmJihyLkFycmF5PT09dHx8c1tvXT09PXQpfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoODMpLHI9aSgyMCksbz1pKDEpKFwiaXRlcmF0b3JcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKG51bGwhPXQpcmV0dXJuIHRbb118fHRbXCJAQGl0ZXJhdG9yXCJdfHxyW24odCldfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoODQpLHI9aSgzNSksbz1pKDEpKFwidG9TdHJpbmdUYWdcIikscz1cIkFyZ3VtZW50c1wiPT1yKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPW4/cjpmdW5jdGlvbih0KXt2YXIgZSxpLG47cmV0dXJuIHZvaWQgMD09PXQ/XCJVbmRlZmluZWRcIjpudWxsPT09dD9cIk51bGxcIjpcInN0cmluZ1wiPT10eXBlb2YoaT1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdFtlXX1jYXRjaCh0KXt9fShlPU9iamVjdCh0KSxvKSk/aTpzP3IoZSk6XCJPYmplY3RcIj09KG49cihlKSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY2FsbGVlP1wiQXJndW1lbnRzXCI6bn19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj17fTtuW2koMSkoXCJ0b1N0cmluZ1RhZ1wiKV09XCJ6XCIsdC5leHBvcnRzPVwiW29iamVjdCB6XVwiPT09U3RyaW5nKG4pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKShcIml0ZXJhdG9yXCIpLHI9ITE7dHJ5e3ZhciBvPTAscz17bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOiEhbysrfX0scmV0dXJuOmZ1bmN0aW9uKCl7cj0hMH19O3Nbbl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sQXJyYXkuZnJvbShzLChmdW5jdGlvbigpe3Rocm93IDJ9KSl9Y2F0Y2godCl7fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFlJiYhcilyZXR1cm4hMTt2YXIgaT0hMTt0cnl7dmFyIG89e307b1tuXT1mdW5jdGlvbigpe3JldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6aT0hMH19fX0sdChvKX1jYXRjaCh0KXt9cmV0dXJuIGl9fSxmdW5jdGlvbih0LGUsaSl7aSgwKSh7dGFyZ2V0OlwiQXJyYXlcIixzdGF0OiEwfSx7aXNBcnJheTppKDE4KX0pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgwKSxyPWkoNCksbz1pKDIyKTtuKHt0YXJnZXQ6XCJBcnJheVwiLHN0YXQ6ITAsZm9yY2VkOnIoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4hKEFycmF5Lm9mLmNhbGwodClpbnN0YW5jZW9mIHQpfSkpfSx7b2Y6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcoXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcz90aGlzOkFycmF5KShlKTtlPnQ7KW8oaSx0LGFyZ3VtZW50c1t0KytdKTtyZXR1cm4gaS5sZW5ndGg9ZSxpfX0pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgwKSxyPWkoNCksbz1pKDE4KSxzPWkoNyksYT1pKDYpLGM9aSgzKSxoPWkoMjIpLHU9aSgyMyksbD1pKDI0KSxwPWkoMSksZD1pKDU1KSxmPXAoXCJpc0NvbmNhdFNwcmVhZGFibGVcIiksZz1kPj01MXx8IXIoKGZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRbZl09ITEsdC5jb25jYXQoKVswXSE9PXR9KSkseT1sKFwiY29uY2F0XCIpLF89ZnVuY3Rpb24odCl7aWYoIXModCkpcmV0dXJuITE7dmFyIGU9dFtmXTtyZXR1cm4gdm9pZCAwIT09ZT8hIWU6byh0KX07bih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IWd8fCF5fSx7Y29uY2F0OmZ1bmN0aW9uKHQpe3ZhciBlLGksbixyLG8scz1hKHRoaXMpLGw9dShzLDApLHA9MDtmb3IoZT0tMSxuPWFyZ3VtZW50cy5sZW5ndGg7ZTxuO2UrKylpZihvPS0xPT09ZT9zOmFyZ3VtZW50c1tlXSxfKG8pKXtpZihwKyhyPWMoby5sZW5ndGgpKT45MDA3MTk5MjU0NzQwOTkxKXRocm93IFR5cGVFcnJvcihcIk1heGltdW0gYWxsb3dlZCBpbmRleCBleGNlZWRlZFwiKTtmb3IoaT0wO2k8cjtpKysscCsrKWkgaW4gbyYmaChsLHAsb1tpXSl9ZWxzZXtpZihwPj05MDA3MTk5MjU0NzQwOTkxKXRocm93IFR5cGVFcnJvcihcIk1heGltdW0gYWxsb3dlZCBpbmRleCBleGNlZWRlZFwiKTtoKGwscCsrLG8pfXJldHVybiBsLmxlbmd0aD1wLGx9fSl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDI3KTt0LmV4cG9ydHM9bihcIm5hdmlnYXRvclwiLFwidXNlckFnZW50XCIpfHxcIlwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgwKSxyPWkoOTEpLG89aSgxMik7bih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMH0se2NvcHlXaXRoaW46cn0pLG8oXCJjb3B5V2l0aGluXCIpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSg2KSxyPWkoMTkpLG89aSgzKSxzPU1hdGgubWluO3QuZXhwb3J0cz1bXS5jb3B5V2l0aGlufHxmdW5jdGlvbih0LGUpe3ZhciBpPW4odGhpcyksYT1vKGkubGVuZ3RoKSxjPXIodCxhKSxoPXIoZSxhKSx1PWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwLGw9cygodm9pZCAwPT09dT9hOnIodSxhKSktaCxhLWMpLHA9MTtmb3IoaDxjJiZjPGgrbCYmKHA9LTEsaCs9bC0xLGMrPWwtMSk7bC0tID4wOyloIGluIGk/aVtjXT1pW2hdOmRlbGV0ZSBpW2NdLGMrPXAsaCs9cDtyZXR1cm4gaX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDApLHI9aSgxNCkuZXZlcnksbz1pKDEwKSxzPWkoMiksYT1vKFwiZXZlcnlcIiksYz1zKFwiZXZlcnlcIik7bih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IWF8fCFjfSx7ZXZlcnk6ZnVuY3Rpb24odCl7cmV0dXJuIHIodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMCkscj1pKDk0KSxvPWkoMTIpO24oe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITB9LHtmaWxsOnJ9KSxvKFwiZmlsbFwiKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoNikscj1pKDE5KSxvPWkoMyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uKHRoaXMpLGk9byhlLmxlbmd0aCkscz1hcmd1bWVudHMubGVuZ3RoLGE9cihzPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxpKSxjPXM+Mj9hcmd1bWVudHNbMl06dm9pZCAwLGg9dm9pZCAwPT09Yz9pOnIoYyxpKTtoPmE7KWVbYSsrXT10O3JldHVybiBlfX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMCkscj1pKDE0KS5maWx0ZXIsbz1pKDI0KSxzPWkoMiksYT1vKFwiZmlsdGVyXCIpLGM9cyhcImZpbHRlclwiKTtuKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohYXx8IWN9LHtmaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHIodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMCkscj1pKDE0KS5maW5kLG89aSgxMikscz1pKDIpLGE9ITAsYz1zKFwiZmluZFwiKTtcImZpbmRcImluW10mJkFycmF5KDEpLmZpbmQoKGZ1bmN0aW9uKCl7YT0hMX0pKSxuKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDphfHwhY30se2ZpbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHIodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKFwiZmluZFwiKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMCkscj1pKDE0KS5maW5kSW5kZXgsbz1pKDEyKSxzPWkoMiksYT0hMCxjPXMoXCJmaW5kSW5kZXhcIik7XCJmaW5kSW5kZXhcImluW10mJkFycmF5KDEpLmZpbmRJbmRleCgoZnVuY3Rpb24oKXthPSExfSkpLG4oe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOmF8fCFjfSx7ZmluZEluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiByKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksbyhcImZpbmRJbmRleFwiKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMCkscj1pKDU2KSxvPWkoNikscz1pKDMpLGE9aSgxNSksYz1pKDIzKTtuKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwfSx7ZmxhdDpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzBdOnZvaWQgMCxlPW8odGhpcyksaT1zKGUubGVuZ3RoKSxuPWMoZSwwKTtyZXR1cm4gbi5sZW5ndGg9cihuLGUsZSxpLDAsdm9pZCAwPT09dD8xOmEodCkpLG59fSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDApLHI9aSg1Niksbz1pKDYpLHM9aSgzKSxhPWkoMjEpLGM9aSgyMyk7bih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMH0se2ZsYXRNYXA6ZnVuY3Rpb24odCl7dmFyIGUsaT1vKHRoaXMpLG49cyhpLmxlbmd0aCk7cmV0dXJuIGEodCksKGU9YyhpLDApKS5sZW5ndGg9cihlLGksaSxuLDAsMSx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKSxlfX0pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgwKSxyPWkoMTAxKTtuKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpbXS5mb3JFYWNoIT1yfSx7Zm9yRWFjaDpyfSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDE0KS5mb3JFYWNoLHI9aSgxMCksbz1pKDIpLHM9cihcImZvckVhY2hcIiksYT1vKFwiZm9yRWFjaFwiKTt0LmV4cG9ydHM9cyYmYT9bXS5mb3JFYWNoOmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgwKSxyPWkoMzcpLmluY2x1ZGVzLG89aSgxMik7bih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IWkoMikoXCJpbmRleE9mXCIse0FDQ0VTU09SUzohMCwxOjB9KX0se2luY2x1ZGVzOmZ1bmN0aW9uKHQpe3JldHVybiByKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksbyhcImluY2x1ZGVzXCIpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgwKSxyPWkoMzcpLmluZGV4T2Ysbz1pKDEwKSxzPWkoMiksYT1bXS5pbmRleE9mLGM9ISFhJiYxL1sxXS5pbmRleE9mKDEsLTApPDAsaD1vKFwiaW5kZXhPZlwiKSx1PXMoXCJpbmRleE9mXCIse0FDQ0VTU09SUzohMCwxOjB9KTtuKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpjfHwhaHx8IXV9LHtpbmRleE9mOmZ1bmN0aW9uKHQpe3JldHVybiBjP2EuYXBwbHkodGhpcyxhcmd1bWVudHMpfHwwOnIodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMTMpLHI9aSgxMiksbz1pKDIwKSxzPWkoMjkpLGE9aSg0NyksYz1zLnNldCxoPXMuZ2V0dGVyRm9yKFwiQXJyYXkgSXRlcmF0b3JcIik7dC5leHBvcnRzPWEoQXJyYXksXCJBcnJheVwiLChmdW5jdGlvbih0LGUpe2ModGhpcyx7dHlwZTpcIkFycmF5IEl0ZXJhdG9yXCIsdGFyZ2V0Om4odCksaW5kZXg6MCxraW5kOmV9KX0pLChmdW5jdGlvbigpe3ZhciB0PWgodGhpcyksZT10LnRhcmdldCxpPXQua2luZCxuPXQuaW5kZXgrKztyZXR1cm4hZXx8bj49ZS5sZW5ndGg/KHQudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KTpcImtleXNcIj09aT97dmFsdWU6bixkb25lOiExfTpcInZhbHVlc1wiPT1pP3t2YWx1ZTplW25dLGRvbmU6ITF9Ont2YWx1ZTpbbixlW25dXSxkb25lOiExfX0pLFwidmFsdWVzXCIpLG8uQXJndW1lbnRzPW8uQXJyYXkscihcImtleXNcIikscihcInZhbHVlc1wiKSxyKFwiZW50cmllc1wiKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMCkscj1pKDI2KSxvPWkoMTMpLHM9aSgxMCksYT1bXS5qb2luLGM9ciE9T2JqZWN0LGg9cyhcImpvaW5cIixcIixcIik7bih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6Y3x8IWh9LHtqb2luOmZ1bmN0aW9uKHQpe3JldHVybiBhLmNhbGwobyh0aGlzKSx2b2lkIDA9PT10P1wiLFwiOnQpfX0pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgwKSxyPWkoMTA3KTtuKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpyIT09W10ubGFzdEluZGV4T2Z9LHtsYXN0SW5kZXhPZjpyfSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDEzKSxyPWkoMTUpLG89aSgzKSxzPWkoMTApLGE9aSgyKSxjPU1hdGgubWluLGg9W10ubGFzdEluZGV4T2YsdT0hIWgmJjEvWzFdLmxhc3RJbmRleE9mKDEsLTApPDAsbD1zKFwibGFzdEluZGV4T2ZcIikscD1hKFwiaW5kZXhPZlwiLHtBQ0NFU1NPUlM6ITAsMTowfSksZD11fHwhbHx8IXA7dC5leHBvcnRzPWQ/ZnVuY3Rpb24odCl7aWYodSlyZXR1cm4gaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fDA7dmFyIGU9bih0aGlzKSxpPW8oZS5sZW5ndGgpLHM9aS0xO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihzPWMocyxyKGFyZ3VtZW50c1sxXSkpKSxzPDAmJihzPWkrcyk7cz49MDtzLS0paWYocyBpbiBlJiZlW3NdPT09dClyZXR1cm4gc3x8MDtyZXR1cm4tMX06aH0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMCkscj1pKDE0KS5tYXAsbz1pKDI0KSxzPWkoMiksYT1vKFwibWFwXCIpLGM9cyhcIm1hcFwiKTtuKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohYXx8IWN9LHttYXA6ZnVuY3Rpb24odCl7cmV0dXJuIHIodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMCkscj1pKDU3KS5sZWZ0LG89aSgxMCkscz1pKDIpLGE9byhcInJlZHVjZVwiKSxjPXMoXCJyZWR1Y2VcIix7MTowfSk7bih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IWF8fCFjfSx7cmVkdWNlOmZ1bmN0aW9uKHQpe3JldHVybiByKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMCkscj1pKDU3KS5yaWdodCxvPWkoMTApLHM9aSgyKSxhPW8oXCJyZWR1Y2VSaWdodFwiKSxjPXMoXCJyZWR1Y2VcIix7MTowfSk7bih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IWF8fCFjfSx7cmVkdWNlUmlnaHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHIodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGgsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgwKSxyPWkoMTgpLG89W10ucmV2ZXJzZSxzPVsxLDJdO24oe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOlN0cmluZyhzKT09PVN0cmluZyhzLnJldmVyc2UoKSl9LHtyZXZlcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcykmJih0aGlzLmxlbmd0aD10aGlzLmxlbmd0aCksby5jYWxsKHRoaXMpfX0pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgwKSxyPWkoNyksbz1pKDE4KSxzPWkoMTkpLGE9aSgzKSxjPWkoMTMpLGg9aSgyMiksdT1pKDEpLGw9aSgyNCkscD1pKDIpLGQ9bChcInNsaWNlXCIpLGY9cChcInNsaWNlXCIse0FDQ0VTU09SUzohMCwwOjAsMToyfSksZz11KFwic3BlY2llc1wiKSx5PVtdLnNsaWNlLF89TWF0aC5tYXg7bih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IWR8fCFmfSx7c2xpY2U6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLHUsbD1jKHRoaXMpLHA9YShsLmxlbmd0aCksZD1zKHQscCksZj1zKHZvaWQgMD09PWU/cDplLHApO2lmKG8obCkmJihcImZ1bmN0aW9uXCIhPXR5cGVvZihpPWwuY29uc3RydWN0b3IpfHxpIT09QXJyYXkmJiFvKGkucHJvdG90eXBlKT9yKGkpJiZudWxsPT09KGk9aVtnXSkmJihpPXZvaWQgMCk6aT12b2lkIDAsaT09PUFycmF5fHx2b2lkIDA9PT1pKSlyZXR1cm4geS5jYWxsKGwsZCxmKTtmb3Iobj1uZXcodm9pZCAwPT09aT9BcnJheTppKShfKGYtZCwwKSksdT0wO2Q8ZjtkKyssdSsrKWQgaW4gbCYmaChuLHUsbFtkXSk7cmV0dXJuIG4ubGVuZ3RoPXUsbn19KX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMCkscj1pKDE0KS5zb21lLG89aSgxMCkscz1pKDIpLGE9byhcInNvbWVcIiksYz1zKFwic29tZVwiKTtuKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohYXx8IWN9LHtzb21lOmZ1bmN0aW9uKHQpe3JldHVybiByKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDApLHI9aSgyMSksbz1pKDYpLHM9aSg0KSxhPWkoMTApLGM9W10saD1jLnNvcnQsdT1zKChmdW5jdGlvbigpe2Muc29ydCh2b2lkIDApfSkpLGw9cygoZnVuY3Rpb24oKXtjLnNvcnQobnVsbCl9KSkscD1hKFwic29ydFwiKTtuKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDp1fHwhbHx8IXB9LHtzb3J0OmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10P2guY2FsbChvKHRoaXMpKTpoLmNhbGwobyh0aGlzKSxyKHQpKX19KX0sZnVuY3Rpb24odCxlLGkpe2koMTE2KShcIkFycmF5XCIpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgyNykscj1pKDkpLG89aSgxKSxzPWkoMTEpLGE9byhcInNwZWNpZXNcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPW4odCksaT1yLmY7cyYmZSYmIWVbYV0mJmkoZSxhLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgwKSxyPWkoMTkpLG89aSgxNSkscz1pKDMpLGE9aSg2KSxjPWkoMjMpLGg9aSgyMiksdT1pKDI0KSxsPWkoMikscD11KFwic3BsaWNlXCIpLGQ9bChcInNwbGljZVwiLHtBQ0NFU1NPUlM6ITAsMDowLDE6Mn0pLGY9TWF0aC5tYXgsZz1NYXRoLm1pbjtuKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohcHx8IWR9LHtzcGxpY2U6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLHUsbCxwLGQseT1hKHRoaXMpLF89cyh5Lmxlbmd0aCksdj1yKHQsXyksbT1hcmd1bWVudHMubGVuZ3RoO2lmKDA9PT1tP2k9bj0wOjE9PT1tPyhpPTAsbj1fLXYpOihpPW0tMixuPWcoZihvKGUpLDApLF8tdikpLF8raS1uPjkwMDcxOTkyNTQ3NDA5OTEpdGhyb3cgVHlwZUVycm9yKFwiTWF4aW11bSBhbGxvd2VkIGxlbmd0aCBleGNlZWRlZFwiKTtmb3IodT1jKHksbiksbD0wO2w8bjtsKyspKHA9ditsKWluIHkmJmgodSxsLHlbcF0pO2lmKHUubGVuZ3RoPW4saTxuKXtmb3IobD12O2w8Xy1uO2wrKylkPWwraSwocD1sK24paW4geT95W2RdPXlbcF06ZGVsZXRlIHlbZF07Zm9yKGw9XztsPl8tbitpO2wtLSlkZWxldGUgeVtsLTFdfWVsc2UgaWYoaT5uKWZvcihsPV8tbjtsPnY7bC0tKWQ9bCtpLTEsKHA9bCtuLTEpaW4geT95W2RdPXlbcF06ZGVsZXRlIHlbZF07Zm9yKGw9MDtsPGk7bCsrKXlbbCt2XT1hcmd1bWVudHNbbCsyXTtyZXR1cm4geS5sZW5ndGg9Xy1uK2ksdX19KX0sZnVuY3Rpb24odCxlLGkpe2koMTIpKFwiZmxhdFwiKX0sZnVuY3Rpb24odCxlLGkpe2koMTIpKFwiZmxhdE1hcFwiKX0sZnVuY3Rpb24odCxlLGkpe2koMTIxKSxpKDEyMyksaSgxMjQpO3ZhciBuPWkoMzYpO3QuZXhwb3J0cz1uLkZ1bmN0aW9ufSxmdW5jdGlvbih0LGUsaSl7aSgwKSh7dGFyZ2V0OlwiRnVuY3Rpb25cIixwcm90bzohMH0se2JpbmQ6aSgxMjIpfSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDIxKSxyPWkoNyksbz1bXS5zbGljZSxzPXt9LGE9ZnVuY3Rpb24odCxlLGkpe2lmKCEoZSBpbiBzKSl7Zm9yKHZhciBuPVtdLHI9MDtyPGU7cisrKW5bcl09XCJhW1wiK3IrXCJdXCI7c1tlXT1GdW5jdGlvbihcIkMsYVwiLFwicmV0dXJuIG5ldyBDKFwiK24uam9pbihcIixcIikrXCIpXCIpfXJldHVybiBzW2VdKHQsaSl9O3QuZXhwb3J0cz1GdW5jdGlvbi5iaW5kfHxmdW5jdGlvbih0KXt2YXIgZT1uKHRoaXMpLGk9by5jYWxsKGFyZ3VtZW50cywxKSxzPWZ1bmN0aW9uKCl7dmFyIG49aS5jb25jYXQoby5jYWxsKGFyZ3VtZW50cykpO3JldHVybiB0aGlzIGluc3RhbmNlb2Ygcz9hKGUsbi5sZW5ndGgsbik6ZS5hcHBseSh0LG4pfTtyZXR1cm4gcihlLnByb3RvdHlwZSkmJihzLnByb3RvdHlwZT1lLnByb3RvdHlwZSksc319LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDExKSxyPWkoOSkuZixvPUZ1bmN0aW9uLnByb3RvdHlwZSxzPW8udG9TdHJpbmcsYT0vXlxccypmdW5jdGlvbiAoW14gKF0qKS87IW58fFwibmFtZVwiaW4gb3x8cihvLFwibmFtZVwiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBzLmNhbGwodGhpcykubWF0Y2goYSlbMV19Y2F0Y2godCl7cmV0dXJuXCJcIn19fSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDcpLHI9aSg5KSxvPWkoMzkpLHM9aSgxKShcImhhc0luc3RhbmNlXCIpLGE9RnVuY3Rpb24ucHJvdG90eXBlO3MgaW4gYXx8ci5mKGEscyx7dmFsdWU6ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdGhpc3x8IW4odCkpcmV0dXJuITE7aWYoIW4odGhpcy5wcm90b3R5cGUpKXJldHVybiB0IGluc3RhbmNlb2YgdGhpcztmb3IoO3Q9byh0KTspaWYodGhpcy5wcm90b3R5cGU9PT10KXJldHVybiEwO3JldHVybiExfX0pfSxmdW5jdGlvbih0LGUsaSl7KGU9aSgxMjYpKCExKSkucHVzaChbdC5pLFwiLyogQnV0dG9ucyBzdHlsZXMgc3RhcnQgKi9cXG5cXG5idXR0b24jZXhjYWxpYnVyLXBsYXkge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgei1pbmRleDogOTk5O1xcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xcbiAgYm9yZGVyOiBub25lO1xcbiAgLypib3JkZXI6IDNweCBzb2xpZDtcXG4gICAgYm9yZGVyLWNvbG9yOiB3aGl0ZTtcXG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggI2NjYzsqL1xcbiAgcGFkZGluZzogMXJlbSAxLjVyZW0gMXJlbSA0cmVtO1xcbiAgbWFyZ2luOiAwO1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgYmFja2dyb3VuZDogIzAwYjIzMztcXG4gIGNvbG9yOiAjZmZmZmZmO1xcbiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XFxuICBmb250LXNpemU6IDJyZW07XFxuICBsaW5lLWhlaWdodDogMTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQgMjUwbXMgZWFzZS1pbi1vdXQsIHRyYW5zZm9ybSAxNTBtcyBlYXNlO1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xcblxcbiAgLXdlYmtpdC1hbmltYXRpb246IGV4Y2FsaWJ1ci1idXR0b24tZmFkZWluIDIwMG1zOyAvKiBTYWZhcmksIENocm9tZSBhbmQgT3BlcmEgPiAxMi4xICovXFxuICAtbW96LWFuaW1hdGlvbjogZXhjYWxpYnVyLWJ1dHRvbi1mYWRlaW4gMjAwbXM7IC8qIEZpcmVmb3ggPCAxNiAqL1xcbiAgLW1zLWFuaW1hdGlvbjogZXhjYWxpYnVyLWJ1dHRvbi1mYWRlaW4gMjAwbXM7IC8qIEludGVybmV0IEV4cGxvcmVyICovXFxuICAtby1hbmltYXRpb246IGV4Y2FsaWJ1ci1idXR0b24tZmFkZWluIDIwMG1zOyAvKiBPcGVyYSA8IDEyLjEgKi9cXG4gIGFuaW1hdGlvbjogZXhjYWxpYnVyLWJ1dHRvbi1mYWRlaW4gMjAwbXM7XFxufVxcblxcbi8qXFxuYnV0dG9uI2V4Y2FsaWJ1ci1wbGF5IHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufSovXFxuXFxuYnV0dG9uI2V4Y2FsaWJ1ci1wbGF5OmFmdGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgYm9yZGVyOiA4cHggc29saWQ7XFxuICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHdoaXRlO1xcbiAgbGVmdDogMzVweDtcXG4gIHRvcDogMjRweDtcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbn1cXG5cXG5idXR0b24jZXhjYWxpYnVyLXBsYXk6YmVmb3JlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgYm9yZGVyOiAzcHggc29saWQ7XFxuICBsZWZ0OiAxOXB4O1xcbiAgdG9wOiAxNHB4O1xcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcXG4gIHdpZHRoOiAzMHB4O1xcbiAgaGVpZ2h0OiAzMHB4O1xcbn1cXG5cXG5idXR0b24jZXhjYWxpYnVyLXBsYXk6aG92ZXIsXFxuYnV0dG9uI2V4Y2FsaWJ1ci1wbGF5OmZvY3VzIHtcXG4gIGJhY2tncm91bmQ6ICMwMDk4MmM7XFxufVxcblxcbmJ1dHRvbiNleGNhbGlidXItcGxheTpmb2N1cyB7XFxuICBvdXRsaW5lOiAxcHggc29saWQgI2ZmZjtcXG4gIG91dGxpbmUtb2Zmc2V0OiAtNHB4O1xcbn1cXG5cXG5idXR0b24jZXhjYWxpYnVyLXBsYXk6YWN0aXZlIHtcXG4gIHRyYW5zZm9ybTogc2NhbGUoMC45OSk7XFxufVxcblxcbkBrZXlmcmFtZXMgZXhjYWxpYnVyLWJ1dHRvbi1mYWRlaW4ge1xcbiAgZnJvbSB7XFxuICAgIG9wYWNpdHk6IDA7XFxuICB9XFxuICB0byB7XFxuICAgIG9wYWNpdHk6IDE7XFxuICB9XFxufVxcblxcbi8qIEZpcmVmb3ggPCAxNiAqL1xcbkAtbW96LWtleWZyYW1lcyBleGNhbGlidXItYnV0dG9uLWZhZGVpbiB7XFxuICBmcm9tIHtcXG4gICAgb3BhY2l0eTogMDtcXG4gIH1cXG4gIHRvIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG59XFxuXFxuLyogU2FmYXJpLCBDaHJvbWUgYW5kIE9wZXJhID4gMTIuMSAqL1xcbkAtd2Via2l0LWtleWZyYW1lcyBleGNhbGlidXItYnV0dG9uLWZhZGVpbiB7XFxuICBmcm9tIHtcXG4gICAgb3BhY2l0eTogMDtcXG4gIH1cXG4gIHRvIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG59XFxuXFxuLyogSW50ZXJuZXQgRXhwbG9yZXIgKi9cXG5ALW1zLWtleWZyYW1lcyBleGNhbGlidXItYnV0dG9uLWZhZGVpbiB7XFxuICBmcm9tIHtcXG4gICAgb3BhY2l0eTogMDtcXG4gIH1cXG4gIHRvIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG59XFxuXFxuLyogT3BlcmEgPCAxMi4xICovXFxuQC1vLWtleWZyYW1lcyBleGNhbGlidXItYnV0dG9uLWZhZGVpbiB7XFxuICBmcm9tIHtcXG4gICAgb3BhY2l0eTogMDtcXG4gIH1cXG4gIHRvIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG59XFxuXCIsXCJcIl0pLHQuZXhwb3J0cz1lfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKChmdW5jdGlvbihlKXt2YXIgaT1mdW5jdGlvbih0LGUpe3ZhciBpPXRbMV18fFwiXCIsbj10WzNdO2lmKCFuKXJldHVybiBpO2lmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2Epe3ZhciByPShzPW4sYT1idG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzKSkpKSxjPVwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGEpLFwiLyojIFwiLmNvbmNhdChjLFwiICovXCIpKSxvPW4uc291cmNlcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQobi5zb3VyY2VSb290fHxcIlwiKS5jb25jYXQodCxcIiAqL1wiKX0pKTtyZXR1cm5baV0uY29uY2F0KG8pLmNvbmNhdChbcl0pLmpvaW4oXCJcXG5cIil9dmFyIHMsYSxjO3JldHVybltpXS5qb2luKFwiXFxuXCIpfShlLHQpO3JldHVybiBlWzJdP1wiQG1lZGlhIFwiLmNvbmNhdChlWzJdLFwiIHtcIikuY29uY2F0KGksXCJ9XCIpOml9KSkuam9pbihcIlwiKX0sZS5pPWZ1bmN0aW9uKHQsaSxuKXtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9W1tudWxsLHQsXCJcIl1dKTt2YXIgcj17fTtpZihuKWZvcih2YXIgbz0wO288dGhpcy5sZW5ndGg7bysrKXt2YXIgcz10aGlzW29dWzBdO251bGwhPXMmJihyW3NdPSEwKX1mb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIGM9W10uY29uY2F0KHRbYV0pO24mJnJbY1swXV18fChpJiYoY1syXT9jWzJdPVwiXCIuY29uY2F0KGksXCIgYW5kIFwiKS5jb25jYXQoY1syXSk6Y1syXT1pKSxlLnB1c2goYykpfX0sZX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtpLnIoZSksaS5kKGUsXCJFWF9WRVJTSU9OXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJyfSkpLGkuZChlLFwiRGlzcGxheU1vZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTW59KSksaS5kKGUsXCJTY3JvbGxQcmV2ZW50aW9uTW9kZVwiLChmdW5jdGlvbigpe3JldHVybiBEbn0pKSxpLmQoZSxcIkVuZ2luZVwiLChmdW5jdGlvbigpe3JldHVybiBJbn0pKSxpLmQoZSxcIkFjdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGlpfSkpLGkuZChlLFwiQ29sbGlzaW9uVHlwZVwiLChmdW5jdGlvbigpe3JldHVybiBuZX0pKSxpLmQoZSxcIlZlY3RvclwiLChmdW5jdGlvbigpe3JldHVybiBWfSkpLGkuZChlLFwiUmF5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEd9KSksaS5kKGUsXCJMaW5lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFh9KSksaS5kKGUsXCJQcm9qZWN0aW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEt9KSksaS5kKGUsXCJHbG9iYWxDb29yZGluYXRlc1wiLChmdW5jdGlvbigpe3JldHVybiBZfSkpLGkuZChlLFwidmVjXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFp9KSksaS5kKGUsXCJTdHJhdGVneUNvbnRhaW5lclwiLChmdW5jdGlvbigpe3JldHVybiBPaX0pKSxpLmQoZSxcIkF4aXNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZGl9KSksaS5kKGUsXCJMb2NrQ2FtZXJhVG9BY3RvclN0cmF0ZWd5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJpfSkpLGkuZChlLFwiTG9ja0NhbWVyYVRvQWN0b3JBeGlzU3RyYXRlZ3lcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUml9KSksaS5kKGUsXCJFbGFzdGljVG9BY3RvclN0cmF0ZWd5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGppfSkpLGkuZChlLFwiUmFkaXVzQXJvdW5kQWN0b3JTdHJhdGVneVwiLChmdW5jdGlvbigpe3JldHVybiBGaX0pKSxpLmQoZSxcIkNhbWVyYVwiLChmdW5jdGlvbigpe3JldHVybiBJaX0pKSxpLmQoZSxcIkNsYXNzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ0fSkpLGkuZChlLFwiQ29uZmlndXJhYmxlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFp0fSkpLGkuZChlLFwiRGVidWdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWml9KSksaS5kKGUsXCJGcmFtZVN0YXRzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFFpfSkpLGkuZChlLFwiUGh5c2ljc1N0YXRzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEppfSkpLGkuZChlLFwiRXZlbnREaXNwYXRjaGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ0fSkpLGkuZChlLFwiTWVkaWFFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBIbn0pKSxpLmQoZSxcIk5hdGl2ZVNvdW5kRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gV259KSksaS5kKGUsXCJOYXRpdmVTb3VuZFByb2Nlc3NlZEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFVufSkpLGkuZChlLFwiRXZlbnRUeXBlc1wiLChmdW5jdGlvbigpe3JldHVybiBKfSkpLGkuZChlLFwiR2FtZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHR0fSkpLGkuZChlLFwiS2lsbEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGV0fSkpLGkuZChlLFwiUHJlS2lsbEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl0fSkpLGkuZChlLFwiUG9zdEtpbGxFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBudH0pKSxpLmQoZSxcIkdhbWVTdGFydEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ0fSkpLGkuZChlLFwiR2FtZVN0b3BFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBvdH0pKSxpLmQoZSxcIlByZURyYXdFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBzdH0pKSxpLmQoZSxcIlBvc3REcmF3RXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYXR9KSksaS5kKGUsXCJQcmVEZWJ1Z0RyYXdFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBjdH0pKSxpLmQoZSxcIlBvc3REZWJ1Z0RyYXdFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBodH0pKSxpLmQoZSxcIlByZVVwZGF0ZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV0fSkpLGkuZChlLFwiUG9zdFVwZGF0ZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx0fSkpLGkuZChlLFwiUHJlRnJhbWVFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBwdH0pKSxpLmQoZSxcIlBvc3RGcmFtZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR0fSkpLGkuZChlLFwiR2FtZXBhZENvbm5lY3RFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBmdH0pKSxpLmQoZSxcIkdhbWVwYWREaXNjb25uZWN0RXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ3R9KSksaS5kKGUsXCJHYW1lcGFkQnV0dG9uRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4geXR9KSksaS5kKGUsXCJHYW1lcGFkQXhpc0V2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF90fSkpLGkuZChlLFwiU3Vic2NyaWJlRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdnR9KSksaS5kKGUsXCJVbnN1YnNjcmliZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG10fSkpLGkuZChlLFwiVmlzaWJsZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ0fSkpLGkuZChlLFwiSGlkZGVuRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gd3R9KSksaS5kKGUsXCJQcmVDb2xsaXNpb25FdmVudFwiLChmdW5jdGlvbigpe3JldHVybiB4dH0pKSxpLmQoZSxcIlBvc3RDb2xsaXNpb25FdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBQdH0pKSxpLmQoZSxcIkNvbGxpc2lvblN0YXJ0RXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gU3R9KSksaS5kKGUsXCJDb2xsaXNpb25FbmRFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBFdH0pKSxpLmQoZSxcIkluaXRpYWxpemVFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBBdH0pKSxpLmQoZSxcIkFjdGl2YXRlRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ3R9KSksaS5kKGUsXCJEZWFjdGl2YXRlRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gT3R9KSksaS5kKGUsXCJFeGl0Vmlld1BvcnRFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBUdH0pKSxpLmQoZSxcIkVudGVyVmlld1BvcnRFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBNdH0pKSxpLmQoZSxcIkVudGVyVHJpZ2dlckV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIER0fSkpLGkuZChlLFwiRXhpdFRyaWdnZXJFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBrdH0pKSxpLmQoZSxcIkxhYmVsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHppfSkpLGkuZChlLFwiRm9udFN0eWxlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGtpfSkpLGkuZChlLFwiRm9udFVuaXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVGl9KSksaS5kKGUsXCJUZXh0QWxpZ25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gTWl9KSksaS5kKGUsXCJCYXNlQWxpZ25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gRGl9KSksaS5kKGUsXCJMb2FkZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdml9KSksaS5kKGUsXCJQYXJ0aWNsZVwiLChmdW5jdGlvbigpe3JldHVybiBxbn0pKSxpLmQoZSxcIlBhcnRpY2xlRW1pdHRlclwiLChmdW5jdGlvbigpe3JldHVybiBWbn0pKSxpLmQoZSxcIkVtaXR0ZXJUeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZufSkpLGkuZChlLFwiQ29sbGlzaW9uUmVzb2x1dGlvblN0cmF0ZWd5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEVlfSkpLGkuZChlLFwiQnJvYWRwaGFzZVN0cmF0ZWd5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEFlfSkpLGkuZChlLFwiSW50ZWdyYXRvclwiLChmdW5jdGlvbigpe3JldHVybiBDZX0pKSxpLmQoZSxcIlBoeXNpY3NcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVGV9KSksaS5kKGUsXCJQcm9taXNlU3RhdGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxpLmQoZSxcIlByb21pc2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxpLmQoZSxcIlNjZW5lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEdpfSkpLGkuZChlLFwiVGlsZU1hcFwiLChmdW5jdGlvbigpe3JldHVybiBoaX0pKSxpLmQoZSxcIkNlbGxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbGl9KSksaS5kKGUsXCJUaWxlU3ByaXRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHVpfSkpLGkuZChlLFwiVGltZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYWl9KSksaS5kKGUsXCJUcmlnZ2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFVpfSkpLGkuZChlLFwiU2NyZWVuRWxlbWVudFwiLChmdW5jdGlvbigpe3JldHVybiBvaX0pKSxpLmQoZSxcIlVJQWN0b3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc2l9KSksaS5kKGUsXCJBY3Rpb25Db250ZXh0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFNlfSkpLGkuZChlLFwiUm90YXRpb25UeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFF0fSkpLGkuZChlLFwiQWN0aW9uc1wiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLGkuZChlLFwiSW50ZXJuYWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gR259KSksaS5kKGUsXCJCb2R5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHplfSkpLGkuZChlLFwiaXNDb2xsaWRlclwiLChmdW5jdGlvbigpe3JldHVybiBRZX0pKSxpLmQoZSxcIkNvbGxpZGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEplfSkpLGkuZChlLFwiQm91bmRpbmdCb3hcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTWV9KSksaS5kKGUsXCJDaXJjbGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gamV9KSksaS5kKGUsXCJDb2xsaXNpb25Db250YWN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIERlfSkpLGkuZChlLFwiQ29sbGlzaW9uSnVtcFRhYmxlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGtlfSkpLGkuZChlLFwiQ2xvc2VzdExpbmVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQmV9KSksaS5kKGUsXCJDbG9zZXN0TGluZUp1bXBUYWJsZVwiLChmdW5jdGlvbigpe3JldHVybiBSZX0pKSxpLmQoZSxcIkNvbGxpc2lvbkdyb3VwXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFllfSkpLGkuZChlLFwiQ29sbGlzaW9uR3JvdXBNYW5hZ2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFhufSkpLGkuZChlLFwiVHJlZU5vZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gd2l9KSksaS5kKGUsXCJEeW5hbWljVHJlZVwiLChmdW5jdGlvbigpe3JldHVybiB4aX0pKSxpLmQoZSxcIkR5bmFtaWNUcmVlQ29sbGlzaW9uQnJvYWRwaGFzZVwiLChmdW5jdGlvbigpe3JldHVybiBQaX0pKSxpLmQoZSxcIkVkZ2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRmV9KSksaS5kKGUsXCJQYWlyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFplfSkpLGkuZChlLFwiQ29udmV4UG9seWdvblwiLChmdW5jdGlvbigpe3JldHVybiBJZX0pKSxpLmQoZSxcIlNpZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxpLmQoZSxcIlNoYXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIExlfSkpLGkuZChlLFwiQW5pbWF0aW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFlufSkpLGkuZChlLFwiQ29sb3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTHR9KSksaS5kKGUsXCJQb2x5Z29uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFFufSkpLGkuZChlLFwiU3ByaXRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHRlfSkpLGkuZChlLFwiU3ByaXRlU2hlZXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gJG59KSksaS5kKGUsXCJTcHJpdGVGb250XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHRyfSkpLGkuZChlLFwiRWZmZWN0c1wiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGkuZChlLFwiRXhSZXNwb25zZVwiLChmdW5jdGlvbigpe3JldHVybiBlcn0pKSxpLmQoZSxcIlBlcmxpbkdlbmVyYXRvclwiLChmdW5jdGlvbigpe3JldHVybiBycn0pKSxpLmQoZSxcIlBlcmxpbkRyYXdlcjJEXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG9yfSkpLGkuZChlLFwiUmFuZG9tXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksaS5kKGUsXCJDb2xvckJsaW5kbmVzc1wiLChmdW5jdGlvbigpe3JldHVybiBxaX0pKSxpLmQoZSxcIkNvbG9yQmxpbmRDb3JyZWN0b3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4gS2l9KSksaS5kKGUsXCJSZXNvdXJjZVwiLChmdW5jdGlvbigpe3JldHVybiBGdH0pKSxpLmQoZSxcIlNvdW5kXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGRyfSkpLGkuZChlLFwiQXVkaW9Db250ZXh0RmFjdG9yeVwiLChmdW5jdGlvbigpe3JldHVybiBwaX0pKSxpLmQoZSxcIkF1ZGlvSW5zdGFuY2VGYWN0b3J5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGFyfSkpLGkuZChlLFwiQXVkaW9JbnN0YW5jZVwiLChmdW5jdGlvbigpe3JldHVybiBjcn0pKSxpLmQoZSxcIkF1ZGlvVGFnSW5zdGFuY2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaHJ9KSksaS5kKGUsXCJXZWJBdWRpb0luc3RhbmNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHVyfSkpLGkuZChlLFwiVGV4dHVyZVwiLChmdW5jdGlvbigpe3JldHVybiBpZX0pKSxpLmQoZSxcIkdpZlwiLChmdW5jdGlvbigpe3JldHVybiBncn0pKSxpLmQoZSxcIlN0cmVhbVwiLChmdW5jdGlvbigpe3JldHVybiB2cn0pKSxpLmQoZSxcIlBhcnNlR2lmXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG1yfSkpLGkuZChlLFwiRXZlbnRzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSksaS5kKGUsXCJJbnB1dFwiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLGkuZChlLFwiVHJhaXRzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksaS5kKGUsXCJVdGlsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksaS5kKGUsXCJCcm93c2VyQ29tcG9uZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGtufSkpLGkuZChlLFwiQnJvd3NlckV2ZW50c1wiLChmdW5jdGlvbigpe3JldHVybiBCbn0pKSxpLmQoZSxcIm1heE1lc3NhZ2VzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHp9KSksaS5kKGUsXCJyZXNldE9ic29sZXRlQ291bnRlclwiLChmdW5jdGlvbigpe3JldHVybiBXfSkpLGkuZChlLFwib2Jzb2xldGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTn0pKSxpLmQoZSxcIkRldGVjdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJpfSkpLGkuZChlLFwiQ3VsbGluZ0JveFwiLChmdW5jdGlvbigpe3JldHVybiBXZX0pKSxpLmQoZSxcIkVhc2luZ0Z1bmN0aW9uc1wiLChmdW5jdGlvbigpe3JldHVybiBQZX0pKSxpLmQoZSxcIkxvZ0xldmVsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSksaS5kKGUsXCJMb2dnZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUn0pKSxpLmQoZSxcIkNvbnNvbGVBcHBlbmRlclwiLChmdW5jdGlvbigpe3JldHVybiBqfSkpLGkuZChlLFwiU2NyZWVuQXBwZW5kZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRn0pKSxpLmQoZSxcIlNvcnRlZExpc3RcIiwoZnVuY3Rpb24oKXtyZXR1cm4gU2l9KSksaS5kKGUsXCJCaW5hcnlUcmVlTm9kZVwiLChmdW5jdGlvbigpe3JldHVybiBFaX0pKSxpLmQoZSxcIk1vY2tlZEVsZW1lbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQWl9KSk7dmFyIG49e307aS5yKG4pLGkuZChuLFwiRXZlbnRUeXBlc1wiLChmdW5jdGlvbigpe3JldHVybiBKfSkpLGkuZChuLFwiR2FtZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHR0fSkpLGkuZChuLFwiS2lsbEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGV0fSkpLGkuZChuLFwiUHJlS2lsbEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl0fSkpLGkuZChuLFwiUG9zdEtpbGxFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBudH0pKSxpLmQobixcIkdhbWVTdGFydEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ0fSkpLGkuZChuLFwiR2FtZVN0b3BFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBvdH0pKSxpLmQobixcIlByZURyYXdFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBzdH0pKSxpLmQobixcIlBvc3REcmF3RXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYXR9KSksaS5kKG4sXCJQcmVEZWJ1Z0RyYXdFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBjdH0pKSxpLmQobixcIlBvc3REZWJ1Z0RyYXdFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBodH0pKSxpLmQobixcIlByZVVwZGF0ZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV0fSkpLGkuZChuLFwiUG9zdFVwZGF0ZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx0fSkpLGkuZChuLFwiUHJlRnJhbWVFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBwdH0pKSxpLmQobixcIlBvc3RGcmFtZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR0fSkpLGkuZChuLFwiR2FtZXBhZENvbm5lY3RFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBmdH0pKSxpLmQobixcIkdhbWVwYWREaXNjb25uZWN0RXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ3R9KSksaS5kKG4sXCJHYW1lcGFkQnV0dG9uRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4geXR9KSksaS5kKG4sXCJHYW1lcGFkQXhpc0V2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF90fSkpLGkuZChuLFwiU3Vic2NyaWJlRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdnR9KSksaS5kKG4sXCJVbnN1YnNjcmliZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG10fSkpLGkuZChuLFwiVmlzaWJsZUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ0fSkpLGkuZChuLFwiSGlkZGVuRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gd3R9KSksaS5kKG4sXCJQcmVDb2xsaXNpb25FdmVudFwiLChmdW5jdGlvbigpe3JldHVybiB4dH0pKSxpLmQobixcIlBvc3RDb2xsaXNpb25FdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBQdH0pKSxpLmQobixcIkNvbGxpc2lvblN0YXJ0RXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gU3R9KSksaS5kKG4sXCJDb2xsaXNpb25FbmRFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBFdH0pKSxpLmQobixcIkluaXRpYWxpemVFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBBdH0pKSxpLmQobixcIkFjdGl2YXRlRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ3R9KSksaS5kKG4sXCJEZWFjdGl2YXRlRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gT3R9KSksaS5kKG4sXCJFeGl0Vmlld1BvcnRFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBUdH0pKSxpLmQobixcIkVudGVyVmlld1BvcnRFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBNdH0pKSxpLmQobixcIkVudGVyVHJpZ2dlckV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIER0fSkpLGkuZChuLFwiRXhpdFRyaWdnZXJFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBrdH0pKTt2YXIgcj17fTtpLnIociksaS5kKHIsXCJHcmF5c2NhbGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSHR9KSksaS5kKHIsXCJJbnZlcnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gV3R9KSksaS5kKHIsXCJPcGFjaXR5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFV0fSkpLGkuZChyLFwiQ29sb3JpemVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTnR9KSksaS5kKHIsXCJMaWdodGVuXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHF0fSkpLGkuZChyLFwiRGFya2VuXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFZ0fSkpLGkuZChyLFwiU2F0dXJhdGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gR3R9KSksaS5kKHIsXCJEZXNhdHVyYXRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFh0fSkpLGkuZChyLFwiRmlsbFwiLChmdW5jdGlvbigpe3JldHVybiBLdH0pKTt2YXIgbz17fTtpLnIobyksaS5kKG8sXCJFYXNlVG9cIiwoZnVuY3Rpb24oKXtyZXR1cm4gb2V9KSksaS5kKG8sXCJNb3ZlVG9cIiwoZnVuY3Rpb24oKXtyZXR1cm4gc2V9KSksaS5kKG8sXCJNb3ZlQnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYWV9KSksaS5kKG8sXCJGb2xsb3dcIiwoZnVuY3Rpb24oKXtyZXR1cm4gY2V9KSksaS5kKG8sXCJNZWV0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGhlfSkpLGkuZChvLFwiUm90YXRlVG9cIiwoZnVuY3Rpb24oKXtyZXR1cm4gdWV9KSksaS5kKG8sXCJSb3RhdGVCeVwiLChmdW5jdGlvbigpe3JldHVybiBsZX0pKSxpLmQobyxcIlNjYWxlVG9cIiwoZnVuY3Rpb24oKXtyZXR1cm4gcGV9KSksaS5kKG8sXCJTY2FsZUJ5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGRlfSkpLGkuZChvLFwiRGVsYXlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZmV9KSksaS5kKG8sXCJCbGlua1wiLChmdW5jdGlvbigpe3JldHVybiBnZX0pKSxpLmQobyxcIkZhZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4geWV9KSksaS5kKG8sXCJEaWVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gX2V9KSksaS5kKG8sXCJDYWxsTWV0aG9kXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZlfSkpLGkuZChvLFwiUmVwZWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG1lfSkpLGkuZChvLFwiUmVwZWF0Rm9yZXZlclwiLChmdW5jdGlvbigpe3JldHVybiBiZX0pKSxpLmQobyxcIkFjdGlvblF1ZXVlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHdlfSkpO3ZhciBzPXt9O2kucihzKSxpLmQocyxcImxpbmVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcWV9KSksaS5kKHMsXCJwb2ludFwiLChmdW5jdGlvbigpe3JldHVybiBWZX0pKSxpLmQocyxcInZlY3RvclwiLChmdW5jdGlvbigpe3JldHVybiBHZX0pKSxpLmQocyxcInJvdW5kUmVjdFwiLChmdW5jdGlvbigpe3JldHVybiBYZX0pKSxpLmQocyxcImNpcmNsZVwiLChmdW5jdGlvbigpe3JldHVybiBLZX0pKTt2YXIgYT17fTtpLnIoYSksaS5kKGEsXCJHYW1lcGFkc1wiLChmdW5jdGlvbigpe3JldHVybiBPbn0pKSxpLmQoYSxcIkdhbWVwYWRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVG59KSksaS5kKGEsXCJCdXR0b25zXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFBufSkpLGkuZChhLFwiQXhlc1wiLChmdW5jdGlvbigpe3JldHVybiBTbn0pKSxpLmQoYSxcIlBvaW50ZXJUeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHRufSkpLGkuZChhLFwiUG9pbnRlclNjb3BlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGVufSkpLGkuZChhLFwiUG9pbnRlclwiLChmdW5jdGlvbigpe3JldHVybiB1bn0pKSxpLmQoYSxcIlBvaW50ZXJzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEFufSkpLGkuZChhLFwiTmF0aXZlUG9pbnRlckJ1dHRvblwiLChmdW5jdGlvbigpe3JldHVybiBhbn0pKSxpLmQoYSxcIlBvaW50ZXJCdXR0b25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gY259KSksaS5kKGEsXCJXaGVlbERlbHRhTW9kZVwiLChmdW5jdGlvbigpe3JldHVybiBobn0pKSxpLmQoYSxcIlBvaW50ZXJFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBwbn0pKSxpLmQoYSxcIlBvaW50ZXJFdmVudEZhY3RvcnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZG59KSksaS5kKGEsXCJQb2ludGVyRHJhZ0V2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZufSkpLGkuZChhLFwiUG9pbnRlclVwRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ259KSksaS5kKGEsXCJQb2ludGVyRG93bkV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHlufSkpLGkuZChhLFwiUG9pbnRlck1vdmVFdmVudFwiLChmdW5jdGlvbigpe3JldHVybiBfbn0pKSxpLmQoYSxcIlBvaW50ZXJFbnRlckV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZufSkpLGkuZChhLFwiUG9pbnRlckxlYXZlRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbW59KSksaS5kKGEsXCJQb2ludGVyQ2FuY2VsRXZlbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYm59KSksaS5kKGEsXCJXaGVlbEV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHdufSkpLGkuZChhLFwiY3JlYXRlUG9pbnRlckV2ZW50QnlOYW1lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHhufSkpLGkuZChhLFwiS2V5c1wiLChmdW5jdGlvbigpe3JldHVybiBYaX0pKSxpLmQoYSxcIktleUV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ufSkpLGkuZChhLFwiS2V5Ym9hcmRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcm59KSk7dmFyIGM9e307aS5yKGMpLGkuZChjLFwiQ2FwdHVyZVBvaW50ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTmV9KSksaS5kKGMsXCJPZmZzY3JlZW5DdWxsaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFVlfSkpLGkuZChjLFwiVGlsZU1hcENvbGxpc2lvbkRldGVjdGlvblwiLChmdW5jdGlvbigpe3JldHVybiBIZX0pKTt2YXIgaD17fTtpLnIoaCksaS5kKGgsXCJUd29QSVwiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLGkuZChoLFwiZXh0ZW5kXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSksaS5kKGgsXCJiYXNlNjRFbmNvZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gX30pKSxpLmQoaCxcIm51bGxpc2hcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxpLmQoaCxcImNsYW1wXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSksaS5kKGgsXCJyYW5kb21JblJhbmdlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSksaS5kKGgsXCJyYW5kb21JbnRJblJhbmdlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHd9KSksaS5kKGgsXCJjYW5vbmljYWxpemVBbmdsZVwiLChmdW5jdGlvbigpe3JldHVybiB4fSkpLGkuZChoLFwidG9EZWdyZWVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFB9KSksaS5kKGgsXCJ0b1JhZGlhbnNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gU30pKSxpLmQoaCxcImdldFBvc2l0aW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksaS5kKGgsXCJhZGRJdGVtVG9BcnJheVwiLChmdW5jdGlvbigpe3JldHVybiBBfSkpLGkuZChoLFwicmVtb3ZlSXRlbUZyb21BcnJheVwiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLGkuZChoLFwiY29udGFpbnNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxpLmQoaCxcImdldE9wcG9zaXRlU2lkZVwiLChmdW5jdGlvbigpe3JldHVybiBUfSkpLGkuZChoLFwiZ2V0U2lkZUZyb21EaXJlY3Rpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gTX0pKSxpLmQoaCxcIkNvbGxlY3Rpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSxpLmQoaCxcImZhaWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQn0pKSxpLmQoaCxcIkRyYXdVdGlsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHU7aSg1OSksaSgxMjApO2Z1bmN0aW9uIGwoKXtcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93JiYod2luZG93PXthdWRpb0NvbnRleHQ6ZnVuY3Rpb24oKXt9fSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24odCl7d2luZG93LnNldEludGVydmFsKHQsMWUzLzYwKX0pLFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT13aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oKXt9KSxcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHx3aW5kb3cuQXVkaW9Db250ZXh0fHwod2luZG93LkF1ZGlvQ29udGV4dD13aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0fHx3aW5kb3cubW96QXVkaW9Db250ZXh0fHx3aW5kb3cubXNBdWRpb0NvbnRleHR8fHdpbmRvdy5vQXVkaW9Db250ZXh0KSxcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHx3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxKX0hZnVuY3Rpb24odCl7dFt0LlJlc29sdmVkPTBdPVwiUmVzb2x2ZWRcIix0W3QuUmVqZWN0ZWQ9MV09XCJSZWplY3RlZFwiLHRbdC5QZW5kaW5nPTJdPVwiUGVuZGluZ1wifSh1fHwodT17fSkpO3ZhciBwLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fc3RhdGU9dS5QZW5kaW5nLHRoaXMuX3N1Y2Nlc3NDYWxsYmFja3M9W10sdGhpcy5fcmVqZWN0Q2FsbGJhY2s9ZnVuY3Rpb24oKXt9fXJldHVybiB0LnJlc29sdmU9ZnVuY3Rpb24oZSl7cmV0dXJuKG5ldyB0KS5yZXNvbHZlKGUpfSx0LnJlamVjdD1mdW5jdGlvbihlKXtyZXR1cm4obmV3IHQpLnJlamVjdChlKX0sdC5qb2luPWZ1bmN0aW9uKCl7dmFyIGU9W107aWYoYXJndW1lbnRzLmxlbmd0aD4wJiYhQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pKWZvcih2YXIgaT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspZVtpLTBdPWFyZ3VtZW50c1tpXTtlbHNlIDE9PT1hcmd1bWVudHMubGVuZ3RoJiZBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkmJihlPWFyZ3VtZW50c1swXSk7dmFyIG49bmV3IHQ7aWYoIWV8fCFlLmxlbmd0aClyZXR1cm4gbi5yZXNvbHZlKCk7dmFyIHI9ZS5sZW5ndGgsbz0wLHM9MCxhPVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QudGhlbigoZnVuY3Rpb24oKXsobys9MSk9PT1yP24ucmVzb2x2ZSgpOm8rcythLmxlbmd0aD09PXImJm4ucmVqZWN0KGEpfSksKGZ1bmN0aW9uKCl7bysocys9MSkrYS5sZW5ndGg9PT1yJiZuLnJlamVjdChhKX0pKS5lcnJvcigoZnVuY3Rpb24odCl7YS5wdXNoKHQpLGEubGVuZ3RoK28rcz09PXImJm4ucmVqZWN0KGEpfSkpfSkpLG59LHQucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCxlKXtpZih0JiYodGhpcy5fc3VjY2Vzc0NhbGxiYWNrcy5wdXNoKHQpLHRoaXMuc3RhdGUoKT09PXUuUmVzb2x2ZWQpKXRyeXt0LmNhbGwodGhpcyx0aGlzLl92YWx1ZSl9Y2F0Y2godCl7dGhpcy5faGFuZGxlRXJyb3IodCl9aWYoZSYmKHRoaXMuX3JlamVjdENhbGxiYWNrPWUsdGhpcy5zdGF0ZSgpPT09dS5SZWplY3RlZCkpdHJ5e2UuY2FsbCh0aGlzLHRoaXMuX3ZhbHVlKX1jYXRjaCh0KXt0aGlzLl9oYW5kbGVFcnJvcih0KX1yZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0aGlzLl9lcnJvckNhbGxiYWNrPXQpLHRoaXN9LHQucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLl9zdGF0ZSE9PXUuUGVuZGluZyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzb2x2ZSBhIHByb21pc2UgdGhhdCBpcyBub3QgaW4gYSBwZW5kaW5nIHN0YXRlIVwiKTt0aGlzLl92YWx1ZT10O3RyeXt0aGlzLl9zdGF0ZT11LlJlc29sdmVkLHRoaXMuX3N1Y2Nlc3NDYWxsYmFja3MuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5jYWxsKGUsZS5fdmFsdWUpfSkpfWNhdGNoKHQpe3RoaXMuX2hhbmRsZUVycm9yKHQpfXJldHVybiB0aGlzfSx0LnByb3RvdHlwZS5yZWplY3Q9ZnVuY3Rpb24odCl7aWYodGhpcy5fc3RhdGUhPT11LlBlbmRpbmcpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlamVjdCBhIHByb21pc2UgdGhhdCBpcyBub3QgaW4gYSBwZW5kaW5nIHN0YXRlIVwiKTt0aGlzLl92YWx1ZT10O3RyeXt0aGlzLl9zdGF0ZT11LlJlamVjdGVkLHRoaXMuX3JlamVjdENhbGxiYWNrLmNhbGwodGhpcyx0aGlzLl92YWx1ZSl9Y2F0Y2godCl7dGhpcy5faGFuZGxlRXJyb3IodCl9cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXRlfSx0LnByb3RvdHlwZS5faGFuZGxlRXJyb3I9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2Vycm9yQ2FsbGJhY2spdGhyb3cgdDt0aGlzLl9lcnJvckNhbGxiYWNrLmNhbGwodGhpcyx0KX0sdH0oKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnNlZWQ9dCx0aGlzLl9sb3dlck1hc2s9MjE0NzQ4MzY0Nyx0aGlzLl91cHBlck1hc2s9MjE0NzQ4MzY0OCx0aGlzLl93PTMyLHRoaXMuX249NjI0LHRoaXMuX209Mzk3LHRoaXMuX2E9MjU2NzQ4MzYxNSx0aGlzLl91PTExLHRoaXMuX3M9Nyx0aGlzLl9iPTI2MzY5Mjg2NDAsdGhpcy5fdD0xNSx0aGlzLl9jPTQwMjI3MzA3NTIsdGhpcy5fbD0xOCx0aGlzLl9mPTE4MTI0MzMyNTMsdGhpcy5fbXQ9bmV3IEFycmF5KHRoaXMuX24pLHRoaXMuX210WzBdPSh0fHxEYXRlLm5vdygpKT4+PjA7Zm9yKHZhciBlPTE7ZTx0aGlzLl9uO2UrKyl7dmFyIGk9dGhpcy5fbXRbZS0xXV50aGlzLl9tdFtlLTFdPj4+dGhpcy5fdy0yO3RoaXMuX210W2VdPSh0aGlzLl9mKigoNDI5NDkwMTc2MCZpKT4+PjE2KTw8MTYpK3RoaXMuX2YqKDY1NTM1JmkpK2U+Pj4wfXRoaXMuX2luZGV4PXRoaXMuX259cmV0dXJuIHQucHJvdG90eXBlLl90d2lzdD1mdW5jdGlvbigpe2Zvcih2YXIgdD1bMCx0aGlzLl9hXSxlPTAsaT0wO2k8dGhpcy5fbi10aGlzLl9tO2krKyllPXRoaXMuX210W2ldJnRoaXMuX3VwcGVyTWFza3x0aGlzLl9tdFtpKzFdJnRoaXMuX2xvd2VyTWFzayx0aGlzLl9tdFtpXT10aGlzLl9tdFtpK3RoaXMuX21dXmU+Pj4xXjQyOTQ5NjcyOTUmdFsxJmVdO2Zvcig7aTx0aGlzLl9uLTE7aSsrKWU9dGhpcy5fbXRbaV0mdGhpcy5fdXBwZXJNYXNrfHRoaXMuX210W2krMV0mdGhpcy5fbG93ZXJNYXNrLHRoaXMuX210W2ldPXRoaXMuX210W2krKHRoaXMuX20tdGhpcy5fbildXmU+Pj4xXjQyOTQ5NjcyOTUmdFsxJmVdO2U9dGhpcy5fbXRbdGhpcy5fbi0xXSZ0aGlzLl91cHBlck1hc2t8dGhpcy5fbXRbMF0mdGhpcy5fbG93ZXJNYXNrLHRoaXMuX210W3RoaXMuX24tMV09dGhpcy5fbXRbdGhpcy5fbS0xXV5lPj4+MV40Mjk0OTY3Mjk1JnRbMSZlXSx0aGlzLl9pbmRleD0wfSx0LnByb3RvdHlwZS5uZXh0SW50PWZ1bmN0aW9uKCl7dGhpcy5faW5kZXg+PXRoaXMuX24mJnRoaXMuX3R3aXN0KCk7dmFyIHQ9dGhpcy5fbXRbdGhpcy5faW5kZXgrK107cmV0dXJuIHRePXQ+Pj50aGlzLl91LHRePXQ8PHRoaXMuX3MmdGhpcy5fYix0Xj10PDx0aGlzLl90JnRoaXMuX2MsKHRePXQ+Pj50aGlzLl9sKT4+PjB9LHQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZXh0SW50KCkqKDEvNDI5NDk2NzI5Nil9LHQucHJvdG90eXBlLmZsb2F0aW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGUtdCkqdGhpcy5uZXh0KCkrdH0sdC5wcm90b3R5cGUuaW50ZWdlcj1mdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmZsb29yKChlLXQrMSkqdGhpcy5uZXh0KCkrdCl9LHQucHJvdG90eXBlLmJvb2w9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PS41KSx0aGlzLm5leHQoKTw9dH0sdC5wcm90b3R5cGUucGlja09uZT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0aGlzLmludGVnZXIoMCx0Lmxlbmd0aC0xKV19LHQucHJvdG90eXBlLnBpY2tTZXQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT0hMSksaT90aGlzLl9waWNrU2V0V2l0aER1cGxpY2F0ZXModCxlKTp0aGlzLl9waWNrU2V0V2l0aG91dER1cGxpY2F0ZXModCxlKX0sdC5wcm90b3R5cGUuX3BpY2tTZXRXaXRob3V0RHVwbGljYXRlcz1mdW5jdGlvbih0LGUpe2lmKGU+dC5sZW5ndGh8fGU8MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG51bWJlciBvZiBlbGVtZW50cyB0byBwaWNrLCBtdXN0IHBpY2sgYSB2YWx1ZSAwIDwgbiA8PSBsZW5ndGhcIik7aWYoZT09PXQubGVuZ3RoKXJldHVybiB0O2Zvcih2YXIgaT1uZXcgQXJyYXkoZSksbj0wLHI9dC5zbGljZSgwKTtuPGU7KXt2YXIgbz10aGlzLmludGVnZXIoMCxyLmxlbmd0aC0xKTtpW24rK109cltvXSxyLnNwbGljZShvLDEpfXJldHVybiBpfSx0LnByb3RvdHlwZS5fcGlja1NldFdpdGhEdXBsaWNhdGVzPWZ1bmN0aW9uKHQsZSl7aWYoZTwwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHBpY2ssIG11c3QgcGljayBhIHZhbHVlIDAgPD0gbiA8IE1BWF9JTlRcIik7Zm9yKHZhciBpPW5ldyBBcnJheShlKSxuPTA7bjxlO24rKylpW25dPXRoaXMucGlja09uZSh0KTtyZXR1cm4gaX0sdC5wcm90b3R5cGUuc2h1ZmZsZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5zbGljZSgwKSxpPW51bGwsbj0wO248ZS5sZW5ndGgtMjtuKyspe3ZhciByPXRoaXMuaW50ZWdlcihuLGUubGVuZ3RoLTEpO2k9ZVtuXSxlW25dPWVbcl0sZVtyXT1pfXJldHVybiBlfSx0LnByb3RvdHlwZS5yYW5nZT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKyluW3JdPXRoaXMuaW50ZWdlcihlLGkpO3JldHVybiBufSx0LnByb3RvdHlwZS5kND1mdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVnZXIoMSw0KX0sdC5wcm90b3R5cGUuZDY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlZ2VyKDEsNil9LHQucHJvdG90eXBlLmQ4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZWdlcigxLDgpfSx0LnByb3RvdHlwZS5kMTA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlZ2VyKDEsMTApfSx0LnByb3RvdHlwZS5kMTI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlZ2VyKDEsMTIpfSx0LnByb3RvdHlwZS5kMjA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlZ2VyKDEsMjApfSx0fSgpOyFmdW5jdGlvbih0KXt0Lk5vbmU9XCJOb25lXCIsdC5Ub3A9XCJUb3BcIix0LkJvdHRvbT1cIkJvdHRvbVwiLHQuTGVmdD1cIkxlZnRcIix0LlJpZ2h0PVwiUmlnaHRcIn0ocHx8KHA9e30pKTt2YXIgZz0yKk1hdGguUEk7ZnVuY3Rpb24geSgpe3ZhciB0PXt9LGU9ITEsaT0wLG49YXJndW1lbnRzLmxlbmd0aDtcIltvYmplY3QgQm9vbGVhbl1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudHNbMF0pJiYoZT1hcmd1bWVudHNbMF0saSsrKTt2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuYXNzaWduLG89bnVsbDtmb3Iobz1yP09iamVjdC5hc3NpZ246ZnVuY3Rpb24oaSl7Zm9yKHZhciBuIGluIGkpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksbikmJihlJiZcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlbbl0pP3Rbbl09eSghMCx0W25dLGlbbl0pOnRbbl09aVtuXSl9O2k8bjtpKyspe3ZhciBzPWFyZ3VtZW50c1tpXTtyP28odCxzKTpvKHMpfXJldHVybiB0fWZ1bmN0aW9uIF8odCl7Zm9yKHZhciBlPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIixpPVwiXCIsbj0wO248dC5sZW5ndGg7KXt2YXIgcj0yNTUmdC5jaGFyQ29kZUF0KG4rKyksbz0yNTUmdC5jaGFyQ29kZUF0KG4rKykscz0yNTUmdC5jaGFyQ29kZUF0KG4rKyksYT1yPj4yLGM9KDMmcik8PDR8bz4+NCxoPXZvaWQgMCx1PXZvaWQgMDtpc05hTihvKT9oPXU9NjQ6KGg9KDE1Jm8pPDwyfHM+PjYsdT1pc05hTihzKT82NDo2MyZzKSxpKz1lLmNoYXJBdChhKStlLmNoYXJBdChjKStlLmNoYXJBdChoKStlLmNoYXJBdCh1KX1yZXR1cm4gaX1mdW5jdGlvbiB2KHQsZSl7cmV0dXJuIG51bGwhPXQ/dDplfWZ1bmN0aW9uIG0odCxlLGkpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heChlLHQpLGkpfWZ1bmN0aW9uIGIodCxlLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT1uZXcgZiksaT9pLmZsb2F0aW5nKHQsZSk6dCtNYXRoLnJhbmRvbSgpKihlLXQpfWZ1bmN0aW9uIHcodCxlLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT1uZXcgZiksaT9pLmludGVnZXIodCxlKTpNYXRoLnJvdW5kKGIodCxlKSl9ZnVuY3Rpb24geCh0KXt2YXIgZT10O2lmKHQ+Zylmb3IoO2U+ZzspZS09ZztpZih0PDApZm9yKDtlPDA7KWUrPWc7cmV0dXJuIGV9ZnVuY3Rpb24gUCh0KXtyZXR1cm4gMTgwL01hdGguUEkqdH1mdW5jdGlvbiBTKHQpe3JldHVybiB0LzE4MCpNYXRoLlBJfWZ1bmN0aW9uIEUodCl7dmFyIGU9MCxpPTAsbj1mdW5jdGlvbih0KXtlKz10Lm9mZnNldExlZnQsdC5vZmZzZXRQYXJlbnQmJm4odC5vZmZzZXRQYXJlbnQpfSxyPWZ1bmN0aW9uKHQpe2krPXQub2Zmc2V0VG9wLHQub2Zmc2V0UGFyZW50JiZyKHQub2Zmc2V0UGFyZW50KX07cmV0dXJuIG4odCkscih0KSxuZXcgVihlLGkpfWZ1bmN0aW9uIEEodCxlKXtyZXR1cm4tMT09PWUuaW5kZXhPZih0KSYmKGUucHVzaCh0KSwhMCl9ZnVuY3Rpb24gQyh0LGUpe3ZhciBpO3JldHVybihpPWUuaW5kZXhPZih0KSk+LTEmJihlLnNwbGljZShpLDEpLCEwKX1mdW5jdGlvbiBPKHQsZSl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspaWYodFtpXT09PWUpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gVCh0KXtyZXR1cm4gdD09PXAuVG9wP3AuQm90dG9tOnQ9PT1wLkJvdHRvbT9wLlRvcDp0PT09cC5MZWZ0P3AuUmlnaHQ6dD09PXAuUmlnaHQ/cC5MZWZ0OnAuTm9uZX1mdW5jdGlvbiBNKHQpe2Zvcih2YXIgZT1bVi5MZWZ0LFYuUmlnaHQsVi5VcCxWLkRvd25dLGk9W3AuTGVmdCxwLlJpZ2h0LHAuVG9wLHAuQm90dG9tXSxuPS1OdW1iZXIuTUFYX1ZBTFVFLHI9LTEsbz0wO288ZS5sZW5ndGg7bysrKWVbb10uZG90KHQpPm4mJihuPWVbb10uZG90KHQpLHI9byk7cmV0dXJuIGlbcl19dmFyIEQsaz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dm9pZCAwPT09ZSYmKGU9dC5EZWZhdWx0U2l6ZSksdGhpcy5faW50ZXJuYWxBcnJheT1udWxsLHRoaXMuX2VuZFBvaW50ZXI9MCx0aGlzLl9pbnRlcm5hbEFycmF5PW5ldyBBcnJheShlKX1yZXR1cm4gdC5wcm90b3R5cGUuX3Jlc2l6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0yKnRoaXMuX2ludGVybmFsQXJyYXkubGVuZ3RoLGU9bmV3IEFycmF5KHQpLGk9dGhpcy5jb3VudCgpLG49MDtuPGk7bisrKWVbbl09dGhpcy5faW50ZXJuYWxBcnJheVtuXTtkZWxldGUgdGhpcy5faW50ZXJuYWxBcnJheSx0aGlzLl9pbnRlcm5hbEFycmF5PWV9LHQucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2VuZFBvaW50ZXI9PT10aGlzLl9pbnRlcm5hbEFycmF5Lmxlbmd0aCYmdGhpcy5fcmVzaXplKCksdGhpcy5faW50ZXJuYWxBcnJheVt0aGlzLl9lbmRQb2ludGVyKytdPXR9LHQucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmRQb2ludGVyPXRoaXMuX2VuZFBvaW50ZXItMTwwPzA6dGhpcy5fZW5kUG9pbnRlci0xLHRoaXMuX2ludGVybmFsQXJyYXlbdGhpcy5fZW5kUG9pbnRlcl19LHQucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZFBvaW50ZXJ9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fZW5kUG9pbnRlcj0wfSx0LnByb3RvdHlwZS5pbnRlcm5hbFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBcnJheS5sZW5ndGh9LHQucHJvdG90eXBlLmVsZW1lbnRBdD1mdW5jdGlvbih0KXtpZih0Pj10aGlzLmNvdW50KCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbmRleCBcIit0KTtyZXR1cm4gdGhpcy5faW50ZXJuYWxBcnJheVt0XX0sdC5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+PXRoaXMuY291bnQoKSYmdGhpcy5fcmVzaXplKCksdGhpcy5faW50ZXJuYWxBcnJheVt0XT1lfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb3VudCgpO2lmKDA9PT1lKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW1ldGVyIFwiK3QpO2Zvcih2YXIgaT10aGlzLl9pbnRlcm5hbEFycmF5W3RdLG49dDtuPGU7bisrKXRoaXMuX2ludGVybmFsQXJyYXlbbl09dGhpcy5faW50ZXJuYWxBcnJheVtuKzFdO3JldHVybiB0aGlzLl9lbmRQb2ludGVyLS0saX0sdC5wcm90b3R5cGUucmVtb3ZlRWxlbWVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9pbnRlcm5hbEFycmF5LmluZGV4T2YodCk7dGhpcy5yZW1vdmUoZSl9LHQucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBcnJheS5zbGljZSgwLHRoaXMuX2VuZFBvaW50ZXIpfSx0LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9dGhpcy5jb3VudCgpO2U8aTtlKyspdC5jYWxsKHRoaXMsdGhpcy5faW50ZXJuYWxBcnJheVtlXSxlKX0sdC5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmNvdW50KCksaT0wO2k8ZTtpKyspdGhpcy5faW50ZXJuYWxBcnJheVtpXT10LmNhbGwodGhpcyx0aGlzLl9pbnRlcm5hbEFycmF5W2ldLGkpfSx0LkRlZmF1bHRTaXplPTIwMCx0fSgpO2Z1bmN0aW9uIEIodCl7dGhyb3cgbmV3IEVycm9yKHQpfSFmdW5jdGlvbih0KXt0W3QuRGVidWc9MF09XCJEZWJ1Z1wiLHRbdC5JbmZvPTFdPVwiSW5mb1wiLHRbdC5XYXJuPTJdPVwiV2FyblwiLHRbdC5FcnJvcj0zXT1cIkVycm9yXCIsdFt0LkZhdGFsPTRdPVwiRmF0YWxcIn0oRHx8KEQ9e30pKTt2YXIgUj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtpZih0aGlzLl9hcHBlbmRlcnM9W10sdGhpcy5kZWZhdWx0TGV2ZWw9RC5JbmZvLHQuX2luc3RhbmNlKXRocm93IG5ldyBFcnJvcihcIkxvZ2dlciBpcyBhIHNpbmdsZXRvblwiKTtyZXR1cm4gdC5faW5zdGFuY2U9dGhpcyx0Ll9pbnN0YW5jZS5hZGRBcHBlbmRlcihuZXcgaiksdC5faW5zdGFuY2V9cmV0dXJuIHQuZ2V0SW5zdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dC5faW5zdGFuY2UmJih0Ll9pbnN0YW5jZT1uZXcgdCksdC5faW5zdGFuY2V9LHQucHJvdG90eXBlLmFkZEFwcGVuZGVyPWZ1bmN0aW9uKHQpe3RoaXMuX2FwcGVuZGVycy5wdXNoKHQpfSx0LnByb3RvdHlwZS5jbGVhckFwcGVuZGVycz1mdW5jdGlvbigpe3RoaXMuX2FwcGVuZGVycy5sZW5ndGg9MH0sdC5wcm90b3R5cGUuX2xvZz1mdW5jdGlvbih0LGUpe251bGw9PXQmJih0PXRoaXMuZGVmYXVsdExldmVsKTtmb3IodmFyIGk9dGhpcy5fYXBwZW5kZXJzLmxlbmd0aCxuPTA7bjxpO24rKyl0Pj10aGlzLmRlZmF1bHRMZXZlbCYmdGhpcy5fYXBwZW5kZXJzW25dLmxvZyh0LGUpfSx0LnByb3RvdHlwZS5kZWJ1Zz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0aGlzLl9sb2coRC5EZWJ1Zyx0KX0sdC5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0aGlzLl9sb2coRC5JbmZvLHQpfSx0LnByb3RvdHlwZS53YXJuPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX2xvZyhELldhcm4sdCl9LHQucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX2xvZyhELkVycm9yLHQpfSx0LnByb3RvdHlwZS5mYXRhbD1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0aGlzLl9sb2coRC5GYXRhbCx0KX0sdC5faW5zdGFuY2U9bnVsbCx0fSgpLGo9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24odCxlKXtpZihjb25zb2xlfHxjb25zb2xlLmxvZ3x8IWNvbnNvbGUud2Fybnx8IWNvbnNvbGUuZXJyb3Ipe3ZhciBpPVtdO2kudW5zaGlmdC5hcHBseShpLGUpLGkudW5zaGlmdChcIltcIitEW3RdK1wiXSA6IFwiKSx0PEQuV2Fybj9jb25zb2xlLmxvZy5hcHBseT9jb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGkpOmNvbnNvbGUubG9nKGkuam9pbihcIiBcIikpOnQ8RC5FcnJvcj9jb25zb2xlLndhcm4uYXBwbHk/Y29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsaSk6Y29uc29sZS53YXJuKGkuam9pbihcIiBcIikpOmNvbnNvbGUuZXJyb3IuYXBwbHk/Y29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLGkpOmNvbnNvbGUuZXJyb3IoaS5qb2luKFwiIFwiKSl9fSx0fSgpLEY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fbWVzc2FnZXM9W10sdGhpcy5fY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksdGhpcy5fY2FudmFzLndpZHRoPXR8fHdpbmRvdy5pbm5lcldpZHRoLHRoaXMuX2NhbnZhcy5oZWlnaHQ9ZXx8d2luZG93LmlubmVySGVpZ2h0LHRoaXMuX2NhbnZhcy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5fY3R4PXRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9jYW52YXMpfXJldHVybiB0LnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmpvaW4oXCIsXCIpO3RoaXMuX2N0eC5jbGVhclJlY3QoMCwwLHRoaXMuX2NhbnZhcy53aWR0aCx0aGlzLl9jYW52YXMuaGVpZ2h0KSx0aGlzLl9tZXNzYWdlcy51bnNoaWZ0KFwiW1wiK0RbdF0rXCJdIDogXCIraSk7Zm9yKHZhciBuPTEwLHI9MSxvPTA7bzx0aGlzLl9tZXNzYWdlcy5sZW5ndGg7bysrKXRoaXMuX2N0eC5maWxsU3R5bGU9XCJyZ2JhKDI1NSwyNTUsMjU1LFwiK3IudG9GaXhlZCgyKStcIilcIix0aGlzLl9jdHguZmlsbFRleHQodGhpcy5fbWVzc2FnZXNbb10sMjAwLG4pLG4rPTEwLHI9cj4wP3ItLjA1OjB9LHR9KCksST1mdW5jdGlvbigpe3JldHVybihJPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpPTEsbj1hcmd1bWVudHMubGVuZ3RoO2k8bjtpKyspZm9yKHZhciByIGluIGU9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sTD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MCxpPWFyZ3VtZW50cy5sZW5ndGg7ZTxpO2UrKyl0Kz1hcmd1bWVudHNbZV0ubGVuZ3RoO3ZhciBuPUFycmF5KHQpLHI9MDtmb3IoZT0wO2U8aTtlKyspZm9yKHZhciBvPWFyZ3VtZW50c1tlXSxzPTAsYT1vLmxlbmd0aDtzPGE7cysrLHIrKyluW3JdPW9bc107cmV0dXJuIG59LHo9NSxIPXt9LFc9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gSClIW3RdPTB9LFU9ZnVuY3Rpb24odCxlKXtIW3RdPHomJihSLmdldEluc3RhbmNlKCkud2Fybih0KSxjb25zb2xlLnRyYWNlJiZlLnNob3dTdGFja1RyYWNlJiZjb25zb2xlLnRyYWNlKCkpLEhbdF0rK307ZnVuY3Rpb24gTih0KXtyZXR1cm4gdD15KHt9LHttZXNzYWdlOlwiVGhpcyBmZWF0dXJlIHdpbGwgYmUgcmVtb3ZlZCBpbiBmdXR1cmUgdmVyc2lvbnMgb2YgRXhjYWxpYnVyLlwiLGFsdGVybmF0ZU1ldGhvZDpudWxsLHNob3dTdGFja1RyYWNrOiExfSx0KSxmdW5jdGlvbihlLGksbil7aWYobiYmXCJmdW5jdGlvblwiIT10eXBlb2Ygbi52YWx1ZSYmXCJmdW5jdGlvblwiIT10eXBlb2Ygbi5nZXQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIG4uc2V0KXRocm93IG5ldyBTeW50YXhFcnJvcihcIk9ubHkgY2xhc3Nlcy9mdW5jdGlvbnMvZ2V0dGVycy9zZXR0ZXJzIGNhbiBiZSBtYXJrZWQgYXMgb2Jzb2xldGVcIik7dmFyIHI9KGUubmFtZXx8XCJcIikrKGUubmFtZSYmaT9cIi5cIjpcIlwiKSsoaXx8XCJcIikrXCIgaXMgbWFya2VkIG9ic29sZXRlOiBcIit0Lm1lc3NhZ2UrKHQuYWx0ZXJuYXRlTWV0aG9kP1wiIFVzZSBcIit0LmFsdGVybmF0ZU1ldGhvZCtcIiBpbnN0ZWFkXCI6XCJcIik7SFtyXXx8KEhbcl09MCk7dmFyIG89bj9JKHt9LG4pOmU7aWYoIW4pe3ZhciBzPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gVShyLHQpLG5ldyhvLmJpbmQuYXBwbHkobyxMKFt2b2lkIDBdLGUpKSl9O3JldHVybiBzLnByb3RvdHlwZT1vLnByb3RvdHlwZSxzfXJldHVybiBuJiZuLnZhbHVlPyhvLnZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIFUocix0KSxuLnZhbHVlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbyk6KG4mJm4uZ2V0JiYoby5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gVShyLHQpLG4uZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLG4mJm4uc2V0JiYoby5zZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gVShyLHQpLG4uc2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLG8pfX12YXIgcT1mdW5jdGlvbih0LGUsaSxuKXt2YXIgcixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/ZTpudWxsPT09bj9uPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxpKTpuO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZSh0LGUsaSxuKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShyPXRbYV0pJiYocz0obzwzP3Iocyk6bz4zP3IoZSxpLHMpOnIoZSxpKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkscyksc30sVj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLng9dCx0aGlzLnk9ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJaZXJvXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgdCgwLDApfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiT25lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgdCgxLDEpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiSGFsZlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoLjUsLjUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiVXBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KDAsLTEpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiRG93blwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoMCwxKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIkxlZnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KC0xLDApfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiUmlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KDEsMCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5mcm9tQW5nbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KE1hdGguY29zKGUpLE1hdGguc2luKGUpKX0sdC5pc1ZhbGlkPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10JiYoIWlzTmFOKHQueCkmJiFpc05hTih0LnkpJiYodC54IT09MS8wJiZ0LnkhPT0xLzAmJnQueCE9PS0xLzAmJnQueSE9PS0xLzApKX0sdC5kaXN0YW5jZT1mdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3codC54LWUueCwyKStNYXRoLnBvdyh0LnktZS55LDIpKX0sdC5wcm90b3R5cGUuc2V0VG89ZnVuY3Rpb24odCxlKXt0aGlzLng9dCx0aGlzLnk9ZX0sdC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPS4wMDEpLE1hdGguYWJzKHRoaXMueC10LngpPD1lJiZNYXRoLmFicyh0aGlzLnktdC55KTw9ZX0sdC5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGV8fChlPXQuWmVybyksTWF0aC5zcXJ0KE1hdGgucG93KHRoaXMueC1lLngsMikrTWF0aC5wb3codGhpcy55LWUueSwyKSl9LHQucHJvdG90eXBlLm1hZ25pdHVkZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3RhbmNlKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzdGFuY2UoKX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubm9ybWFsaXplKCkuc2NhbGUodCk7dGhpcy54PWUueCx0aGlzLnk9ZS55fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZGlzdGFuY2UoKTtyZXR1cm4gZT4wP25ldyB0KHRoaXMueC9lLHRoaXMueS9lKTpuZXcgdCgwLDEpfSx0LnByb3RvdHlwZS5hdmVyYWdlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFkZCh0KS5zY2FsZSguNSl9LHQucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdD9uZXcgdCh0aGlzLngqZS54LHRoaXMueSplLnkpOm5ldyB0KHRoaXMueCplLHRoaXMueSplKX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdCh0aGlzLngrZS54LHRoaXMueStlLnkpfSx0LnByb3RvdHlwZS5zdWI9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KHRoaXMueC1lLngsdGhpcy55LWUueSl9LHQucHJvdG90eXBlLmFkZEVxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzfSx0LnByb3RvdHlwZS5zdWJFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54LT10LngsdGhpcy55LT10LnksdGhpc30sdC5wcm90b3R5cGUuc2NhbGVFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Kj10LHRoaXMueSo9dCx0aGlzfSx0LnByb3RvdHlwZS5kb3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCp0LngrdGhpcy55KnQueX0sdC5wcm90b3R5cGUuY3Jvc3M9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0P3RoaXMueCplLnktdGhpcy55KmUueDpcIm51bWJlclwiPT10eXBlb2YgZT9uZXcgdChlKnRoaXMueSwtZSp0aGlzLngpOnZvaWQgMH0sdC5wcm90b3R5cGUucGVycGVuZGljdWxhcj1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLnksLXRoaXMueCl9LHQucHJvdG90eXBlLm5vcm1hbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBlcnBlbmRpY3VsYXIoKS5ub3JtYWxpemUoKX0sdC5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NhbGUoLTEpfSx0LnByb3RvdHlwZS50b0FuZ2xlPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LHRoaXMueCl9LHQucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihlLGkpe2l8fChpPW5ldyB0KDAsMCkpO3ZhciBuPU1hdGguc2luKGUpLHI9TWF0aC5jb3MoZSk7cmV0dXJuIG5ldyB0KHIqKHRoaXMueC1pLngpLW4qKHRoaXMueS1pLnkpK2kueCxuKih0aGlzLngtaS54KStyKih0aGlzLnktaS55KStpLnkpfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLngsdGhpcy55KX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIihcIit0aGlzLngrXCIsIFwiK3RoaXMueStcIilcIn0scShbTih7bWVzc2FnZTpcIndpbGwgYmUgcmVtb3ZlZCBpbiBmYXZvdXIgb2YgYC5zaXplYCBpbiB2ZXJzaW9uIDAuMjUuMFwifSldLHQucHJvdG90eXBlLFwibWFnbml0dWRlXCIsbnVsbCksdH0oKSxHPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMucG9zPXQsdGhpcy5kaXI9ZS5ub3JtYWxpemUoKX1yZXR1cm4gdC5wcm90b3R5cGUuaW50ZXJzZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPXQuYmVnaW4uc3ViKHRoaXMucG9zKTtpZigwPT09dGhpcy5kaXIuY3Jvc3ModC5nZXRTbG9wZSgpKSYmMCE9PWUuY3Jvc3ModGhpcy5kaXIpKXJldHVybi0xO3ZhciBpPXRoaXMuZGlyLmNyb3NzKHQuZ2V0U2xvcGUoKSk7aWYoMD09PWkpcmV0dXJuLTE7dmFyIG49ZS5jcm9zcyh0LmdldFNsb3BlKCkpL2k7aWYobj49MCl7dmFyIHI9ZS5jcm9zcyh0aGlzLmRpcikvaS90LmdldExlbmd0aCgpO2lmKHI+PTAmJnI8PTEpcmV0dXJuIG59cmV0dXJuLTF9LHQucHJvdG90eXBlLmdldFBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBvcy5hZGQodGhpcy5kaXIuc2NhbGUodCkpfSx0fSgpLFg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5iZWdpbj10LHRoaXMuZW5kPWV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInNsb3BlXCIse2dldDpmdW5jdGlvbigpe3JldHVybih0aGlzLmVuZC55LXRoaXMuYmVnaW4ueSkvKHRoaXMuZW5kLngtdGhpcy5iZWdpbi54KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpbnRlcmNlcHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmVnaW4ueS10aGlzLnNsb3BlKnRoaXMuYmVnaW4ueH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5ub3JtYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmQuc3ViKHRoaXMuYmVnaW4pLm5vcm1hbCgpfSx0LnByb3RvdHlwZS5nZXRTbG9wZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYmVnaW4sZT10aGlzLmVuZCxpPXQuZGlzdGFuY2UoZSk7cmV0dXJuIGUuc3ViKHQpLnNjYWxlKDEvaSl9LHQucHJvdG90eXBlLmdldEVkZ2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJlZ2luO3JldHVybiB0aGlzLmVuZC5zdWIodCl9LHQucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYmVnaW4sZT10aGlzLmVuZDtyZXR1cm4gdC5kaXN0YW5jZShlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibWlkcG9pbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmVnaW4uYWRkKHRoaXMuZW5kKS5zY2FsZSguNSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZmxpcD1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLmVuZCx0aGlzLmJlZ2luKX0sdC5wcm90b3R5cGUuZGlzdGFuY2VUb1BvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXQueCxpPXQueSxuPXRoaXMuZ2V0TGVuZ3RoKCkscj10aGlzLmVuZC55LXRoaXMuYmVnaW4ueSxvPXRoaXMuZW5kLngtdGhpcy5iZWdpbi54O3JldHVybiBNYXRoLmFicyhyKmUtbyppK3RoaXMuZW5kLngqdGhpcy5iZWdpbi55LXRoaXMuZW5kLnkqdGhpcy5iZWdpbi54KS9ufSx0LnByb3RvdHlwZS5maW5kVmVjdG9yVG9Qb2ludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmJlZ2luLnN1Yih0KSxpPXRoaXMuZ2V0U2xvcGUoKTtyZXR1cm4gZS5zdWIoaS5zY2FsZShlLmRvdChpKSkpfSx0LnByb3RvdHlwZS5maW5kUG9pbnQ9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10JiYodD1udWxsKSx2b2lkIDA9PT1lJiYoZT1udWxsKTt2YXIgaT10aGlzLnNsb3BlLG49dGhpcy5pbnRlcmNlcHQ7aWYobnVsbCE9PXQpcmV0dXJuIG5ldyBWKHQsaSp0K24pO2lmKG51bGwhPT1lKXJldHVybiBuZXcgVigoZS1uKS9pLGUpO3Rocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHByb3ZpZGUgYW4gWCBvciBhIFkgdmFsdWVcIil9LHQucHJvdG90eXBlLmhhc1BvaW50PWZ1bmN0aW9uKCl7dmFyIHQsZT0wO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJlwibnVtYmVyXCI9PXR5cGVvZiBhcmd1bWVudHNbMV0pdD1uZXcgVihhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdKSxlPWFyZ3VtZW50c1syXXx8MDtlbHNle2lmKCEoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBWKSl0aHJvd1wiQ291bGQgbm90IGRldGVybWluZSB0aGUgYXJndW1lbnRzIGZvciBWZWN0b3IuaGFzUG9pbnRcIjt0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXXx8MH12YXIgaT10LngtdGhpcy5iZWdpbi54LG49dC55LXRoaXMuYmVnaW4ueSxyPXRoaXMuZW5kLngtdGhpcy5iZWdpbi54LG89dGhpcy5lbmQueS10aGlzLmJlZ2luLnkscz1pKm8tbipyO3JldHVybiEoTWF0aC5hYnMocyk+ZSkmJihNYXRoLmFicyhyKT49TWF0aC5hYnMobyk/cj4wP3RoaXMuYmVnaW4ueDw9dC54JiZ0Lng8PXRoaXMuZW5kLng6dGhpcy5lbmQueDw9dC54JiZ0Lng8PXRoaXMuYmVnaW4ueDpvPjA/dGhpcy5iZWdpbi55PD10LnkmJnQueTw9dGhpcy5lbmQueTp0aGlzLmVuZC55PD10LnkmJnQueTw9dGhpcy5iZWdpbi55KX0sdH0oKSxLPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMubWluPXQsdGhpcy5tYXg9ZX1yZXR1cm4gdC5wcm90b3R5cGUub3ZlcmxhcHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWF4PnQubWluJiZ0Lm1heD50aGlzLm1pbn0sdC5wcm90b3R5cGUuZ2V0T3ZlcmxhcD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vdmVybGFwcyh0KT90aGlzLm1heD50Lm1heD90Lm1heC10aGlzLm1pbjp0aGlzLm1heC10Lm1pbjowfSx0fSgpLFk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpKXt0aGlzLndvcmxkUG9zPXQsdGhpcy5wYWdlUG9zPWUsdGhpcy5zY3JlZW5Qb3M9aX1yZXR1cm4gdC5mcm9tUGFnZVBvc2l0aW9uPWZ1bmN0aW9uKGUsaSxuKXt2YXIgcixvLHMsYTszPT09YXJndW1lbnRzLmxlbmd0aD8ocz1uZXcgVihyPWUsbz1pKSxhPW4pOihyPShzPWUpLngsbz1zLnksYT1pKTt2YXIgYz1yLUUoYS5jYW52YXMpLngsaD1vLUUoYS5jYW52YXMpLnksdT1uZXcgVihjLGgpLGw9YS5zY3JlZW5Ub1dvcmxkQ29vcmRpbmF0ZXModSk7cmV0dXJuIG5ldyB0KGwscyx1KX0sdH0oKTtmdW5jdGlvbiBaKHQsZSl7cmV0dXJuIG5ldyBWKHQsZSl9dmFyIFEsSiwkPShRPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKFE9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9USh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KGkucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBpKX0pOyFmdW5jdGlvbih0KXt0LktpbGw9XCJraWxsXCIsdC5QcmVLaWxsPVwicHJla2lsbFwiLHQuUG9zdEtpbGw9XCJwb3N0a2lsbFwiLHQuUHJlRHJhdz1cInByZWRyYXdcIix0LlBvc3REcmF3PVwicG9zdGRyYXdcIix0LlByZURlYnVnRHJhdz1cInByZWRlYnVnZHJhd1wiLHQuUG9zdERlYnVnRHJhdz1cInBvc3RkZWJ1Z2RyYXdcIix0LlByZVVwZGF0ZT1cInByZXVwZGF0ZVwiLHQuUG9zdFVwZGF0ZT1cInBvc3R1cGRhdGVcIix0LlByZUZyYW1lPVwicHJlZnJhbWVcIix0LlBvc3RGcmFtZT1cInBvc3RmcmFtZVwiLHQuUHJlQ29sbGlzaW9uPVwicHJlY29sbGlzaW9uXCIsdC5Db2xsaXNpb25TdGFydD1cImNvbGxpc2lvbnN0YXJ0XCIsdC5Db2xsaXNpb25FbmQ9XCJjb2xsaXNpb25lbmRcIix0LlBvc3RDb2xsaXNpb249XCJwb3N0Y29sbGlzaW9uXCIsdC5Jbml0aWFsaXplPVwiaW5pdGlhbGl6ZVwiLHQuQWN0aXZhdGU9XCJhY3RpdmF0ZVwiLHQuRGVhY3RpdmF0ZT1cImRlYWN0aXZhdGVcIix0LkV4aXRWaWV3cG9ydD1cImV4aXR2aWV3cG9ydFwiLHQuRW50ZXJWaWV3cG9ydD1cImVudGVydmlld3BvcnRcIix0LkV4aXRUcmlnZ2VyPVwiZXhpdFwiLHQuRW50ZXJUcmlnZ2VyPVwiZW50ZXJcIix0LkNvbm5lY3Q9XCJjb25uZWN0XCIsdC5EaXNjb25uZWN0PVwiZGlzY29ubmVjdFwiLHQuQnV0dG9uPVwiYnV0dG9uXCIsdC5BeGlzPVwiYXhpc1wiLHQuU3Vic2NyaWJlPVwic3Vic2NyaWJlXCIsdC5VbnN1YnNjcmliZT1cInVuc3Vic2NyaWJlXCIsdC5WaXNpYmxlPVwidmlzaWJsZVwiLHQuSGlkZGVuPVwiaGlkZGVuXCIsdC5TdGFydD1cInN0YXJ0XCIsdC5TdG9wPVwic3RvcFwiLHQuUG9pbnRlclVwPVwicG9pbnRlcnVwXCIsdC5Qb2ludGVyRG93bj1cInBvaW50ZXJkb3duXCIsdC5Qb2ludGVyTW92ZT1cInBvaW50ZXJtb3ZlXCIsdC5Qb2ludGVyRW50ZXI9XCJwb2ludGVyZW50ZXJcIix0LlBvaW50ZXJMZWF2ZT1cInBvaW50ZXJsZWF2ZVwiLHQuUG9pbnRlckNhbmNlbD1cInBvaW50ZXJjYW5jZWxcIix0LlBvaW50ZXJXaGVlbD1cInBvaW50ZXJ3aGVlbFwiLHQuVXA9XCJ1cFwiLHQuRG93bj1cImRvd25cIix0Lk1vdmU9XCJtb3ZlXCIsdC5FbnRlcj1cImVudGVyXCIsdC5MZWF2ZT1cImxlYXZlXCIsdC5DYW5jZWw9XCJjYW5jZWxcIix0LldoZWVsPVwid2hlZWxcIix0LlByZXNzPVwicHJlc3NcIix0LlJlbGVhc2U9XCJyZWxlYXNlXCIsdC5Ib2xkPVwiaG9sZFwiLHQuUG9pbnRlckRyYWdTdGFydD1cInBvaW50ZXJkcmFnc3RhcnRcIix0LlBvaW50ZXJEcmFnRW5kPVwicG9pbnRlcmRyYWdlbmRcIix0LlBvaW50ZXJEcmFnRW50ZXI9XCJwb2ludGVyZHJhZ2VudGVyXCIsdC5Qb2ludGVyRHJhZ0xlYXZlPVwicG9pbnRlcmRyYWdsZWF2ZVwiLHQuUG9pbnRlckRyYWdNb3ZlPVwicG9pbnRlcmRyYWdtb3ZlXCJ9KEp8fChKPXt9KSk7dmFyIHR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuYnViYmxlcz0hMH1yZXR1cm4gdC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5idWJibGVzPSExfSx0fSgpLGV0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLnRhcmdldD1lLGl9cmV0dXJuICQoZSx0KSxlfSh0dCksaXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkudGFyZ2V0PWUsaX1yZXR1cm4gJChlLHQpLGV9KHR0KSxudD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBpPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS50YXJnZXQ9ZSxpfXJldHVybiAkKGUsdCksZX0odHQpLHJ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLnRhcmdldD1lLGl9cmV0dXJuICQoZSx0KSxlfSh0dCksb3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkudGFyZ2V0PWUsaX1yZXR1cm4gJChlLHQpLGV9KHR0KSxzdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuY3R4PWUsci5kZWx0YT1pLHIudGFyZ2V0PW4scn1yZXR1cm4gJChlLHQpLGV9KHR0KSxhdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuY3R4PWUsci5kZWx0YT1pLHIudGFyZ2V0PW4scn1yZXR1cm4gJChlLHQpLGV9KHR0KSxjdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmN0eD1lLG4udGFyZ2V0PWksbn1yZXR1cm4gJChlLHQpLGV9KHR0KSxodD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmN0eD1lLG4udGFyZ2V0PWksbn1yZXR1cm4gJChlLHQpLGV9KHR0KSx1dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuZW5naW5lPWUsci5kZWx0YT1pLHIudGFyZ2V0PW4scn1yZXR1cm4gJChlLHQpLGV9KHR0KSxsdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuZW5naW5lPWUsci5kZWx0YT1pLHIudGFyZ2V0PW4scn1yZXR1cm4gJChlLHQpLGV9KHR0KSxwdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmVuZ2luZT1lLG4ucHJldlN0YXRzPWksbi50YXJnZXQ9ZSxufXJldHVybiAkKGUsdCksZX0odHQpLGR0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uZW5naW5lPWUsbi5zdGF0cz1pLG4udGFyZ2V0PWUsbn1yZXR1cm4gJChlLHQpLGV9KHR0KSxmdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmluZGV4PWUsbi5nYW1lcGFkPWksbi50YXJnZXQ9aSxufXJldHVybiAkKGUsdCksZX0odHQpLGd0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uaW5kZXg9ZSxuLmdhbWVwYWQ9aSxuLnRhcmdldD1pLG59cmV0dXJuICQoZSx0KSxlfSh0dCkseXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbil7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmJ1dHRvbj1lLHIudmFsdWU9aSxyLnRhcmdldD1uLHJ9cmV0dXJuICQoZSx0KSxlfSh0dCksX3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbil7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmF4aXM9ZSxyLnZhbHVlPWksci50YXJnZXQ9bixyfXJldHVybiAkKGUsdCksZX0odHQpLHZ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4udG9waWM9ZSxuLmhhbmRsZXI9aSxufXJldHVybiAkKGUsdCksZX0odHQpLG10PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4udG9waWM9ZSxuLmhhbmRsZXI9aSxufXJldHVybiAkKGUsdCksZX0odHQpLGJ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLnRhcmdldD1lLGl9cmV0dXJuICQoZSx0KSxlfSh0dCksd3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkudGFyZ2V0PWUsaX1yZXR1cm4gJChlLHQpLGV9KHR0KSx4dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuLHIpe3ZhciBvPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby5vdGhlcj1pLG8uc2lkZT1uLG8uaW50ZXJzZWN0aW9uPXIsby50YXJnZXQ9ZSxvfXJldHVybiAkKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYWN0b3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy50YXJnZXQ9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlfSh0dCksUHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbixyKXt2YXIgbz10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG8ub3RoZXI9aSxvLnNpZGU9bixvLmludGVyc2VjdGlvbj1yLG8udGFyZ2V0PWUsb31yZXR1cm4gJChlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFjdG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhcmdldH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudGFyZ2V0PXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZX0odHQpLFN0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4pe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5vdGhlcj1pLHIucGFpcj1uLHIudGFyZ2V0PWUscn1yZXR1cm4gJChlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFjdG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhcmdldH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudGFyZ2V0PXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZX0odHQpLEV0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4ub3RoZXI9aSxuLnRhcmdldD1lLG59cmV0dXJuICQoZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhY3RvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YXJnZXR9LHNldDpmdW5jdGlvbih0KXt0aGlzLnRhcmdldD10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGV9KHR0KSxBdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmVuZ2luZT1lLG4udGFyZ2V0PWksbn1yZXR1cm4gJChlLHQpLGV9KHR0KSxDdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLm9sZFNjZW5lPWUsbi50YXJnZXQ9aSxufXJldHVybiAkKGUsdCksZX0odHQpLE90PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4ubmV3U2NlbmU9ZSxuLnRhcmdldD1pLG59cmV0dXJuICQoZSx0KSxlfSh0dCksVHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkudGFyZ2V0PWUsaX1yZXR1cm4gJChlLHQpLGV9KHR0KSxNdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBpPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS50YXJnZXQ9ZSxpfXJldHVybiAkKGUsdCksZX0odHQpLER0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4udGFyZ2V0PWUsbi5hY3Rvcj1pLG59cmV0dXJuICQoZSx0KSxlfSh0dCksa3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGkpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi50YXJnZXQ9ZSxuLmFjdG9yPWksbn1yZXR1cm4gJChlLHQpLGV9KHR0KSxCdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5faGFuZGxlcnM9e30sdGhpcy5fd2lyZWRFdmVudERpc3BhdGNoZXJzPVtdLHRoaXMuX3RhcmdldD10fXJldHVybiB0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX2hhbmRsZXJzPXt9LHRoaXMuX3dpcmVkRXZlbnREaXNwYXRjaGVycz1bXX0sdC5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0LGUpe2lmKHQpe3Q9dC50b0xvd2VyQ2FzZSgpO3ZhciBpLG4scj10aGlzLl90YXJnZXQ7aWYoZXx8KGU9bmV3IHR0KSxlLnRhcmdldD1yLHRoaXMuX2hhbmRsZXJzW3RdKWZvcihpPTAsbj10aGlzLl9oYW5kbGVyc1t0XS5sZW5ndGg7aTxuO2krKyl0aGlzLl9oYW5kbGVyc1t0XVtpXS5jYWxsKHIsZSk7Zm9yKGk9MCxuPXRoaXMuX3dpcmVkRXZlbnREaXNwYXRjaGVycy5sZW5ndGg7aTxuO2krKyl0aGlzLl93aXJlZEV2ZW50RGlzcGF0Y2hlcnNbaV0uZW1pdCh0LGUpfX0sdC5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlKXt0PXQudG9Mb3dlckNhc2UoKSx0aGlzLl9oYW5kbGVyc1t0XXx8KHRoaXMuX2hhbmRsZXJzW3RdPVtdKSx0aGlzLl9oYW5kbGVyc1t0XS5wdXNoKGUpLFwidW5zdWJzY3JpYmVcIiE9PXQmJlwic3Vic2NyaWJlXCIhPT10JiZ0aGlzLmVtaXQoXCJzdWJzY3JpYmVcIixuZXcgdnQodCxlKSl9LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe3Q9dC50b0xvd2VyQ2FzZSgpO3ZhciBpPXRoaXMuX2hhbmRsZXJzW3RdO2lmKGkpaWYoZSl7dmFyIG49aS5pbmRleE9mKGUpO3RoaXMuX2hhbmRsZXJzW3RdLnNwbGljZShuLDEpfWVsc2UgdGhpcy5faGFuZGxlcnNbdF0ubGVuZ3RoPTA7XCJ1bnN1YnNjcmliZVwiIT09dCYmXCJzdWJzY3JpYmVcIiE9PXQmJnRoaXMuZW1pdChcInVuc3Vic2NyaWJlXCIsbmV3IG10KHQsZSkpfSx0LnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpczt0aGlzLm9uKHQsKGZ1bmN0aW9uKG4pe3ZhciByPW58fG5ldyB0dDtyLnRhcmdldD1yLnRhcmdldHx8aS5fdGFyZ2V0LGkub2ZmKHQsZSksZS5jYWxsKHIudGFyZ2V0LHIpfSkpfSx0LnByb3RvdHlwZS53aXJlPWZ1bmN0aW9uKHQpe3QuX3dpcmVkRXZlbnREaXNwYXRjaGVycy5wdXNoKHRoaXMpfSx0LnByb3RvdHlwZS51bndpcmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5fd2lyZWRFdmVudERpc3BhdGNoZXJzLmluZGV4T2YodGhpcyk7ZT4tMSYmdC5fd2lyZWRFdmVudERpc3BhdGNoZXJzLnNwbGljZShlLDEpfSx0fSgpLFJ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZXZlbnREaXNwYXRjaGVyPW5ldyBCdCh0aGlzKX1yZXR1cm4gdC5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlKXt0aGlzLmV2ZW50RGlzcGF0Y2hlci5vbih0LGUpfSx0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlKXt0aGlzLmV2ZW50RGlzcGF0Y2hlci5vZmYodCxlKX0sdC5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0LGUpe3RoaXMuZXZlbnREaXNwYXRjaGVyLmVtaXQodCxlKX0sdC5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0LGUpe3RoaXMuZXZlbnREaXNwYXRjaGVyLm9uY2UodCxlKX0sdH0oKSxqdD1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLEZ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4pe3ZvaWQgMD09PW4mJihuPSEwKTt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIucGF0aD1lLHIucmVzcG9uc2VUeXBlPWksci5idXN0Q2FjaGU9bixyLmRhdGE9bnVsbCxyLmxvZ2dlcj1SLmdldEluc3RhbmNlKCksci5hcnJheUJ1ZmZlcj1udWxsLHIub25wcm9ncmVzcz1mdW5jdGlvbigpe30sci5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7fSxyLm9uZXJyb3I9ZnVuY3Rpb24oKXt9LHJ9cmV0dXJuIGp0KGUsdCksZS5wcm90b3R5cGUuaXNMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuZGF0YX0sZS5wcm90b3R5cGUud2lyZUVuZ2luZT1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLl9jYWNoZUJ1c3Q9ZnVuY3Rpb24odCl7cmV0dXJuL1xcP1xcdyo9XFx3Ki8udGVzdCh0KT90Kz1cIiZfXz1cIitEYXRlLm5vdygpOnQrPVwiP19fPVwiK0RhdGUubm93KCksdH0sZS5wcm90b3R5cGUuX3N0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIuZGVidWcoXCJTdGFydGVkIGxvYWRpbmcgcmVzb3VyY2UgXCIrdGhpcy5wYXRoKX0sZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1uZXcgZDtpZihudWxsIT09dGhpcy5kYXRhKXJldHVybiB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkFscmVhZHkgaGF2ZSBkYXRhIGZvciByZXNvdXJjZVwiLHRoaXMucGF0aCksZS5yZXNvbHZlKHRoaXMuZGF0YSksdGhpcy5vbmNvbXBsZXRlKCksZTt2YXIgaT1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIGkub3BlbihcIkdFVFwiLHRoaXMuYnVzdENhY2hlP3RoaXMuX2NhY2hlQnVzdCh0aGlzLnBhdGgpOnRoaXMucGF0aCwhMCksaS5yZXNwb25zZVR5cGU9dGhpcy5yZXNwb25zZVR5cGUsaS5vbmxvYWRzdGFydD1mdW5jdGlvbigpe3QuX3N0YXJ0KCl9LGkub25wcm9ncmVzcz10aGlzLm9ucHJvZ3Jlc3MsaS5vbmVycm9yPXRoaXMub25lcnJvcixpLm9ubG9hZD1mdW5jdGlvbigpe2lmKDAhPT1pLnN0YXR1cyYmMjAwIT09aS5zdGF0dXMpcmV0dXJuIHQubG9nZ2VyLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgcmVzb3VyY2UgXCIsdC5wYXRoLFwiIHNlcnZlciByZXNwb25kZWQgd2l0aCBlcnJvciBjb2RlXCIsaS5zdGF0dXMpLHQub25lcnJvcihpLnJlc3BvbnNlKSx2b2lkIGUucmVzb2x2ZShpLnJlc3BvbnNlKTt0LmRhdGE9dC5wcm9jZXNzRGF0YShpLnJlc3BvbnNlKSx0Lm9uY29tcGxldGUoKSx0LmxvZ2dlci5kZWJ1ZyhcIkNvbXBsZXRlZCBsb2FkaW5nIHJlc291cmNlXCIsdC5wYXRoKSxlLnJlc29sdmUodC5kYXRhKX0saS5zZW5kKCksZX0sZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9LGUucHJvdG90eXBlLmdldEFycmF5RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFycmF5QnVmZmVyfSxlLnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKHQpe3RoaXMuZGF0YT10aGlzLnByb2Nlc3NEYXRhKHQpfSxlLnByb3RvdHlwZS5wcm9jZXNzRGF0YT1mdW5jdGlvbih0KXtyZXR1cm5cImJsb2JcIj09PXRoaXMucmVzcG9uc2VUeXBlP1VSTC5jcmVhdGVPYmplY3RVUkwodCk6dH0sZX0oUnQpLEl0PWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1uP249T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGkpOm47aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxpLG4pO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKHI9dFthXSkmJihzPShvPDM/cihzKTpvPjM/cihlLGkscyk6cihlLGkpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSxzKSxzfSxMdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGksbil7dGhpcy5yPXQsdGhpcy5nPWUsdGhpcy5iPWksdGhpcy5hPW51bGwhPW4/bjoxfXJldHVybiB0LmZyb21SR0I9ZnVuY3Rpb24oZSxpLG4scil7cmV0dXJuIG5ldyB0KGUsaSxuLHIpfSx0LmZyb21IZXg9ZnVuY3Rpb24oZSl7dmFyIGk7aWYoaT1lLm1hdGNoKC9eIz8oWzAtOWEtZl17Mn0pKFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSkoWzAtOWEtZl17Mn0pPyQvaSkpe3ZhciBuPXBhcnNlSW50KGlbMV0sMTYpLHI9cGFyc2VJbnQoaVsyXSwxNiksbz1wYXJzZUludChpWzNdLDE2KSxzPTE7cmV0dXJuIGlbNF0mJihzPXBhcnNlSW50KGlbNF0sMTYpLzI1NSksbmV3IHQobixyLG8scyl9dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBoZXggc3RyaW5nOiBcIitlKX0sdC5mcm9tSFNMPWZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj0xKSxuZXcgenQodCxlLGksbikudG9SR0JBKCl9LHQucHJvdG90eXBlLmxpZ2h0ZW49ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9LjEpO3ZhciBlPXp0LmZyb21SR0JBKHRoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMuYSk7cmV0dXJuIGUubCs9KDEtZS5sKSp0LGUudG9SR0JBKCl9LHQucHJvdG90eXBlLmRhcmtlbj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0uMSk7dmFyIGU9enQuZnJvbVJHQkEodGhpcy5yLHRoaXMuZyx0aGlzLmIsdGhpcy5hKTtyZXR1cm4gZS5sLT1lLmwqdCxlLnRvUkdCQSgpfSx0LnByb3RvdHlwZS5zYXR1cmF0ZT1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0uMSk7dmFyIGU9enQuZnJvbVJHQkEodGhpcy5yLHRoaXMuZyx0aGlzLmIsdGhpcy5hKTtyZXR1cm4gZS5zKz1lLnMqdCxlLnRvUkdCQSgpfSx0LnByb3RvdHlwZS5kZXNhdHVyYXRlPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PS4xKTt2YXIgZT16dC5mcm9tUkdCQSh0aGlzLnIsdGhpcy5nLHRoaXMuYix0aGlzLmEpO3JldHVybiBlLnMtPWUucyp0LGUudG9SR0JBKCl9LHQucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdChlLnIvMjU1KnRoaXMuci8yNTUqMjU1LGUuZy8yNTUqdGhpcy5nLzI1NSoyNTUsZS5iLzI1NSp0aGlzLmIvMjU1KjI1NSxlLmEqdGhpcy5hKX0sdC5wcm90b3R5cGUubXVsaXRpcGx5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm11bHRpcGx5KHQpfSx0LnByb3RvdHlwZS5zY3JlZW49ZnVuY3Rpb24odCl7dmFyIGU9dC5pbnZlcnQoKSxpPXQuaW52ZXJ0KCk7cmV0dXJuIGUubXVsdGlwbHkoaSkuaW52ZXJ0KCl9LHQucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3JldHVybiBuZXcgdCgyNTUtdGhpcy5yLDI1NS10aGlzLmcsMjU1LXRoaXMuYiwxLXRoaXMuYSl9LHQucHJvdG90eXBlLmF2ZXJhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KChlLnIrdGhpcy5yKS8yLChlLmcrdGhpcy5nKS8yLChlLmIrdGhpcy5iKS8yLChlLmErdGhpcy5hKS8yKX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7c3dpdGNoKHZvaWQgMD09PXQmJih0PVwicmdiXCIpLHQpe2Nhc2VcInJnYlwiOnJldHVybiB0aGlzLnRvUkdCQSgpO2Nhc2VcImhzbFwiOnJldHVybiB0aGlzLnRvSFNMQSgpO2Nhc2VcImhleFwiOnJldHVybiB0aGlzLnRvSGV4KCk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIENvbG9yIGZvcm1hdFwiKX19LHQucHJvdG90eXBlLl9jb21wb25lbnRUb0hleD1mdW5jdGlvbih0KXt2YXIgZT10LnRvU3RyaW5nKDE2KTtyZXR1cm4gMT09PWUubGVuZ3RoP1wiMFwiK2U6ZX0sdC5wcm90b3R5cGUudG9IZXg9ZnVuY3Rpb24oKXtyZXR1cm5cIiNcIit0aGlzLl9jb21wb25lbnRUb0hleCh0aGlzLnIpK3RoaXMuX2NvbXBvbmVudFRvSGV4KHRoaXMuZykrdGhpcy5fY29tcG9uZW50VG9IZXgodGhpcy5iKX0sdC5wcm90b3R5cGUudG9SR0JBPWZ1bmN0aW9uKCl7dmFyIHQ9U3RyaW5nKHRoaXMuci50b0ZpeGVkKDApKStcIiwgXCIrU3RyaW5nKHRoaXMuZy50b0ZpeGVkKDApKStcIiwgXCIrU3RyaW5nKHRoaXMuYi50b0ZpeGVkKDApKTtyZXR1cm4gdm9pZCAwIT09dGhpcy5hfHxudWxsIT09dGhpcy5hP1wicmdiYShcIit0K1wiLCBcIitTdHJpbmcodGhpcy5hKStcIilcIjpcInJnYihcIit0K1wiKVwifSx0LnByb3RvdHlwZS50b0hTTEE9ZnVuY3Rpb24oKXtyZXR1cm4genQuZnJvbVJHQkEodGhpcy5yLHRoaXMuZyx0aGlzLmIsdGhpcy5hKS50b1N0cmluZygpfSx0LnByb3RvdHlwZS5maWxsU3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1N0cmluZygpfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLnIsdGhpcy5nLHRoaXMuYix0aGlzLmEpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIkJsYWNrXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjMDAwMDAwXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiV2hpdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiNGRkZGRkZcIil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJHcmF5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjODA4MDgwXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiTGlnaHRHcmF5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjRDNEM0QzXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiRGFya0dyYXlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiNBOUE5QTlcIil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJZZWxsb3dcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiNGRkZGMDBcIil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJPcmFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiNGRkE1MDBcIil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJSZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiNGRjAwMDBcIil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJWZXJtaWxpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiNGRjVCMzFcIil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJWZXJtaWxsaW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LlZlcm1pbGlvbn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlJvc2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiNGRjAwN0ZcIil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJNYWdlbnRhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjRkYwMEZGXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiVmlvbGV0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjN0YwMEZGXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiQmx1ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiIzAwMDBGRlwiKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIkF6dXJlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjMDA3RkZGXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiQ3lhblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiIzAwRkZGRlwiKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlZpcmlkaWFuXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjNTk5NzhGXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiR3JlZW5cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiMwMEZGMDBcIil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJDaGFydHJldXNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjN0ZGRjAwXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiVHJhbnNwYXJlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiNGRkZGRkYwMFwiKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxJdChbTih7bWVzc2FnZTpcIkFsaWFzIGZvciBpbmNvcnJlY3Qgc3BlbGxpbmcgdXNlZCBpbiBvbGRlciB2ZXJzaW9ucywgdXNlIG11bHRpcGx5IGluc3RlYWQsIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNS4wXCJ9KV0sdC5wcm90b3R5cGUsXCJtdWxpdGlwbHlcIixudWxsKSxJdChbTih7bWVzc2FnZTpcIkFsaWFzIGZvciBpbmNvcnJlY3Qgc3BlbGxpbmcgdXNlZCBpbiBvbGRlciB2ZXJzaW9uc1wiLGFsdGVybmF0ZU1ldGhvZDpcIlZlcm1pbGlvblwifSldLHQsXCJWZXJtaWxsaW9uXCIsbnVsbCksdH0oKSx6dD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGksbil7dGhpcy5oPXQsdGhpcy5zPWUsdGhpcy5sPWksdGhpcy5hPW59cmV0dXJuIHQuaHVlMnJnYj1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIGk8MCYmKGkrPTEpLGk+MSYmKGktPTEpLGk8MS82P3QrNiooZS10KSppOmk8LjU/ZTppPDIvMz90KyhlLXQpKigyLzMtaSkqNjp0fSx0LmZyb21SR0JBPWZ1bmN0aW9uKGUsaSxuLHIpe2UvPTI1NSxpLz0yNTUsbi89MjU1O3ZhciBvLHMsYT1NYXRoLm1heChlLGksbiksYz1NYXRoLm1pbihlLGksbiksaD0oYStjKS8yO2lmKGE9PT1jKW89cz0wO2Vsc2V7dmFyIHU9YS1jO3N3aXRjaChzPWg+LjU/dS8oMi1hLWMpOnUvKGErYyksYSl7Y2FzZSBlOm89KGktbikvdSsoaTxuPzY6MCk7YnJlYWs7Y2FzZSBpOm89KG4tZSkvdSsyO2JyZWFrO2Nhc2UgbjpvPShlLWkpL3UrNH1vLz02fXJldHVybiBuZXcgdChvLHMsaCxyKX0sdC5wcm90b3R5cGUudG9SR0JBPWZ1bmN0aW9uKCl7dmFyIGUsaSxuO2lmKDA9PT10aGlzLnMpZT1pPW49dGhpcy5sO2Vsc2V7dmFyIHI9dGhpcy5sPC41P3RoaXMubCooMSt0aGlzLnMpOnRoaXMubCt0aGlzLnMtdGhpcy5sKnRoaXMucyxvPTIqdGhpcy5sLXI7ZT10Lmh1ZTJyZ2IobyxyLHRoaXMuaCsxLzMpLGk9dC5odWUycmdiKG8scix0aGlzLmgpLG49dC5odWUycmdiKG8scix0aGlzLmgtMS8zKX1yZXR1cm4gbmV3IEx0KDI1NSplLDI1NSppLDI1NSpuLHRoaXMuYSl9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJoc2xhKFwiK3RoaXMuaC50b0ZpeGVkKDApK1wiLCBcIit0aGlzLnMudG9GaXhlZCgwKStcIiwgXCIrdGhpcy5sLnRvRml4ZWQoMCkrXCIsIFwiK3RoaXMuYS50b0ZpeGVkKDApK1wiKVwifSx0fSgpLEh0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlUGl4ZWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPTQqKHQrZSppLndpZHRoKSxyPWkuZGF0YSxvPShyW24rMF0rcltuKzFdK3JbbisyXSkvMztyW24rMF09byxyW24rMV09byxyW24rMl09b30sdH0oKSxXdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZVBpeGVsPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj00Kih0K2UqaS53aWR0aCkscj1pLmRhdGE7cltuKzBdPTI1NS1yW24rMF0scltuKzFdPTI1NS1yW24rMV0scltuKzJdPTI1NS1yW24rMl19LHR9KCksVXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMub3BhY2l0eT10fXJldHVybiB0LnByb3RvdHlwZS51cGRhdGVQaXhlbD1mdW5jdGlvbih0LGUsaSl7dmFyIG49NCoodCtlKmkud2lkdGgpLHI9aS5kYXRhOzAhPT1yW24rM10mJihyW24rM109TWF0aC5yb3VuZCh0aGlzLm9wYWNpdHkqcltuKzNdKSl9LHR9KCksTnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuY29sb3I9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlUGl4ZWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPTQqKHQrZSppLndpZHRoKSxyPWkuZGF0YTswIT09cltuKzNdJiYocltuKzBdPShyW24rMF0rdGhpcy5jb2xvci5yKS8yLHJbbisxXT0ocltuKzFdK3RoaXMuY29sb3IuZykvMixyW24rMl09KHJbbisyXSt0aGlzLmNvbG9yLmIpLzIpfSx0fSgpLHF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5mYWN0b3I9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlUGl4ZWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPTQqKHQrZSppLndpZHRoKSxyPWkuZGF0YSxvPUx0LmZyb21SR0IocltuKzBdLHJbbisxXSxyW24rMl0scltuKzNdKS5saWdodGVuKHRoaXMuZmFjdG9yKTtyW24rMF09by5yLHJbbisxXT1vLmcscltuKzJdPW8uYixyW24rM109by5hfSx0fSgpLFZ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5mYWN0b3I9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlUGl4ZWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPTQqKHQrZSppLndpZHRoKSxyPWkuZGF0YSxvPUx0LmZyb21SR0IocltuKzBdLHJbbisxXSxyW24rMl0scltuKzNdKS5kYXJrZW4odGhpcy5mYWN0b3IpO3JbbiswXT1vLnIscltuKzFdPW8uZyxyW24rMl09by5iLHJbbiszXT1vLmF9LHR9KCksR3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZvaWQgMD09PXQmJih0PS4xKSx0aGlzLmZhY3Rvcj10fXJldHVybiB0LnByb3RvdHlwZS51cGRhdGVQaXhlbD1mdW5jdGlvbih0LGUsaSl7dmFyIG49NCoodCtlKmkud2lkdGgpLHI9aS5kYXRhLG89THQuZnJvbVJHQihyW24rMF0scltuKzFdLHJbbisyXSxyW24rM10pLnNhdHVyYXRlKHRoaXMuZmFjdG9yKTtyW24rMF09by5yLHJbbisxXT1vLmcscltuKzJdPW8uYixyW24rM109by5hfSx0fSgpLFh0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5mYWN0b3I9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlUGl4ZWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPTQqKHQrZSppLndpZHRoKSxyPWkuZGF0YSxvPUx0LmZyb21SR0IocltuKzBdLHJbbisxXSxyW24rMl0scltuKzNdKS5kZXNhdHVyYXRlKHRoaXMuZmFjdG9yKTtyW24rMF09by5yLHJbbisxXT1vLmcscltuKzJdPW8uYixyW24rM109by5hfSx0fSgpLEt0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmNvbG9yPXR9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZVBpeGVsPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj00Kih0K2UqaS53aWR0aCkscj1pLmRhdGE7MCE9PXJbbiszXSYmKHJbbiswXT10aGlzLmNvbG9yLnIscltuKzFdPXRoaXMuY29sb3IuZyxyW24rMl09dGhpcy5jb2xvci5iKX0sdH0oKSxZdD1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpO2Z1bmN0aW9uIFp0KHQpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7Zm9yKHZhciBlPVtdLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKWVbaV09YXJndW1lbnRzW2ldO3ZhciBuPXQuYXBwbHkodGhpcyxlKXx8dGhpcyxyPWUuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dH0pKS5sZW5ndGg7cmV0dXJuIDEhPT1yfHwhZVswXXx8XCJvYmplY3RcIiE9dHlwZW9mIGVbMF18fGVbMF1pbnN0YW5jZW9mIEFycmF5fHxuLmFzc2lnbihlWzBdKSxufXJldHVybiBZdChlLHQpLGUucHJvdG90eXBlLmFzc2lnbj1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdClcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzW2VdJiYodGhpc1tlXT10W2VdKX0sZX0odCl9dmFyIFF0LEp0PWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCksJHQ9ZnVuY3Rpb24oKXtyZXR1cm4oJHQ9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHIgaW4gZT1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx0ZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuLHIsbyl7cmV0dXJuIHQuY2FsbCh0aGlzLGUsaSxuLHIsbyl8fHRoaXN9cmV0dXJuIEp0KGUsdCksZX0oWnQoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4scil7dmFyIG89dGhpczt0aGlzLng9MCx0aGlzLnk9MCx0aGlzLnJvdGF0aW9uPTAsdGhpcy5hbmNob3I9bmV3IFYoMCwwKSx0aGlzLm9mZnNldD1WLlplcm8sdGhpcy5zY2FsZT1WLk9uZSx0aGlzLmxvZ2dlcj1SLmdldEluc3RhbmNlKCksdGhpcy5mbGlwVmVydGljYWw9ITEsdGhpcy5mbGlwSG9yaXpvbnRhbD0hMSx0aGlzLmVmZmVjdHM9W10sdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5fc3ByaXRlQ2FudmFzPW51bGwsdGhpcy5fc3ByaXRlQ3R4PW51bGwsdGhpcy5fcGl4ZWxEYXRhPW51bGwsdGhpcy5fcGl4ZWxzTG9hZGVkPSExLHRoaXMuX2RpcnR5RWZmZWN0PSExLHRoaXMuX29wYWNpdHk9MTt2YXIgcz10O2lmKHQmJiEodCBpbnN0YW5jZW9mIGllKSYmKGU9MHx0LngsaT0wfHQueSxuPTB8dC53aWR0aCxyPTB8dC5oZWlnaHQsIShzPXQuaW1hZ2UpKSl7dGhyb3cgbmV3IEVycm9yKFwiQW4gaW1hZ2UgdGV4dHVyZSBpcyByZXF1aXJlZCB0byBjb250c3J1Y3QgYSBzcHJpdGVcIil9dGhpcy54PWV8fDAsdGhpcy55PWl8fDAsdGhpcy5fdGV4dHVyZT1zLHRoaXMuX3Nwcml0ZUNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuX3Nwcml0ZUNhbnZhcy53aWR0aD1uLHRoaXMuX3Nwcml0ZUNhbnZhcy5oZWlnaHQ9cix0aGlzLl9zcHJpdGVDdHg9dGhpcy5fc3ByaXRlQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKSx0aGlzLl90ZXh0dXJlLmxvYWRlZC50aGVuKChmdW5jdGlvbigpe28ud2lkdGg9by53aWR0aHx8by5fdGV4dHVyZS5pbWFnZS5uYXR1cmFsV2lkdGgsby5oZWlnaHQ9by5oZWlnaHR8fG8uX3RleHR1cmUuaW1hZ2UubmF0dXJhbEhlaWdodCxvLl9zcHJpdGVDYW52YXMud2lkdGg9by5fc3ByaXRlQ2FudmFzLndpZHRofHxvLl90ZXh0dXJlLmltYWdlLm5hdHVyYWxXaWR0aCxvLl9zcHJpdGVDYW52YXMuaGVpZ2h0PW8uX3Nwcml0ZUNhbnZhcy5oZWlnaHR8fG8uX3RleHR1cmUuaW1hZ2UubmF0dXJhbEhlaWdodCxvLl9sb2FkUGl4ZWxzKCksby5fZGlydHlFZmZlY3Q9ITB9KSkuZXJyb3IoKGZ1bmN0aW9uKHQpe28ubG9nZ2VyLmVycm9yKFwiRXJyb3IgbG9hZGluZyB0ZXh0dXJlIFwiLG8uX3RleHR1cmUucGF0aCx0KX0pKSx0aGlzLndpZHRoPW4sdGhpcy5oZWlnaHQ9cn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZHJhd1dpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRoKnRoaXMuc2NhbGUueH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkcmF3SGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlaWdodCp0aGlzLnNjYWxlLnl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuX2xvYWRQaXhlbHM9ZnVuY3Rpb24oKXtpZih0aGlzLl90ZXh0dXJlLmlzTG9hZGVkKCkmJiF0aGlzLl9waXhlbHNMb2FkZWQpe3ZhciB0PXRoaXMuX3RleHR1cmUuaW1hZ2UubmF0dXJhbFdpZHRofHwwLGU9dGhpcy5fdGV4dHVyZS5pbWFnZS5uYXR1cmFsSGVpZ2h0fHwwO2lmKHRoaXMud2lkdGg+dCYmdGhpcy5sb2dnZXIud2FybihcIlRoZSBzcHJpdGUgd2lkdGggXCIrdGhpcy53aWR0aCtcIiBleGNlZWRzIHRoZSB3aWR0aCBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIit0K1wiIG9mIHRoZSBiYWNraW5nIHRleHR1cmUgXCIrdGhpcy5fdGV4dHVyZS5wYXRoKSx0aGlzLndpZHRoPD0wfHx0PD0wKXRocm93IG5ldyBFcnJvcihcIlRoZSB3aWR0aCBvZiBhIHNwcml0ZSBjYW5ub3QgYmUgMCBvciBuZWdhdGl2ZSwgc3ByaXRlIHdpZHRoOiBcIit0aGlzLndpZHRoK1wiLCBvcmlnaW5hbCB3aWR0aDogXCIrdCk7aWYodGhpcy5oZWlnaHQ+ZSYmdGhpcy5sb2dnZXIud2FybihcIlRoZSBzcHJpdGUgaGVpZ2h0IFwiK3RoaXMuaGVpZ2h0K1wiIGV4Y2VlZHMgdGhlIGhlaWdodCBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIitlK1wiIG9mIHRoZSBiYWNraW5nIHRleHR1cmUgXCIrdGhpcy5fdGV4dHVyZS5wYXRoKSx0aGlzLmhlaWdodDw9MHx8ZTw9MCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgaGVpZ2h0IG9mIGEgc3ByaXRlIGNhbm5vdCBiZSAwIG9yIG5lZ2F0aXZlLCBzcHJpdGUgaGVpZ2h0OiBcIit0aGlzLmhlaWdodCtcIiwgb3JpZ2luYWwgaGVpZ2h0OiBcIitlKTt0aGlzLl9zcHJpdGVDdHguZHJhd0ltYWdlKHRoaXMuX3RleHR1cmUuaW1hZ2UsbSh0aGlzLngsMCx0KSxtKHRoaXMueSwwLGUpLG0odGhpcy53aWR0aCwwLHQpLG0odGhpcy5oZWlnaHQsMCxlKSwwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5fcGl4ZWxzTG9hZGVkPSEwfX0sdC5wcm90b3R5cGUub3BhY2l0eT1mdW5jdGlvbih0KXt0aGlzLl9vcGFjaXR5PXR9LHQucHJvdG90eXBlLmdyYXlzY2FsZT1mdW5jdGlvbigpe3RoaXMuYWRkRWZmZWN0KG5ldyBIdCl9LHQucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3RoaXMuYWRkRWZmZWN0KG5ldyBXdCl9LHQucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odCl7dGhpcy5hZGRFZmZlY3QobmV3IEt0KHQpKX0sdC5wcm90b3R5cGUuY29sb3JpemU9ZnVuY3Rpb24odCl7dGhpcy5hZGRFZmZlY3QobmV3IE50KHQpKX0sdC5wcm90b3R5cGUubGlnaHRlbj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5hZGRFZmZlY3QobmV3IHF0KHQpKX0sdC5wcm90b3R5cGUuZGFya2VuPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PS4xKSx0aGlzLmFkZEVmZmVjdChuZXcgVnQodCkpfSx0LnByb3RvdHlwZS5zYXR1cmF0ZT1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5hZGRFZmZlY3QobmV3IEd0KHQpKX0sdC5wcm90b3R5cGUuZGVzYXR1cmF0ZT1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5hZGRFZmZlY3QobmV3IFh0KHQpKX0sdC5wcm90b3R5cGUuYWRkRWZmZWN0PWZ1bmN0aW9uKHQpe3RoaXMuZWZmZWN0cy5wdXNoKHQpLHRoaXMuX3RleHR1cmUuaXNMb2FkZWQoKSYmdGhpcy5fcGl4ZWxzTG9hZGVkP3RoaXMuX2FwcGx5RWZmZWN0cygpOnRoaXMuX2RpcnR5RWZmZWN0PSEwfSx0LnByb3RvdHlwZS5yZW1vdmVFZmZlY3Q9ZnVuY3Rpb24odCl7dmFyIGU9LTE7KGU9XCJudW1iZXJcIj09dHlwZW9mIHQ/dDp0aGlzLmVmZmVjdHMuaW5kZXhPZih0KSk8MHx8ZT49dGhpcy5lZmZlY3RzLmxlbmd0aHx8KHRoaXMuZWZmZWN0cy5zcGxpY2UoZSwxKSx0aGlzLl90ZXh0dXJlLmlzTG9hZGVkKCkmJnRoaXMuX3BpeGVsc0xvYWRlZD90aGlzLl9hcHBseUVmZmVjdHMoKTp0aGlzLl9kaXJ0eUVmZmVjdD0hMCl9LHQucHJvdG90eXBlLl9hcHBseUVmZmVjdHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90ZXh0dXJlLmltYWdlLm5hdHVyYWxXaWR0aHx8MCxlPXRoaXMuX3RleHR1cmUuaW1hZ2UubmF0dXJhbEhlaWdodHx8MDt0aGlzLl9zcHJpdGVDdHguY2xlYXJSZWN0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLl9zcHJpdGVDdHguZHJhd0ltYWdlKHRoaXMuX3RleHR1cmUuaW1hZ2UsbSh0aGlzLngsMCx0KSxtKHRoaXMueSwwLGUpLG0odGhpcy53aWR0aCwwLHQpLG0odGhpcy5oZWlnaHQsMCxlKSwwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5fcGl4ZWxEYXRhPXRoaXMuX3Nwcml0ZUN0eC5nZXRJbWFnZURhdGEoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpO2Zvcih2YXIgaT10aGlzLmVmZmVjdHMubGVuZ3RoLG49MDtuPGk7bisrKWZvcih2YXIgcj0wO3I8dGhpcy5oZWlnaHQ7cisrKWZvcih2YXIgbz0wO288dGhpcy53aWR0aDtvKyspdGhpcy5lZmZlY3RzW25dLnVwZGF0ZVBpeGVsKG8scix0aGlzLl9waXhlbERhdGEpO3RoaXMuX3Nwcml0ZUN0eC5jbGVhclJlY3QoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuX3Nwcml0ZUN0eC5wdXRJbWFnZURhdGEodGhpcy5fcGl4ZWxEYXRhLDAsMCksdGhpcy5fZGlydHlFZmZlY3Q9ITF9LHQucHJvdG90eXBlLmNsZWFyRWZmZWN0cz1mdW5jdGlvbigpe3RoaXMuZWZmZWN0cy5sZW5ndGg9MCx0aGlzLl9hcHBseUVmZmVjdHMoKX0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbih0LGUsaSl7dC5zYXZlKCksdC50cmFuc2xhdGUoZSxpKSx0LnJvdGF0ZSh0aGlzLnJvdGF0aW9uKTt2YXIgbj10aGlzLmRyYXdXaWR0aCp0aGlzLmFuY2hvci54LHI9dGhpcy5kcmF3SGVpZ2h0KnRoaXMuYW5jaG9yLnk7dC5zdHJva2VTdHlsZT1MdC5CbGFjay50b1N0cmluZygpLHQuc3Ryb2tlUmVjdCgtbiwtcix0aGlzLmRyYXdXaWR0aCx0aGlzLmRyYXdIZWlnaHQpLHQucmVzdG9yZSgpfSx0LnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQsZSxpKXt0IGluc3RhbmNlb2YgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEP3RoaXMuX2RyYXdXaXRoT3B0aW9ucyh7Y3R4OnQseDplLHk6aX0pOnRoaXMuX2RyYXdXaXRoT3B0aW9ucyh0KX0sdC5wcm90b3R5cGUuX2RyYXdXaXRoT3B0aW9ucz1mdW5jdGlvbih0KXt2YXIgZT0kdCgkdCh7fSx0KSx7cm90YXRpb246dih0LnJvdGF0aW9uLHRoaXMucm90YXRpb24pLGRyYXdXaWR0aDp2KHQuZHJhd1dpZHRoLHRoaXMuZHJhd1dpZHRoKSxkcmF3SGVpZ2h0OnYodC5kcmF3SGVpZ2h0LHRoaXMuZHJhd0hlaWdodCksZmxpcEhvcml6b250YWw6dih0LmZsaXBIb3Jpem9udGFsLHRoaXMuZmxpcEhvcml6b250YWwpLGZsaXBWZXJ0aWNhbDp2KHQuZmxpcFZlcnRpY2FsLHRoaXMuZmxpcFZlcnRpY2FsKSxhbmNob3I6dih0LmFuY2hvcix0aGlzLmFuY2hvciksb2Zmc2V0OnYodC5vZmZzZXQsdGhpcy5vZmZzZXQpLG9wYWNpdHk6dih0Lm9wYWNpdHksdGhpcy5fb3BhY2l0eSl9KSxpPWUuY3R4LG49ZS54LHI9ZS55LG89ZS5yb3RhdGlvbixzPWUuZHJhd1dpZHRoLGE9ZS5kcmF3SGVpZ2h0LGM9ZS5hbmNob3IsaD1lLm9mZnNldCx1PWUub3BhY2l0eSxsPWUuZmxpcEhvcml6b250YWwscD1lLmZsaXBWZXJ0aWNhbDt0aGlzLl9kaXJ0eUVmZmVjdCYmdGhpcy5fYXBwbHlFZmZlY3RzKCksaS5zYXZlKCk7dmFyIGQ9cypjLngraC54LGY9YSpjLnkraC55O2kudHJhbnNsYXRlKG4sciksaS5yb3RhdGUobyksbCYmKGkudHJhbnNsYXRlKHMsMCksaS5zY2FsZSgtMSwxKSkscCYmKGkudHJhbnNsYXRlKDAsYSksaS5zY2FsZSgxLC0xKSksdGhpcy5fZGlydHlFZmZlY3QmJnRoaXMuX2FwcGx5RWZmZWN0cygpO3ZhciBnPWkuZ2xvYmFsQWxwaGE7aS5nbG9iYWxBbHBoYT12KHUsMSksaS5kcmF3SW1hZ2UodGhpcy5fc3ByaXRlQ2FudmFzLDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LC1kLC1mLHMsYSksaS5nbG9iYWxBbHBoYT1nLGkucmVzdG9yZSgpfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciB0PW5ldyB0ZSh0aGlzLl90ZXh0dXJlLHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7dC5zY2FsZT10aGlzLnNjYWxlLmNsb25lKCksdC5yb3RhdGlvbj10aGlzLnJvdGF0aW9uLHQuZmxpcEhvcml6b250YWw9dGhpcy5mbGlwSG9yaXpvbnRhbCx0LmZsaXBWZXJ0aWNhbD10aGlzLmZsaXBWZXJ0aWNhbDtmb3IodmFyIGU9dGhpcy5lZmZlY3RzLmxlbmd0aCxpPTA7aTxlO2krKyl0LmFkZEVmZmVjdCh0aGlzLmVmZmVjdHNbaV0pO3JldHVybiB0fSx0fSgpKSksZWU9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGkpe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSkoZSxpKX07cmV0dXJuIGZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsaSksZS5wcm90b3R5cGU9bnVsbD09PWk/T2JqZWN0LmNyZWF0ZShpKToobi5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IG4pfX0oKSxpZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dm9pZCAwPT09aSYmKGk9ITApO3ZhciBuPXQuY2FsbCh0aGlzLGUsXCJibG9iXCIsaSl8fHRoaXM7cmV0dXJuIG4ucGF0aD1lLG4uYnVzdENhY2hlPWksbi5sb2FkZWQ9bmV3IGQsbi5faXNMb2FkZWQ9ITEsbi5fc3ByaXRlPW51bGwsbi5fc3ByaXRlPW5ldyB0ZShuLDAsMCwwLDApLG59cmV0dXJuIGVlKGUsdCksZS5wcm90b3R5cGUuaXNMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNMb2FkZWR9LGUucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGk9bmV3IGQ7dGhpcy5wYXRoLmluZGV4T2YoXCJkYXRhOmltYWdlL1wiKT4tMT8odGhpcy5pbWFnZT1uZXcgSW1hZ2UsdGhpcy5pbWFnZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLChmdW5jdGlvbigpe2Uud2lkdGg9ZS5fc3ByaXRlLndpZHRoPWUuaW1hZ2UubmF0dXJhbFdpZHRoLGUuaGVpZ2h0PWUuX3Nwcml0ZS5oZWlnaHQ9ZS5pbWFnZS5uYXR1cmFsSGVpZ2h0LGUuX3Nwcml0ZT1uZXcgdGUoZSwwLDAsZS53aWR0aCxlLmhlaWdodCksZS5sb2FkZWQucmVzb2x2ZShlLmltYWdlKSxpLnJlc29sdmUoZS5pbWFnZSl9KSksdGhpcy5pbWFnZS5zcmM9dGhpcy5wYXRoKTp0LnByb3RvdHlwZS5sb2FkLmNhbGwodGhpcykudGhlbigoZnVuY3Rpb24oKXtlLmltYWdlPW5ldyBJbWFnZSxlLmltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsKGZ1bmN0aW9uKCl7ZS5faXNMb2FkZWQ9ITAsZS53aWR0aD1lLl9zcHJpdGUud2lkdGg9ZS5pbWFnZS5uYXR1cmFsV2lkdGgsZS5oZWlnaHQ9ZS5fc3ByaXRlLmhlaWdodD1lLmltYWdlLm5hdHVyYWxIZWlnaHQsZS5sb2FkZWQucmVzb2x2ZShlLmltYWdlKSxpLnJlc29sdmUoZS5pbWFnZSl9KSksZS5pbWFnZS5zcmM9dC5wcm90b3R5cGUuZ2V0RGF0YS5jYWxsKGUpfSksKGZ1bmN0aW9uKCl7aS5yZWplY3QoXCJFcnJvciBsb2FkaW5nIHRleHR1cmUuXCIpfSkpO3JldHVybiBpfSxlLnByb3RvdHlwZS5hc1Nwcml0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zcHJpdGV9LGV9KEZ0KTshZnVuY3Rpb24odCl7dFt0LlNob3J0ZXN0UGF0aD0wXT1cIlNob3J0ZXN0UGF0aFwiLHRbdC5Mb25nZXN0UGF0aD0xXT1cIkxvbmdlc3RQYXRoXCIsdFt0LkNsb2Nrd2lzZT0yXT1cIkNsb2Nrd2lzZVwiLHRbdC5Db3VudGVyQ2xvY2t3aXNlPTNdPVwiQ291bnRlckNsb2Nrd2lzZVwifShRdHx8KFF0PXt9KSk7dmFyIG5lLHJlPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1uP249T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGkpOm47aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxpLG4pO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKHI9dFthXSkmJihzPShvPDM/cihzKTpvPjM/cihlLGkscyk6cihlLGkpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSxzKSxzfSxvZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGksbixyKXt0aGlzLmFjdG9yPXQsdGhpcy5lYXNpbmdGY249cix0aGlzLl9jdXJyZW50TGVycFRpbWU9MCx0aGlzLl9sZXJwRHVyYXRpb249MWUzLHRoaXMuX2xlcnBTdGFydD1uZXcgVigwLDApLHRoaXMuX2xlcnBFbmQ9bmV3IFYoMCwwKSx0aGlzLl9pbml0aWFsaXplZD0hMSx0aGlzLl9zdG9wcGVkPSExLHRoaXMuX2Rpc3RhbmNlPTAsdGhpcy5fbGVycER1cmF0aW9uPW4sdGhpcy5fbGVycEVuZD1uZXcgVihlLGkpfXJldHVybiB0LnByb3RvdHlwZS5faW5pdGlhbGl6ZT1mdW5jdGlvbigpe3RoaXMuX2xlcnBTdGFydD1uZXcgVih0aGlzLmFjdG9yLnBvcy54LHRoaXMuYWN0b3IucG9zLnkpLHRoaXMuX2N1cnJlbnRMZXJwVGltZT0wLHRoaXMuX2Rpc3RhbmNlPXRoaXMuX2xlcnBTdGFydC5kaXN0YW5jZSh0aGlzLl9sZXJwRW5kKX0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX2luaXRpYWxpemVkfHwodGhpcy5faW5pdGlhbGl6ZSgpLHRoaXMuX2luaXRpYWxpemVkPSEwKTt2YXIgZT10aGlzLmFjdG9yLnBvcy54LGk9dGhpcy5hY3Rvci5wb3MueTt0aGlzLl9jdXJyZW50TGVycFRpbWU8dGhpcy5fbGVycER1cmF0aW9uPyhlPXRoaXMuX2xlcnBFbmQueDx0aGlzLl9sZXJwU3RhcnQueD90aGlzLl9sZXJwU3RhcnQueC0odGhpcy5lYXNpbmdGY24odGhpcy5fY3VycmVudExlcnBUaW1lLHRoaXMuX2xlcnBFbmQueCx0aGlzLl9sZXJwU3RhcnQueCx0aGlzLl9sZXJwRHVyYXRpb24pLXRoaXMuX2xlcnBFbmQueCk6dGhpcy5lYXNpbmdGY24odGhpcy5fY3VycmVudExlcnBUaW1lLHRoaXMuX2xlcnBTdGFydC54LHRoaXMuX2xlcnBFbmQueCx0aGlzLl9sZXJwRHVyYXRpb24pLGk9dGhpcy5fbGVycEVuZC55PHRoaXMuX2xlcnBTdGFydC55P3RoaXMuX2xlcnBTdGFydC55LSh0aGlzLmVhc2luZ0Zjbih0aGlzLl9jdXJyZW50TGVycFRpbWUsdGhpcy5fbGVycEVuZC55LHRoaXMuX2xlcnBTdGFydC55LHRoaXMuX2xlcnBEdXJhdGlvbiktdGhpcy5fbGVycEVuZC55KTp0aGlzLmVhc2luZ0Zjbih0aGlzLl9jdXJyZW50TGVycFRpbWUsdGhpcy5fbGVycFN0YXJ0LnksdGhpcy5fbGVycEVuZC55LHRoaXMuX2xlcnBEdXJhdGlvbiksdGhpcy5hY3Rvci5wb3MueD1lLHRoaXMuYWN0b3IucG9zLnk9aSx0aGlzLl9jdXJyZW50TGVycFRpbWUrPXQpOih0aGlzLmFjdG9yLnBvcy54PXRoaXMuX2xlcnBFbmQueCx0aGlzLmFjdG9yLnBvcy55PXRoaXMuX2xlcnBFbmQueSl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0b3BwZWR8fG5ldyBWKHQucG9zLngsdC5wb3MueSkuZGlzdGFuY2UodGhpcy5fbGVycFN0YXJ0KT49dGhpcy5fZGlzdGFuY2V9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5faW5pdGlhbGl6ZWQ9ITF9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9zdG9wcGVkPSEwfSx0fSgpLHNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSxuKXt0aGlzLl9zdGFydGVkPSExLHRoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fYWN0b3I9dCx0aGlzLl9lbmQ9bmV3IFYoZSxpKSx0aGlzLl9zcGVlZD1ufXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnRlZHx8KHRoaXMuX3N0YXJ0ZWQ9ITAsdGhpcy5fc3RhcnQ9bmV3IFYodGhpcy5fYWN0b3IucG9zLngsdGhpcy5fYWN0b3IucG9zLnkpLHRoaXMuX2Rpc3RhbmNlPXRoaXMuX3N0YXJ0LmRpc3RhbmNlKHRoaXMuX2VuZCksdGhpcy5fZGlyPXRoaXMuX2VuZC5zdWIodGhpcy5fc3RhcnQpLm5vcm1hbGl6ZSgpKTt2YXIgZT10aGlzLl9kaXIuc2NhbGUodGhpcy5fc3BlZWQpO3RoaXMuX2FjdG9yLnZlbC54PWUueCx0aGlzLl9hY3Rvci52ZWwueT1lLnksdGhpcy5pc0NvbXBsZXRlKHRoaXMuX2FjdG9yKSYmKHRoaXMuX2FjdG9yLnBvcy54PXRoaXMuX2VuZC54LHRoaXMuX2FjdG9yLnBvcy55PXRoaXMuX2VuZC55LHRoaXMuX2FjdG9yLnZlbC55PTAsdGhpcy5fYWN0b3IudmVsLng9MCl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0b3BwZWR8fG5ldyBWKHQucG9zLngsdC5wb3MueSkuZGlzdGFuY2UodGhpcy5fc3RhcnQpPj10aGlzLl9kaXN0YW5jZX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2FjdG9yLnZlbC55PTAsdGhpcy5fYWN0b3IudmVsLng9MCx0aGlzLl9zdG9wcGVkPSEwfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3N0YXJ0ZWQ9ITF9LHR9KCksYWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4pe2lmKHRoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5fc3RvcHBlZD0hMSx0aGlzLl9hY3Rvcj10LHRoaXMuX3NwZWVkPW4sdGhpcy5fb2Zmc2V0PW5ldyBWKGUsaSksbjw9MCl0aHJvdyBSLmdldEluc3RhbmNlKCkuZXJyb3IoXCJBdHRlbXB0ZWQgdG8gbW92ZUJ5IHdpdGggc3BlZWQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHplcm8gOiBcIituKSxuZXcgRXJyb3IoXCJTcGVlZCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIHBpeGVscyBwZXIgc2Vjb25kXCIpfXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnRlZHx8KHRoaXMuX3N0YXJ0ZWQ9ITAsdGhpcy5fc3RhcnQ9bmV3IFYodGhpcy5fYWN0b3IucG9zLngsdGhpcy5fYWN0b3IucG9zLnkpLHRoaXMuX2VuZD10aGlzLl9zdGFydC5hZGQodGhpcy5fb2Zmc2V0KSx0aGlzLl9kaXN0YW5jZT10aGlzLl9vZmZzZXQuc2l6ZSx0aGlzLl9kaXI9dGhpcy5fZW5kLnN1Yih0aGlzLl9zdGFydCkubm9ybWFsaXplKCkpLHRoaXMuX2FjdG9yLnZlbD10aGlzLl9kaXIuc2NhbGUodGhpcy5fc3BlZWQpLHRoaXMuaXNDb21wbGV0ZSh0aGlzLl9hY3RvcikmJih0aGlzLl9hY3Rvci5wb3MueD10aGlzLl9lbmQueCx0aGlzLl9hY3Rvci5wb3MueT10aGlzLl9lbmQueSx0aGlzLl9hY3Rvci52ZWwueT0wLHRoaXMuX2FjdG9yLnZlbC54PTApfSx0LnByb3RvdHlwZS5pc0NvbXBsZXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9wcGVkfHx0LnBvcy5kaXN0YW5jZSh0aGlzLl9zdGFydCk+PXRoaXMuX2Rpc3RhbmNlfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fYWN0b3IudmVsLnk9MCx0aGlzLl9hY3Rvci52ZWwueD0wLHRoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRlZD0hMX0sdH0oKSxjZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGkpe3RoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5fc3RvcHBlZD0hMSx0aGlzLl9hY3Rvcj10LHRoaXMuX2FjdG9yVG9Gb2xsb3c9ZSx0aGlzLl9jdXJyZW50PW5ldyBWKHRoaXMuX2FjdG9yLnBvcy54LHRoaXMuX2FjdG9yLnBvcy55KSx0aGlzLl9lbmQ9bmV3IFYoZS5wb3MueCxlLnBvcy55KSx0aGlzLl9tYXhpbXVtRGlzdGFuY2U9dm9pZCAwIT09aT9pOnRoaXMuX2N1cnJlbnQuZGlzdGFuY2UodGhpcy5fZW5kKSx0aGlzLl9zcGVlZD0wfXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnRlZHx8KHRoaXMuX3N0YXJ0ZWQ9ITAsdGhpcy5fZGlzdGFuY2VCZXR3ZWVuPXRoaXMuX2N1cnJlbnQuZGlzdGFuY2UodGhpcy5fZW5kKSx0aGlzLl9kaXI9dGhpcy5fZW5kLnN1Yih0aGlzLl9jdXJyZW50KS5ub3JtYWxpemUoKSk7dmFyIGU9TWF0aC5zcXJ0KE1hdGgucG93KHRoaXMuX2FjdG9yVG9Gb2xsb3cudmVsLngsMikrTWF0aC5wb3codGhpcy5fYWN0b3JUb0ZvbGxvdy52ZWwueSwyKSk7aWYoMCE9PWUmJih0aGlzLl9zcGVlZD1lKSx0aGlzLl9jdXJyZW50Lng9dGhpcy5fYWN0b3IucG9zLngsdGhpcy5fY3VycmVudC55PXRoaXMuX2FjdG9yLnBvcy55LHRoaXMuX2VuZC54PXRoaXMuX2FjdG9yVG9Gb2xsb3cucG9zLngsdGhpcy5fZW5kLnk9dGhpcy5fYWN0b3JUb0ZvbGxvdy5wb3MueSx0aGlzLl9kaXN0YW5jZUJldHdlZW49dGhpcy5fY3VycmVudC5kaXN0YW5jZSh0aGlzLl9lbmQpLHRoaXMuX2Rpcj10aGlzLl9lbmQuc3ViKHRoaXMuX2N1cnJlbnQpLm5vcm1hbGl6ZSgpLHRoaXMuX2Rpc3RhbmNlQmV0d2Vlbj49dGhpcy5fbWF4aW11bURpc3RhbmNlKXt2YXIgaT10aGlzLl9kaXIuc2NhbGUodGhpcy5fc3BlZWQpO3RoaXMuX2FjdG9yLnZlbC54PWkueCx0aGlzLl9hY3Rvci52ZWwueT1pLnl9ZWxzZSB0aGlzLl9hY3Rvci52ZWwueD0wLHRoaXMuX2FjdG9yLnZlbC55PTA7dGhpcy5pc0NvbXBsZXRlKCkmJih0aGlzLl9hY3Rvci5wb3MueD10aGlzLl9lbmQueCx0aGlzLl9hY3Rvci5wb3MueT10aGlzLl9lbmQueSx0aGlzLl9hY3Rvci52ZWwueT0wLHRoaXMuX2FjdG9yLnZlbC54PTApfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fYWN0b3IudmVsLnk9MCx0aGlzLl9hY3Rvci52ZWwueD0wLHRoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcHBlZH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9zdGFydGVkPSExfSx0fSgpLGhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSl7dGhpcy5fc3RhcnRlZD0hMSx0aGlzLl9zdG9wcGVkPSExLHRoaXMuX3NwZWVkV2FzU3BlY2lmaWVkPSExLHRoaXMuX2FjdG9yPXQsdGhpcy5fYWN0b3JUb01lZXQ9ZSx0aGlzLl9jdXJyZW50PW5ldyBWKHRoaXMuX2FjdG9yLnBvcy54LHRoaXMuX2FjdG9yLnBvcy55KSx0aGlzLl9lbmQ9bmV3IFYoZS5wb3MueCxlLnBvcy55KSx0aGlzLl9zcGVlZD1pfHwwLHZvaWQgMCE9PWkmJih0aGlzLl9zcGVlZFdhc1NwZWNpZmllZD0hMCl9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9zdGFydGVkfHwodGhpcy5fc3RhcnRlZD0hMCx0aGlzLl9kaXN0YW5jZUJldHdlZW49dGhpcy5fY3VycmVudC5kaXN0YW5jZSh0aGlzLl9lbmQpLHRoaXMuX2Rpcj10aGlzLl9lbmQuc3ViKHRoaXMuX2N1cnJlbnQpLm5vcm1hbGl6ZSgpKTt2YXIgZT1NYXRoLnNxcnQoTWF0aC5wb3codGhpcy5fYWN0b3JUb01lZXQudmVsLngsMikrTWF0aC5wb3codGhpcy5fYWN0b3JUb01lZXQudmVsLnksMikpOzA9PT1lfHx0aGlzLl9zcGVlZFdhc1NwZWNpZmllZHx8KHRoaXMuX3NwZWVkPWUpLHRoaXMuX2N1cnJlbnQueD10aGlzLl9hY3Rvci5wb3MueCx0aGlzLl9jdXJyZW50Lnk9dGhpcy5fYWN0b3IucG9zLnksdGhpcy5fZW5kLng9dGhpcy5fYWN0b3JUb01lZXQucG9zLngsdGhpcy5fZW5kLnk9dGhpcy5fYWN0b3JUb01lZXQucG9zLnksdGhpcy5fZGlzdGFuY2VCZXR3ZWVuPXRoaXMuX2N1cnJlbnQuZGlzdGFuY2UodGhpcy5fZW5kKSx0aGlzLl9kaXI9dGhpcy5fZW5kLnN1Yih0aGlzLl9jdXJyZW50KS5ub3JtYWxpemUoKTt2YXIgaT10aGlzLl9kaXIuc2NhbGUodGhpcy5fc3BlZWQpO3RoaXMuX2FjdG9yLnZlbC54PWkueCx0aGlzLl9hY3Rvci52ZWwueT1pLnksdGhpcy5pc0NvbXBsZXRlKCkmJih0aGlzLl9hY3Rvci5wb3MueD10aGlzLl9lbmQueCx0aGlzLl9hY3Rvci5wb3MueT10aGlzLl9lbmQueSx0aGlzLl9hY3Rvci52ZWwueT0wLHRoaXMuX2FjdG9yLnZlbC54PTApfSx0LnByb3RvdHlwZS5pc0NvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3BwZWR8fHRoaXMuX2Rpc3RhbmNlQmV0d2Vlbjw9MX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2FjdG9yLnZlbC55PTAsdGhpcy5fYWN0b3IudmVsLng9MCx0aGlzLl9zdG9wcGVkPSEwfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3N0YXJ0ZWQ9ITF9LHR9KCksdWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4pe3RoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5fc3RvcHBlZD0hMSx0aGlzLl9hY3Rvcj10LHRoaXMuX2VuZD1lLHRoaXMuX3NwZWVkPWksdGhpcy5fcm90YXRpb25UeXBlPW58fFF0LlNob3J0ZXN0UGF0aH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9zdGFydGVkKXt0aGlzLl9zdGFydGVkPSEwLHRoaXMuX3N0YXJ0PXRoaXMuX2FjdG9yLnJvdGF0aW9uO3ZhciBlPU1hdGguYWJzKHRoaXMuX2VuZC10aGlzLl9zdGFydCksaT1nLWU7c3dpdGNoKGU+aT8odGhpcy5fc2hvcnREaXN0YW5jZT1pLHRoaXMuX2xvbmdEaXN0YW5jZT1lKToodGhpcy5fc2hvcnREaXN0YW5jZT1lLHRoaXMuX2xvbmdEaXN0YW5jZT1pKSx0aGlzLl9zaG9ydGVzdFBhdGhJc1Bvc2l0aXZlPSh0aGlzLl9zdGFydC10aGlzLl9lbmQrZyklZz49TWF0aC5QSSx0aGlzLl9yb3RhdGlvblR5cGUpe2Nhc2UgUXQuU2hvcnRlc3RQYXRoOnRoaXMuX2Rpc3RhbmNlPXRoaXMuX3Nob3J0RGlzdGFuY2UsdGhpcy5fc2hvcnRlc3RQYXRoSXNQb3NpdGl2ZT90aGlzLl9kaXJlY3Rpb249MTp0aGlzLl9kaXJlY3Rpb249LTE7YnJlYWs7Y2FzZSBRdC5Mb25nZXN0UGF0aDp0aGlzLl9kaXN0YW5jZT10aGlzLl9sb25nRGlzdGFuY2UsdGhpcy5fc2hvcnRlc3RQYXRoSXNQb3NpdGl2ZT90aGlzLl9kaXJlY3Rpb249LTE6dGhpcy5fZGlyZWN0aW9uPTE7YnJlYWs7Y2FzZSBRdC5DbG9ja3dpc2U6dGhpcy5fZGlyZWN0aW9uPTEsdGhpcy5fc2hvcnRlc3RQYXRoSXNQb3NpdGl2ZT90aGlzLl9kaXN0YW5jZT10aGlzLl9zaG9ydERpc3RhbmNlOnRoaXMuX2Rpc3RhbmNlPXRoaXMuX2xvbmdEaXN0YW5jZTticmVhaztjYXNlIFF0LkNvdW50ZXJDbG9ja3dpc2U6dGhpcy5fZGlyZWN0aW9uPS0xLHRoaXMuX3Nob3J0ZXN0UGF0aElzUG9zaXRpdmU/dGhpcy5fZGlzdGFuY2U9dGhpcy5fbG9uZ0Rpc3RhbmNlOnRoaXMuX2Rpc3RhbmNlPXRoaXMuX3Nob3J0RGlzdGFuY2V9fXRoaXMuX2FjdG9yLnJ4PXRoaXMuX2RpcmVjdGlvbip0aGlzLl9zcGVlZCx0aGlzLmlzQ29tcGxldGUoKSYmKHRoaXMuX2FjdG9yLnJvdGF0aW9uPXRoaXMuX2VuZCx0aGlzLl9hY3Rvci5yeD0wLHRoaXMuX3N0b3BwZWQ9ITApfSx0LnByb3RvdHlwZS5pc0NvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC5hYnModGhpcy5fYWN0b3Iucm90YXRpb24tdGhpcy5fc3RhcnQpO3JldHVybiB0aGlzLl9zdG9wcGVkfHx0Pj1NYXRoLmFicyh0aGlzLl9kaXN0YW5jZSl9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9hY3Rvci5yeD0wLHRoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRlZD0hMX0sdH0oKSxsZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGksbil7dGhpcy5fc3RhcnRlZD0hMSx0aGlzLl9zdG9wcGVkPSExLHRoaXMuX2FjdG9yPXQsdGhpcy5fc3BlZWQ9aSx0aGlzLl9vZmZzZXQ9ZSx0aGlzLl9yb3RhdGlvblR5cGU9bnx8UXQuU2hvcnRlc3RQYXRofXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX3N0YXJ0ZWQpe3RoaXMuX3N0YXJ0ZWQ9ITAsdGhpcy5fc3RhcnQ9dGhpcy5fYWN0b3Iucm90YXRpb24sdGhpcy5fZW5kPXRoaXMuX3N0YXJ0K3RoaXMuX29mZnNldDt2YXIgZT1NYXRoLmFicyh0aGlzLl9lbmQtdGhpcy5fc3RhcnQpLGk9Zy1lO3N3aXRjaChlPmk/KHRoaXMuX3Nob3J0RGlzdGFuY2U9aSx0aGlzLl9sb25nRGlzdGFuY2U9ZSk6KHRoaXMuX3Nob3J0RGlzdGFuY2U9ZSx0aGlzLl9sb25nRGlzdGFuY2U9aSksdGhpcy5fc2hvcnRlc3RQYXRoSXNQb3NpdGl2ZT0odGhpcy5fc3RhcnQtdGhpcy5fZW5kK2cpJWc+PU1hdGguUEksdGhpcy5fcm90YXRpb25UeXBlKXtjYXNlIFF0LlNob3J0ZXN0UGF0aDp0aGlzLl9kaXN0YW5jZT10aGlzLl9zaG9ydERpc3RhbmNlLHRoaXMuX3Nob3J0ZXN0UGF0aElzUG9zaXRpdmU/dGhpcy5fZGlyZWN0aW9uPTE6dGhpcy5fZGlyZWN0aW9uPS0xO2JyZWFrO2Nhc2UgUXQuTG9uZ2VzdFBhdGg6dGhpcy5fZGlzdGFuY2U9dGhpcy5fbG9uZ0Rpc3RhbmNlLHRoaXMuX3Nob3J0ZXN0UGF0aElzUG9zaXRpdmU/dGhpcy5fZGlyZWN0aW9uPS0xOnRoaXMuX2RpcmVjdGlvbj0xO2JyZWFrO2Nhc2UgUXQuQ2xvY2t3aXNlOnRoaXMuX2RpcmVjdGlvbj0xLHRoaXMuX3Nob3J0RGlzdGFuY2U+PTA/dGhpcy5fZGlzdGFuY2U9dGhpcy5fc2hvcnREaXN0YW5jZTp0aGlzLl9kaXN0YW5jZT10aGlzLl9sb25nRGlzdGFuY2U7YnJlYWs7Y2FzZSBRdC5Db3VudGVyQ2xvY2t3aXNlOnRoaXMuX2RpcmVjdGlvbj0tMSx0aGlzLl9zaG9ydERpc3RhbmNlPD0wP3RoaXMuX2Rpc3RhbmNlPXRoaXMuX3Nob3J0RGlzdGFuY2U6dGhpcy5fZGlzdGFuY2U9dGhpcy5fbG9uZ0Rpc3RhbmNlfX10aGlzLl9hY3Rvci5yeD10aGlzLl9kaXJlY3Rpb24qdGhpcy5fc3BlZWQsdGhpcy5pc0NvbXBsZXRlKCkmJih0aGlzLl9hY3Rvci5yb3RhdGlvbj10aGlzLl9lbmQsdGhpcy5fYWN0b3Iucng9MCx0aGlzLl9zdG9wcGVkPSEwKX0sdC5wcm90b3R5cGUuaXNDb21wbGV0ZT1mdW5jdGlvbigpe3ZhciB0PU1hdGguYWJzKHRoaXMuX2FjdG9yLnJvdGF0aW9uLXRoaXMuX3N0YXJ0KTtyZXR1cm4gdGhpcy5fc3RvcHBlZHx8dD49TWF0aC5hYnModGhpcy5fZGlzdGFuY2UpfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fYWN0b3Iucng9MCx0aGlzLl9zdG9wcGVkPSEwfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3N0YXJ0ZWQ9ITF9LHR9KCkscGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4scil7dGhpcy5fc3RhcnRlZD0hMSx0aGlzLl9zdG9wcGVkPSExLHRoaXMuX2FjdG9yPXQsdGhpcy5fZW5kWD1lLHRoaXMuX2VuZFk9aSx0aGlzLl9zcGVlZFg9bix0aGlzLl9zcGVlZFk9cn1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3N0YXJ0ZWR8fCh0aGlzLl9zdGFydGVkPSEwLHRoaXMuX3N0YXJ0WD10aGlzLl9hY3Rvci5zY2FsZS54LHRoaXMuX3N0YXJ0WT10aGlzLl9hY3Rvci5zY2FsZS55LHRoaXMuX2Rpc3RhbmNlWD1NYXRoLmFicyh0aGlzLl9lbmRYLXRoaXMuX3N0YXJ0WCksdGhpcy5fZGlzdGFuY2VZPU1hdGguYWJzKHRoaXMuX2VuZFktdGhpcy5fc3RhcnRZKSksTWF0aC5hYnModGhpcy5fYWN0b3Iuc2NhbGUueC10aGlzLl9zdGFydFgpPj10aGlzLl9kaXN0YW5jZVgpdGhpcy5fYWN0b3Iuc3g9MDtlbHNle3ZhciBlPXRoaXMuX2VuZFk8dGhpcy5fc3RhcnRZPy0xOjE7dGhpcy5fYWN0b3Iuc3g9dGhpcy5fc3BlZWRYKmV9aWYoTWF0aC5hYnModGhpcy5fYWN0b3Iuc2NhbGUueS10aGlzLl9zdGFydFkpPj10aGlzLl9kaXN0YW5jZVkpdGhpcy5fYWN0b3Iuc3k9MDtlbHNle3ZhciBpPXRoaXMuX2VuZFk8dGhpcy5fc3RhcnRZPy0xOjE7dGhpcy5fYWN0b3Iuc3k9dGhpcy5fc3BlZWRZKml9dGhpcy5pc0NvbXBsZXRlKCkmJih0aGlzLl9hY3Rvci5zY2FsZS54PXRoaXMuX2VuZFgsdGhpcy5fYWN0b3Iuc2NhbGUueT10aGlzLl9lbmRZLHRoaXMuX2FjdG9yLnN4PTAsdGhpcy5fYWN0b3Iuc3k9MCl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcHBlZHx8TWF0aC5hYnModGhpcy5fYWN0b3Iuc2NhbGUueS10aGlzLl9zdGFydFgpPj10aGlzLl9kaXN0YW5jZVgmJk1hdGguYWJzKHRoaXMuX2FjdG9yLnNjYWxlLnktdGhpcy5fc3RhcnRZKT49dGhpcy5fZGlzdGFuY2VZfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fYWN0b3Iuc3g9MCx0aGlzLl9hY3Rvci5zeT0wLHRoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRlZD0hMX0sdD1yZShbTih7bWVzc2FnZTpcImV4LkFjdGlvbi5TY2FsZVRvIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNS4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiU2V0IHdpZHRoIGFuZCBoaWdodCBkaXJlY3RseVwifSldLHQpfSgpLGRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSxuKXt0aGlzLl9zdGFydGVkPSExLHRoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fYWN0b3I9dCx0aGlzLl9vZmZzZXQ9bmV3IFYoZSxpKSx0aGlzLl9zcGVlZFg9dGhpcy5fc3BlZWRZPW59cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9zdGFydGVkfHwodGhpcy5fc3RhcnRlZD0hMCx0aGlzLl9zdGFydFNjYWxlPXRoaXMuX2FjdG9yLnNjYWxlLmNsb25lKCksdGhpcy5fZW5kU2NhbGU9dGhpcy5fc3RhcnRTY2FsZS5hZGQodGhpcy5fb2Zmc2V0KSx0aGlzLl9kaXN0YW5jZVg9TWF0aC5hYnModGhpcy5fZW5kU2NhbGUueC10aGlzLl9zdGFydFNjYWxlLngpLHRoaXMuX2Rpc3RhbmNlWT1NYXRoLmFicyh0aGlzLl9lbmRTY2FsZS55LXRoaXMuX3N0YXJ0U2NhbGUueSksdGhpcy5fZGlyZWN0aW9uWD10aGlzLl9lbmRTY2FsZS54PHRoaXMuX3N0YXJ0U2NhbGUueD8tMToxLHRoaXMuX2RpcmVjdGlvblk9dGhpcy5fZW5kU2NhbGUueTx0aGlzLl9zdGFydFNjYWxlLnk/LTE6MSksdGhpcy5fYWN0b3Iuc3g9dGhpcy5fc3BlZWRYKnRoaXMuX2RpcmVjdGlvblgsdGhpcy5fYWN0b3Iuc3k9dGhpcy5fc3BlZWRZKnRoaXMuX2RpcmVjdGlvblksdGhpcy5pc0NvbXBsZXRlKCkmJih0aGlzLl9hY3Rvci5zY2FsZT10aGlzLl9lbmRTY2FsZSx0aGlzLl9hY3Rvci5zeD0wLHRoaXMuX2FjdG9yLnN5PTApfSx0LnByb3RvdHlwZS5pc0NvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3BwZWR8fE1hdGguYWJzKHRoaXMuX2FjdG9yLnNjYWxlLngtdGhpcy5fc3RhcnRTY2FsZS54KT49dGhpcy5fZGlzdGFuY2VYJiZNYXRoLmFicyh0aGlzLl9hY3Rvci5zY2FsZS55LXRoaXMuX3N0YXJ0U2NhbGUueSk+PXRoaXMuX2Rpc3RhbmNlWX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2FjdG9yLnN4PTAsdGhpcy5fYWN0b3Iuc3k9MCx0aGlzLl9zdG9wcGVkPSEwfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3N0YXJ0ZWQ9ITF9LHQ9cmUoW04oe21lc3NhZ2U6XCJleC5BY3Rpb24uU2NhbGVCeSB3aWxsIGJlIHJlbW92ZWQgaW4gdjAuMjUuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIlNldCB3aWR0aCBhbmQgaGlnaHQgZGlyZWN0bHlcIn0pXSx0KX0oKSxmZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9lbGFwc2VkVGltZT0wLHRoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5fc3RvcHBlZD0hMSx0aGlzLl9hY3Rvcj10LHRoaXMuX2RlbGF5PWV9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9zdGFydGVkfHwodGhpcy5fc3RhcnRlZD0hMCksdGhpcy54PXRoaXMuX2FjdG9yLnBvcy54LHRoaXMueT10aGlzLl9hY3Rvci5wb3MueSx0aGlzLl9lbGFwc2VkVGltZSs9dH0sdC5wcm90b3R5cGUuaXNDb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9wcGVkfHx0aGlzLl9lbGFwc2VkVGltZT49dGhpcy5fZGVsYXl9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9zdG9wcGVkPSEwfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2VsYXBzZWRUaW1lPTAsdGhpcy5fc3RhcnRlZD0hMX0sdH0oKSxnZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGksbil7dm9pZCAwPT09biYmKG49MSksdGhpcy5fdGltZVZpc2libGU9MCx0aGlzLl90aW1lTm90VmlzaWJsZT0wLHRoaXMuX2VsYXBzZWRUaW1lPTAsdGhpcy5fdG90YWxUaW1lPTAsdGhpcy5fc3RvcHBlZD0hMSx0aGlzLl9zdGFydGVkPSExLHRoaXMuX2FjdG9yPXQsdGhpcy5fdGltZVZpc2libGU9ZSx0aGlzLl90aW1lTm90VmlzaWJsZT1pLHRoaXMuX2R1cmF0aW9uPShlK2kpKm59cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9zdGFydGVkfHwodGhpcy5fc3RhcnRlZD0hMCksdGhpcy5fZWxhcHNlZFRpbWUrPXQsdGhpcy5fdG90YWxUaW1lKz10LHRoaXMuX2FjdG9yLnZpc2libGUmJnRoaXMuX2VsYXBzZWRUaW1lPj10aGlzLl90aW1lVmlzaWJsZSYmKHRoaXMuX2FjdG9yLnZpc2libGU9ITEsdGhpcy5fZWxhcHNlZFRpbWU9MCksIXRoaXMuX2FjdG9yLnZpc2libGUmJnRoaXMuX2VsYXBzZWRUaW1lPj10aGlzLl90aW1lTm90VmlzaWJsZSYmKHRoaXMuX2FjdG9yLnZpc2libGU9ITAsdGhpcy5fZWxhcHNlZFRpbWU9MCksdGhpcy5pc0NvbXBsZXRlKCkmJih0aGlzLl9hY3Rvci52aXNpYmxlPSEwKX0sdC5wcm90b3R5cGUuaXNDb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9wcGVkfHx0aGlzLl90b3RhbFRpbWU+PXRoaXMuX2R1cmF0aW9ufSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fYWN0b3IudmlzaWJsZT0hMCx0aGlzLl9zdG9wcGVkPSEwfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5fZWxhcHNlZFRpbWU9MCx0aGlzLl90b3RhbFRpbWU9MH0sdH0oKSx5ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGkpe3RoaXMuX211bHRpcGxpZXI9MSx0aGlzLl9zdGFydGVkPSExLHRoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fYWN0b3I9dCx0aGlzLl9lbmRPcGFjaXR5PWUsdGhpcy5fc3BlZWQ9aX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3N0YXJ0ZWR8fCh0aGlzLl9zdGFydGVkPSEwLHRoaXMuX2VuZE9wYWNpdHk8dGhpcy5fYWN0b3Iub3BhY2l0eT90aGlzLl9tdWx0aXBsaWVyPS0xOnRoaXMuX211bHRpcGxpZXI9MSksdGhpcy5fc3BlZWQ+MCYmKHRoaXMuX2FjdG9yLm9wYWNpdHkrPXRoaXMuX211bHRpcGxpZXIqKE1hdGguYWJzKHRoaXMuX2FjdG9yLm9wYWNpdHktdGhpcy5fZW5kT3BhY2l0eSkqdCkvdGhpcy5fc3BlZWQpLHRoaXMuX3NwZWVkLT10LHRoaXMuaXNDb21wbGV0ZSgpJiYodGhpcy5fYWN0b3Iub3BhY2l0eT10aGlzLl9lbmRPcGFjaXR5KSxSLmdldEluc3RhbmNlKCkuZGVidWcoXCJbQWN0aW9uIGZhZGVdIEFjdG9yIG9wYWNpdHk6XCIsdGhpcy5fYWN0b3Iub3BhY2l0eSl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcHBlZHx8TWF0aC5hYnModGhpcy5fYWN0b3Iub3BhY2l0eS10aGlzLl9lbmRPcGFjaXR5KTwuMDV9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9zdG9wcGVkPSEwfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3N0YXJ0ZWQ9ITF9LHR9KCksX2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fYWN0b3I9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX2FjdG9yLmFjdGlvblF1ZXVlLmNsZWFyQWN0aW9ucygpLHRoaXMuX2FjdG9yLmtpbGwoKSx0aGlzLl9zdG9wcGVkPSEwfSx0LnByb3RvdHlwZS5pc0NvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3BwZWR9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7fSx0fSgpLHZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX21ldGhvZD1udWxsLHRoaXMuX2FjdG9yPW51bGwsdGhpcy5faGFzQmVlbkNhbGxlZD0hMSx0aGlzLl9hY3Rvcj10LHRoaXMuX21ldGhvZD1lfXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fbWV0aG9kLmNhbGwodGhpcy5fYWN0b3IpLHRoaXMuX2hhc0JlZW5DYWxsZWQ9ITB9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzQmVlbkNhbGxlZH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9oYXNCZWVuQ2FsbGVkPSExfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5faGFzQmVlbkNhbGxlZD0hMH0sdH0oKSxtZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGkpe3RoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fYWN0b3I9dCx0aGlzLl9hY3Rpb25RdWV1ZT1uZXcgd2UodCksdGhpcy5fcmVwZWF0PWUsdGhpcy5fb3JpZ2luYWxSZXBlYXQ9ZTtmb3IodmFyIG49aS5sZW5ndGgscj0wO3I8bjtyKyspaVtyXS5yZXNldCgpLHRoaXMuX2FjdGlvblF1ZXVlLmFkZChpW3JdKX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMueD10aGlzLl9hY3Rvci5wb3MueCx0aGlzLnk9dGhpcy5fYWN0b3IucG9zLnksdGhpcy5fYWN0aW9uUXVldWUuaGFzTmV4dCgpfHwodGhpcy5fYWN0aW9uUXVldWUucmVzZXQoKSx0aGlzLl9yZXBlYXQtLSksdGhpcy5fYWN0aW9uUXVldWUudXBkYXRlKHQpfSx0LnByb3RvdHlwZS5pc0NvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3BwZWR8fHRoaXMuX3JlcGVhdDw9MH0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fcmVwZWF0PXRoaXMuX29yaWdpbmFsUmVwZWF0fSx0fSgpLGJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fYWN0b3I9dCx0aGlzLl9hY3Rpb25RdWV1ZT1uZXcgd2UodCk7Zm9yKHZhciBpPWUubGVuZ3RoLG49MDtuPGk7bisrKWVbbl0ucmVzZXQoKSx0aGlzLl9hY3Rpb25RdWV1ZS5hZGQoZVtuXSl9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLng9dGhpcy5fYWN0b3IucG9zLngsdGhpcy55PXRoaXMuX2FjdG9yLnBvcy55LHRoaXMuX3N0b3BwZWR8fCh0aGlzLl9hY3Rpb25RdWV1ZS5oYXNOZXh0KCl8fHRoaXMuX2FjdGlvblF1ZXVlLnJlc2V0KCksdGhpcy5fYWN0aW9uUXVldWUudXBkYXRlKHQpKX0sdC5wcm90b3R5cGUuaXNDb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9wcGVkfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fc3RvcHBlZD0hMCx0aGlzLl9hY3Rpb25RdWV1ZS5jbGVhckFjdGlvbnMoKX0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt9LHR9KCksd2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX2FjdGlvbnM9W10sdGhpcy5fY29tcGxldGVkQWN0aW9ucz1bXSx0aGlzLl9hY3Rvcj10fXJldHVybiB0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dGhpcy5fYWN0aW9ucy5wdXNoKHQpfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYWN0aW9ucy5pbmRleE9mKHQpO3RoaXMuX2FjdGlvbnMuc3BsaWNlKGUsMSl9LHQucHJvdG90eXBlLmNsZWFyQWN0aW9ucz1mdW5jdGlvbigpe3RoaXMuX2FjdGlvbnMubGVuZ3RoPTAsdGhpcy5fY29tcGxldGVkQWN0aW9ucy5sZW5ndGg9MCx0aGlzLl9jdXJyZW50QWN0aW9uJiZ0aGlzLl9jdXJyZW50QWN0aW9uLnN0b3AoKX0sdC5wcm90b3R5cGUuZ2V0QWN0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3Rpb25zLmNvbmNhdCh0aGlzLl9jb21wbGV0ZWRBY3Rpb25zKX0sdC5wcm90b3R5cGUuaGFzTmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3Rpb25zLmxlbmd0aD4wfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2FjdGlvbnM9dGhpcy5nZXRBY3Rpb25zKCk7Zm9yKHZhciB0PXRoaXMuX2FjdGlvbnMubGVuZ3RoLGU9MDtlPHQ7ZSsrKXRoaXMuX2FjdGlvbnNbZV0ucmVzZXQoKTt0aGlzLl9jb21wbGV0ZWRBY3Rpb25zPVtdfSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fYWN0aW9ucy5sZW5ndGg+MCYmKHRoaXMuX2N1cnJlbnRBY3Rpb249dGhpcy5fYWN0aW9uc1swXSx0aGlzLl9jdXJyZW50QWN0aW9uLnVwZGF0ZSh0KSx0aGlzLl9jdXJyZW50QWN0aW9uLmlzQ29tcGxldGUodGhpcy5fYWN0b3IpJiZ0aGlzLl9jb21wbGV0ZWRBY3Rpb25zLnB1c2godGhpcy5fYWN0aW9ucy5zaGlmdCgpKSl9LHR9KCkseGU9ZnVuY3Rpb24odCxlLGksbil7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PW4/bj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsaSk6bjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLGksbik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkocj10W2FdKSYmKHM9KG88Mz9yKHMpOm8+Mz9yKGUsaSxzKTpyKGUsaSkpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHMpLHN9LFBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5DcmVhdGVSZXZlcnNpYmxlRWFzaW5nRnVuY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsaSxuLHIpe3JldHVybiBuPGk/aS0odChlLG4saSxyKS1uKTp0KGUsaSxuLHIpfX0sdC5DcmVhdGVSZXZlcnNhYmxlRWFzaW5nRnVuY3Rpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHQuQ3JlYXRlUmV2ZXJzaWJsZUVhc2luZ0Z1bmN0aW9uKGUpfSx0LkNyZWF0ZVZlY3RvckVhc2luZ0Z1bmN0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLGksbixyKXtyZXR1cm4gbmV3IFYodChlLGkueCxuLngsciksdChlLGkueSxuLnkscikpfX0sdC5MaW5lYXI9dC5DcmVhdGVSZXZlcnNpYmxlRWFzaW5nRnVuY3Rpb24oKGZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybihpLT1lKSp0L24rZX0pKSx0LkVhc2VJblF1YWQ9dC5DcmVhdGVSZXZlcnNpYmxlRWFzaW5nRnVuY3Rpb24oKGZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybihpLT1lKSoodC89bikqdCtlfSkpLHQuRWFzZU91dFF1YWQ9dC5DcmVhdGVSZXZlcnNpYmxlRWFzaW5nRnVuY3Rpb24oKGZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybi0oaS09ZSkqKHQvPW4pKih0LTIpK2V9KSksdC5FYXNlSW5PdXRRdWFkPXQuQ3JlYXRlUmV2ZXJzaWJsZUVhc2luZ0Z1bmN0aW9uKChmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gaS09ZSwodC89bi8yKTwxP2kvMip0KnQrZTotaS8yKigtLXQqKHQtMiktMSkrZX0pKSx0LkVhc2VJbkN1YmljPXQuQ3JlYXRlUmV2ZXJzaWJsZUVhc2luZ0Z1bmN0aW9uKChmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4oaS09ZSkqKHQvPW4pKnQqdCtlfSkpLHQuRWFzZU91dEN1YmljPXQuQ3JlYXRlUmV2ZXJzaWJsZUVhc2luZ0Z1bmN0aW9uKChmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdC89biwoaS09ZSkqKC0tdCp0KnQrMSkrZX0pKSx0LkVhc2VJbk91dEN1YmljPXQuQ3JlYXRlUmV2ZXJzaWJsZUVhc2luZ0Z1bmN0aW9uKChmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gaS09ZSwodC89bi8yKTwxP2kvMip0KnQqdCtlOmkvMiooKHQtPTIpKnQqdCsyKStlfSkpLHhlKFtOKHttZXNzYWdlOlwiQWxpYXMgZm9yIGluY29ycmVjdCBzcGVsbGluZyB1c2VkIGluIG9sZGVyIHZlcnNpb25zLCB3aWxsIGJlIHJlbW92ZWQgaW4gdjAuMjUuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIkNyZWF0ZVJldmVyc2libGVFYXNpbmdGdW5jdGlvblwifSldLHQsXCJDcmVhdGVSZXZlcnNhYmxlRWFzaW5nRnVuY3Rpb25cIixudWxsKSx0fSgpLFNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX2FjdG9ycz1bXSx0aGlzLl9xdWV1ZXM9W10sbnVsbCE9PWFyZ3VtZW50cyYmKHRoaXMuX2FjdG9ycz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCksdGhpcy5fcXVldWVzPXRoaXMuX2FjdG9ycy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFjdGlvblF1ZXVlfSkpKX1yZXR1cm4gdC5wcm90b3R5cGUuY2xlYXJBY3Rpb25zPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX3F1ZXVlcy5sZW5ndGgsZT0wO2U8dDtlKyspdGhpcy5fcXVldWVzW2VdLmNsZWFyQWN0aW9ucygpfSx0LnByb3RvdHlwZS5hZGRBY3RvclRvQ29udGV4dD1mdW5jdGlvbih0KXt0aGlzLl9hY3RvcnMucHVzaCh0KSx0aGlzLl9xdWV1ZXMucHVzaCh0LmFjdGlvblF1ZXVlKX0sdC5wcm90b3R5cGUucmVtb3ZlQWN0b3JGcm9tQ29udGV4dD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9hY3RvcnMuaW5kZXhPZih0KTtlPi0xJiYodGhpcy5fYWN0b3JzLnNwbGljZShlLDEpLHRoaXMuX3F1ZXVlcy5zcGxpY2UoZSwxKSl9LHQucHJvdG90eXBlLmVhc2VUbz1mdW5jdGlvbih0LGUsaSxuKXt2b2lkIDA9PT1uJiYobj1QZS5MaW5lYXIpO2Zvcih2YXIgcj10aGlzLl9xdWV1ZXMubGVuZ3RoLG89MDtvPHI7bysrKXRoaXMuX3F1ZXVlc1tvXS5hZGQobmV3IG9lKHRoaXMuX2FjdG9yc1tvXSx0LGUsaSxuKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPXRoaXMuX3F1ZXVlcy5sZW5ndGgscj0wO3I8bjtyKyspdGhpcy5fcXVldWVzW3JdLmFkZChuZXcgc2UodGhpcy5fYWN0b3JzW3JdLHQsZSxpKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLm1vdmVCeT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPXRoaXMuX3F1ZXVlcy5sZW5ndGgscj0wO3I8bjtyKyspdGhpcy5fcXVldWVzW3JdLmFkZChuZXcgYWUodGhpcy5fYWN0b3JzW3JdLHQsZSxpKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnJvdGF0ZVRvPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49dGhpcy5fcXVldWVzLmxlbmd0aCxyPTA7cjxuO3IrKyl0aGlzLl9xdWV1ZXNbcl0uYWRkKG5ldyB1ZSh0aGlzLl9hY3RvcnNbcl0sdCxlLGkpKTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUucm90YXRlQnk9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj10aGlzLl9xdWV1ZXMubGVuZ3RoLHI9MDtyPG47cisrKXRoaXMuX3F1ZXVlc1tyXS5hZGQobmV3IGxlKHRoaXMuX2FjdG9yc1tyXSx0LGUsaSkpO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5zY2FsZVRvPWZ1bmN0aW9uKHQsZSxpLG4pe2Zvcih2YXIgcj10aGlzLl9xdWV1ZXMubGVuZ3RoLG89MDtvPHI7bysrKXRoaXMuX3F1ZXVlc1tvXS5hZGQobmV3IHBlKHRoaXMuX2FjdG9yc1tvXSx0LGUsaSxuKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnNjYWxlQnk9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj10aGlzLl9xdWV1ZXMubGVuZ3RoLHI9MDtyPG47cisrKXRoaXMuX3F1ZXVlc1tyXS5hZGQobmV3IGRlKHRoaXMuX2FjdG9yc1tyXSx0LGUsaSkpO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5ibGluaz1mdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09aSYmKGk9MSk7Zm9yKHZhciBuPXRoaXMuX3F1ZXVlcy5sZW5ndGgscj0wO3I8bjtyKyspdGhpcy5fcXVldWVzW3JdLmFkZChuZXcgZ2UodGhpcy5fYWN0b3JzW3JdLHQsZSxpKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmZhZGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5fcXVldWVzLmxlbmd0aCxuPTA7bjxpO24rKyl0aGlzLl9xdWV1ZXNbbl0uYWRkKG5ldyB5ZSh0aGlzLl9hY3RvcnNbbl0sdCxlKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmRlbGF5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9xdWV1ZXMubGVuZ3RoLGk9MDtpPGU7aSsrKXRoaXMuX3F1ZXVlc1tpXS5hZGQobmV3IGZlKHRoaXMuX2FjdG9yc1tpXSx0KSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmRpZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9xdWV1ZXMubGVuZ3RoLGU9MDtlPHQ7ZSsrKXRoaXMuX3F1ZXVlc1tlXS5hZGQobmV3IF9lKHRoaXMuX2FjdG9yc1tlXSkpO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5jYWxsTWV0aG9kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9xdWV1ZXMubGVuZ3RoLGk9MDtpPGU7aSsrKXRoaXMuX3F1ZXVlc1tpXS5hZGQobmV3IHZlKHRoaXMuX2FjdG9yc1tpXSx0KSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnJlcGVhdD1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gdGhpcy5yZXBlYXRGb3JldmVyKCksdGhpcztmb3IodmFyIGU9dGhpcy5fcXVldWVzLmxlbmd0aCxpPTA7aTxlO2krKyl0aGlzLl9xdWV1ZXNbaV0uYWRkKG5ldyBtZSh0aGlzLl9hY3RvcnNbaV0sdCx0aGlzLl9hY3RvcnNbaV0uYWN0aW9uUXVldWUuZ2V0QWN0aW9ucygpKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnJlcGVhdEZvcmV2ZXI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fcXVldWVzLmxlbmd0aCxlPTA7ZTx0O2UrKyl0aGlzLl9xdWV1ZXNbZV0uYWRkKG5ldyBiZSh0aGlzLl9hY3RvcnNbZV0sdGhpcy5fYWN0b3JzW2VdLmFjdGlvblF1ZXVlLmdldEFjdGlvbnMoKSkpO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5mb2xsb3c9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5fcXVldWVzLmxlbmd0aCxuPTA7bjxpO24rKyl2b2lkIDA9PT1lP3RoaXMuX3F1ZXVlc1tuXS5hZGQobmV3IGNlKHRoaXMuX2FjdG9yc1tuXSx0KSk6dGhpcy5fcXVldWVzW25dLmFkZChuZXcgY2UodGhpcy5fYWN0b3JzW25dLHQsZSkpO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5tZWV0PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMuX3F1ZXVlcy5sZW5ndGgsbj0wO248aTtuKyspdm9pZCAwPT09ZT90aGlzLl9xdWV1ZXNbbl0uYWRkKG5ldyBoZSh0aGlzLl9hY3RvcnNbbl0sdCkpOnRoaXMuX3F1ZXVlc1tuXS5hZGQobmV3IGhlKHRoaXMuX2FjdG9yc1tuXSx0LGUpKTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuYXNQcm9taXNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuX3F1ZXVlcy5tYXAoKGZ1bmN0aW9uKGUsaSl7dmFyIG49bmV3IGQ7cmV0dXJuIGUuYWRkKG5ldyB2ZSh0Ll9hY3RvcnNbaV0sKGZ1bmN0aW9uKCl7bi5yZXNvbHZlKCl9KSkpLG59KSk7cmV0dXJuIGQuam9pbi5hcHBseSh0aGlzLGUpfSx0fSgpOyFmdW5jdGlvbih0KXt0LlByZXZlbnRDb2xsaXNpb249XCJQcmV2ZW50Q29sbGlzaW9uXCIsdC5QYXNzaXZlPVwiUGFzc2l2ZVwiLHQuQWN0aXZlPVwiQWN0aXZlXCIsdC5GaXhlZD1cIkZpeGVkXCJ9KG5lfHwobmU9e30pKTt2YXIgRWUsQWUsQ2UsT2U9ZnVuY3Rpb24odCxlLGksbil7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PW4/bj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsaSk6bjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLGksbik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkocj10W2FdKSYmKHM9KG88Mz9yKHMpOm8+Mz9yKGUsaSxzKTpyKGUsaSkpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHMpLHN9OyFmdW5jdGlvbih0KXt0W3QuQm94PTBdPVwiQm94XCIsdFt0LlJpZ2lkQm9keT0xXT1cIlJpZ2lkQm9keVwifShFZXx8KEVlPXt9KSksZnVuY3Rpb24odCl7dFt0Lk5haXZlPTBdPVwiTmFpdmVcIix0W3QuRHluYW1pY0FBQkJUcmVlPTFdPVwiRHluYW1pY0FBQkJUcmVlXCJ9KEFlfHwoQWU9e30pKSxmdW5jdGlvbih0KXt0W3QuRXVsZXI9MF09XCJFdWxlclwifShDZXx8KENlPXt9KSk7dmFyIFRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC51c2VCb3hQaHlzaWNzPWZ1bmN0aW9uKCl7dC5jb2xsaXNpb25SZXNvbHV0aW9uU3RyYXRlZ3k9RWUuQm94fSx0LnVzZVJpZ2lkQm9keVBoeXNpY3M9ZnVuY3Rpb24oKXt0LmNvbGxpc2lvblJlc29sdXRpb25TdHJhdGVneT1FZS5SaWdpZEJvZHl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZHluYW1pY1RyZWVWZWxvY2l0eU11bHRpcGx5ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZHluYW1pY1RyZWVWZWxvY2l0eU11bHRpcGxpZXJ9LHNldDpmdW5jdGlvbihlKXt0LmR5bmFtaWNUcmVlVmVsb2NpdHlNdWx0aXBsaWVyPWV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5hY2M9bmV3IFYoMCwwKSx0LmVuYWJsZWQ9ITAsdC5jb2xsaXNpb25QYXNzZXM9NSx0LmJyb2FkcGhhc2VTdHJhdGVneT1BZS5EeW5hbWljQUFCQlRyZWUsdC5icm9hZHBoYXNlRGVidWc9ITEsdC5zaG93Q29sbGlzaW9uTm9ybWFscz0hMSx0LnNob3dNb3Rpb25WZWN0b3JzPSExLHQuc2hvd0JvdW5kcz0hMSx0LnNob3dBcmVhPSExLHQuc2hvd0NvbnRhY3RzPSExLHQuc2hvd05vcm1hbHM9ITEsdC5jb2xsaXNpb25SZXNvbHV0aW9uU3RyYXRlZ3k9RWUuQm94LHQuZGVmYXVsdE1hc3M9MTAsdC5pbnRlZ3JhdG9yPUNlLkV1bGVyLHQuaW50ZWdyYXRpb25TdGVwcz0xLHQuYWxsb3dSaWdpZEJvZHlSb3RhdGlvbj0hMCx0LmNvbGxpc2lvblNoaWZ0PS4wMDEsdC5keW5hbWljVHJlZVZlbG9jaXR5TXVsdGlwbGllcj0yLHQuYm91bmRzUGFkZGluZz01LHQuc3VyZmFjZUVwc2lsb249LjEsdC5jaGVja0ZvckZhc3RCb2RpZXM9ITAsdC5kaXNhYmxlTWluaW11bVNwZWVkRm9yRmFzdEJvZHk9ITEsT2UoW04oe21lc3NhZ2U6XCJBbGlhcyBmb3IgaW5jb3JyZWN0IHNwZWxsaW5nIHVzZWQgaW4gb2xkZXIgdmVyc2lvbnMsIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNS4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiZHluYW1pY1RyZWVWZWxvY2l0eU11bHRpcGxpZXJcIn0pXSx0LFwiZHluYW1pY1RyZWVWZWxvY2l0eU11bHRpcGx5ZXJcIixudWxsKSx0fSgpLE1lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSxuKXt2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT0wKSx2b2lkIDA9PT1uJiYobj0wKSxcIm9iamVjdFwiPT10eXBlb2YgdD8odGhpcy5sZWZ0PXQubGVmdCx0aGlzLnRvcD10LnRvcCx0aGlzLnJpZ2h0PXQucmlnaHQsdGhpcy5ib3R0b209dC5ib3R0b20pOlwibnVtYmVyXCI9PXR5cGVvZiB0JiYodGhpcy5sZWZ0PXQsdGhpcy50b3A9ZSx0aGlzLnJpZ2h0PWksdGhpcy5ib3R0b209bil9cmV0dXJuIHQuZ2V0U2lkZUZyb21JbnRlcnNlY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQ/TWF0aC5hYnModC54KT5NYXRoLmFicyh0LnkpP3QueDwwP3AuUmlnaHQ6cC5MZWZ0OnQueTwwP3AuQm90dG9tOnAuVG9wOnAuTm9uZX0sdC5mcm9tUG9pbnRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgaT0xLzAsbj0xLzAscj0tMS8wLG89LTEvMCxzPTA7czxlLmxlbmd0aDtzKyspZVtzXS54PGkmJihpPWVbc10ueCksZVtzXS54PnImJihyPWVbc10ueCksZVtzXS55PG4mJihuPWVbc10ueSksZVtzXS55Pm8mJihvPWVbc10ueSk7cmV0dXJuIG5ldyB0KGksbixyLG8pfSx0LmZyb21EaW1lbnNpb249ZnVuY3Rpb24oZSxpLG4scil7cmV0dXJuIHZvaWQgMD09PW4mJihuPVYuSGFsZiksdm9pZCAwPT09ciYmKHI9Vi5aZXJvKSxuZXcgdCgtZSpuLngrci54LC1pKm4ueStyLnksZS1lKm4ueCtyLngsaS1pKm4ueStyLnkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yaWdodC10aGlzLmxlZnR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvdHRvbS10aGlzLnRvcH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjZW50ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBWKCh0aGlzLmxlZnQrdGhpcy5yaWdodCkvMiwodGhpcy50b3ArdGhpcy5ib3R0b20pLzIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQodGhpcy5sZWZ0K2UueCx0aGlzLnRvcCtlLnksdGhpcy5yaWdodCtlLngsdGhpcy5ib3R0b20rZS55KX0sdC5wcm90b3R5cGUucm90YXRlPWZ1bmN0aW9uKGUsaSl7dm9pZCAwPT09aSYmKGk9Vi5aZXJvKTt2YXIgbj10aGlzLmdldFBvaW50cygpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQucm90YXRlKGUsaSl9KSk7cmV0dXJuIHQuZnJvbVBvaW50cyhuKX0sdC5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSxpKXt2b2lkIDA9PT1pJiYoaT1WLlplcm8pO3ZhciBuPXRoaXMudHJhbnNsYXRlKGkpO3JldHVybiBuZXcgdChuLmxlZnQqZS54LG4udG9wKmUueSxuLnJpZ2h0KmUueCxuLmJvdHRvbSplLnkpfSx0LnByb3RvdHlwZS5nZXRQZXJpbWV0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gMioodGhpcy53aWR0aCt0aGlzLmhlaWdodCl9LHQucHJvdG90eXBlLmdldFBvaW50cz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0LnB1c2gobmV3IFYodGhpcy5sZWZ0LHRoaXMudG9wKSksdC5wdXNoKG5ldyBWKHRoaXMucmlnaHQsdGhpcy50b3ApKSx0LnB1c2gobmV3IFYodGhpcy5yaWdodCx0aGlzLmJvdHRvbSkpLHQucHVzaChuZXcgVih0aGlzLmxlZnQsdGhpcy5ib3R0b20pKSx0fSx0LnByb3RvdHlwZS50b1BvbHlnb249ZnVuY3Rpb24odCl7dmFyIGU9bnVsbDtyZXR1cm4gdCYmdC5ib2R5JiZ0LmJvZHkuY29sbGlkZXImJihlPXQuYm9keS5jb2xsaWRlciksbmV3IEllKHtjb2xsaWRlcjplLHBvaW50czp0aGlzLmdldFBvaW50cygpLG9mZnNldDpWLlplcm99KX0sdC5wcm90b3R5cGUucmF5Q2FzdD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTEvMCk7dmFyIGk9LTEvMCxuPTEvMCxyPTA9PT10LmRpci54P051bWJlci5NQVhfVkFMVUU6MS90LmRpci54LG89MD09PXQuZGlyLnk/TnVtYmVyLk1BWF9WQUxVRToxL3QuZGlyLnkscz0odGhpcy5sZWZ0LXQucG9zLngpKnIsYT0odGhpcy5yaWdodC10LnBvcy54KSpyO2k9TWF0aC5taW4ocyxhKSxuPU1hdGgubWF4KHMsYSk7dmFyIGM9KHRoaXMudG9wLXQucG9zLnkpKm8saD0odGhpcy5ib3R0b20tdC5wb3MueSkqbztyZXR1cm4gaT1NYXRoLm1heChpLE1hdGgubWluKGMsaCkpLChuPU1hdGgubWluKG4sTWF0aC5tYXgoYyxoKSkpPj1NYXRoLm1heCgwLGkpJiZpPGV9LHQucHJvdG90eXBlLnJheUNhc3RUaW1lPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MS8wKTt2YXIgaT0tMS8wLG49MS8wLHI9MD09PXQuZGlyLng/TnVtYmVyLk1BWF9WQUxVRToxL3QuZGlyLngsbz0wPT09dC5kaXIueT9OdW1iZXIuTUFYX1ZBTFVFOjEvdC5kaXIueSxzPSh0aGlzLmxlZnQtdC5wb3MueCkqcixhPSh0aGlzLnJpZ2h0LXQucG9zLngpKnI7aT1NYXRoLm1pbihzLGEpLG49TWF0aC5tYXgocyxhKTt2YXIgYz0odGhpcy50b3AtdC5wb3MueSkqbyxoPSh0aGlzLmJvdHRvbS10LnBvcy55KSpvO3JldHVybiBpPU1hdGgubWF4KGksTWF0aC5taW4oYyxoKSksKG49TWF0aC5taW4obixNYXRoLm1heChjLGgpKSk+PU1hdGgubWF4KDAsaSkmJmk8ZT9pOi0xfSx0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFY/dGhpcy5sZWZ0PD1lLngmJnRoaXMudG9wPD1lLnkmJnRoaXMuYm90dG9tPj1lLnkmJnRoaXMucmlnaHQ+PWUueDplIGluc3RhbmNlb2YgdCYmKHRoaXMubGVmdDxlLmxlZnQmJnRoaXMudG9wPGUudG9wJiZlLmJvdHRvbTx0aGlzLmJvdHRvbSYmZS5yaWdodDx0aGlzLnJpZ2h0KX0sdC5wcm90b3R5cGUuY29tYmluZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQoTWF0aC5taW4odGhpcy5sZWZ0LGUubGVmdCksTWF0aC5taW4odGhpcy50b3AsZS50b3ApLE1hdGgubWF4KHRoaXMucmlnaHQsZS5yaWdodCksTWF0aC5tYXgodGhpcy5ib3R0b20sZS5ib3R0b20pKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZGltZW5zaW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFYodGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuaW50ZXJzZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29tYmluZSh0KTtpZihlLndpZHRoPHQud2lkdGgrdGhpcy53aWR0aCYmZS5oZWlnaHQ8dC5oZWlnaHQrdGhpcy5oZWlnaHQmJiFlLmRpbWVuc2lvbnMuZXF1YWxzKHQuZGltZW5zaW9ucykmJiFlLmRpbWVuc2lvbnMuZXF1YWxzKHRoaXMuZGltZW5zaW9ucykpe3ZhciBpPTA7aT10aGlzLnJpZ2h0Pj10LmxlZnQmJnRoaXMucmlnaHQ8PXQucmlnaHQ/dC5sZWZ0LXRoaXMucmlnaHQ6dC5yaWdodC10aGlzLmxlZnQ7dmFyIG49MDtyZXR1cm4gbj10aGlzLnRvcDw9dC5ib3R0b20mJnRoaXMudG9wPj10LnRvcD90LmJvdHRvbS10aGlzLnRvcDp0LnRvcC10aGlzLmJvdHRvbSxNYXRoLmFicyhpKTxNYXRoLmFicyhuKT9uZXcgVihpLDApOm5ldyBWKDAsbil9aWYoZS5kaW1lbnNpb25zLmVxdWFscyh0LmRpbWVuc2lvbnMpfHxlLmRpbWVuc2lvbnMuZXF1YWxzKHRoaXMuZGltZW5zaW9ucykpe2k9MDtpPXRoaXMud2lkdGgtdC53aWR0aD49MD90aGlzLnJpZ2h0LXQucmlnaHQ8PXQubGVmdC10aGlzLmxlZnQ/dC5sZWZ0LXRoaXMucmlnaHQ6dC5yaWdodC10aGlzLmxlZnQ6dC5yaWdodC10aGlzLnJpZ2h0PD10aGlzLmxlZnQtdC5sZWZ0P3RoaXMubGVmdC10LnJpZ2h0OnRoaXMucmlnaHQtdC5sZWZ0O249MDtyZXR1cm4gbj10aGlzLmhlaWdodC10LmhlaWdodD49MD90aGlzLmJvdHRvbS10LmJvdHRvbTw9dC50b3AtdGhpcy50b3A/dC50b3AtdGhpcy5ib3R0b206dC5ib3R0b20tdGhpcy50b3A6dC5ib3R0b20tdGhpcy5ib3R0b208PXRoaXMudG9wLXQudG9wP3RoaXMudG9wLXQuYm90dG9tOnRoaXMuYm90dG9tLXQudG9wLE1hdGguYWJzKGkpPE1hdGguYWJzKG4pP25ldyBWKGksMCk6bmV3IFYoMCxuKX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuaW50ZXJzZWN0V2l0aFNpZGU9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5pbnRlcnNlY3QoZSk7cmV0dXJuIHQuZ2V0U2lkZUZyb21JbnRlcnNlY3Rpb24oaSl9LHQucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPUx0LlllbGxvdyksdC5zdHJva2VTdHlsZT1lLnRvU3RyaW5nKCksdC5zdHJva2VSZWN0KHRoaXMubGVmdCx0aGlzLnRvcCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sdH0oKSxEZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGksbixyKXt0aGlzLmNvbGxpZGVyQT10LHRoaXMuY29sbGlkZXJCPWUsdGhpcy5tdHY9aSx0aGlzLnBvaW50PW4sdGhpcy5ub3JtYWw9cn1yZXR1cm4gdC5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXtpZih0PT09RWUuUmlnaWRCb2R5KXRoaXMuX3Jlc29sdmVSaWdpZEJvZHlDb2xsaXNpb24oKTtlbHNle2lmKHQhPT1FZS5Cb3gpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb2xsaXNpb24gcmVzb2x1dGlvbiBzdHJhdGVneVwiKTt0aGlzLl9yZXNvbHZlQm94Q29sbGlzaW9uKCl9fSx0LnByb3RvdHlwZS5fYXBwbHlCb3hJbXB1bHNlPWZ1bmN0aW9uKHQsZSxpKXtpZih0LnR5cGU9PT1uZS5BY3RpdmUmJmUudHlwZSE9PW5lLlBhc3NpdmUpe3QudHlwZT09PW5lLkFjdGl2ZSYmZS50eXBlPT09bmUuQWN0aXZlJiYoaT1pLnNjYWxlKC41KSksdC5ib2R5LnBvcy55Kz1pLnksdC5ib2R5LnBvcy54Kz1pLng7dmFyIG49aS5ub3JtYWxpemUoKTtpZihuLmRvdCh0LmJvZHkudmVsKTwwKXt2YXIgcj1uLnNjYWxlKG4uZG90KHQuYm9keS52ZWwubmVnYXRlKCkpKTt0LmJvZHkudmVsPXQuYm9keS52ZWwuYWRkKHIpfXQuZW1pdChcInBvc3Rjb2xsaXNpb25cIixuZXcgUHQodCxlLE0oaSksaSkpfX0sdC5wcm90b3R5cGUuX3Jlc29sdmVCb3hDb2xsaXNpb249ZnVuY3Rpb24oKXt2YXIgdD1NKHRoaXMubXR2KSxlPXRoaXMubXR2Lm5lZ2F0ZSgpO3RoaXMuY29sbGlkZXJBLmVtaXQoXCJwcmVjb2xsaXNpb25cIixuZXcgeHQodGhpcy5jb2xsaWRlckEsdGhpcy5jb2xsaWRlckIsdCxlKSksdGhpcy5jb2xsaWRlckIuZW1pdChcInByZWNvbGxpc2lvblwiLG5ldyB4dCh0aGlzLmNvbGxpZGVyQix0aGlzLmNvbGxpZGVyQSxUKHQpLGUubmVnYXRlKCkpKSx0aGlzLl9hcHBseUJveEltcHVsc2UodGhpcy5jb2xsaWRlckEsdGhpcy5jb2xsaWRlckIsZSksdGhpcy5fYXBwbHlCb3hJbXB1bHNlKHRoaXMuY29sbGlkZXJCLHRoaXMuY29sbGlkZXJBLGUubmVnYXRlKCkpfSx0LnByb3RvdHlwZS5fcmVzb2x2ZVJpZ2lkQm9keUNvbGxpc2lvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29sbGlkZXJBLmJvZHksZT10aGlzLmNvbGxpZGVyQi5ib2R5LGk9dGhpcy5tdHYsbj10aGlzLm5vcm1hbDtpZih0IT09ZSl7dmFyIHI9TSh0aGlzLm10dik7aWYodGhpcy5jb2xsaWRlckEuZW1pdChcInByZWNvbGxpc2lvblwiLG5ldyB4dCh0aGlzLmNvbGxpZGVyQSx0aGlzLmNvbGxpZGVyQixyLHRoaXMubXR2KSksdGhpcy5jb2xsaWRlckIuZW1pdChcInByZWNvbGxpc2lvblwiLG5ldyB4dCh0aGlzLmNvbGxpZGVyQix0aGlzLmNvbGxpZGVyQSxUKHIpLHRoaXMubXR2Lm5lZ2F0ZSgpKSksdGhpcy5jb2xsaWRlckEudHlwZSE9PW5lLlBhc3NpdmUmJnRoaXMuY29sbGlkZXJCLnR5cGUhPT1uZS5QYXNzaXZlKXt2YXIgbz10aGlzLmNvbGxpZGVyQS50eXBlPT09bmUuRml4ZWQ/MDoxL3RoaXMuY29sbGlkZXJBLm1hc3Mscz10aGlzLmNvbGxpZGVyQi50eXBlPT09bmUuRml4ZWQ/MDoxL3RoaXMuY29sbGlkZXJCLm1hc3MsYT10aGlzLmNvbGxpZGVyQS50eXBlPT09bmUuRml4ZWQ/MDoxL3RoaXMuY29sbGlkZXJBLmluZXJ0aWEsYz10aGlzLmNvbGxpZGVyQi50eXBlPT09bmUuRml4ZWQ/MDoxL3RoaXMuY29sbGlkZXJCLmluZXJ0aWEsaD1NYXRoLm1pbih0aGlzLmNvbGxpZGVyQS5ib3VuY2luZXNzLHRoaXMuY29sbGlkZXJCLmJvdW5jaW5lc3MpLHU9TWF0aC5taW4odGhpcy5jb2xsaWRlckEuZnJpY3Rpb24sdGhpcy5jb2xsaWRlckIuZnJpY3Rpb24pLGw9KG49bi5ub3JtYWxpemUoKSkubm9ybWFsKCkubm9ybWFsaXplKCkscD10aGlzLnBvaW50LnN1Yih0aGlzLmNvbGxpZGVyQS5jZW50ZXIpLGQ9dGhpcy5wb2ludC5zdWIodGhpcy5jb2xsaWRlckIuY2VudGVyKSxmPWUudmVsLmFkZChkLmNyb3NzKC1lLnJ4KSkuc3ViKHQudmVsLnN1YihwLmNyb3NzKHQucngpKSksZz1mLmRvdChuKSx5PWYuZG90KGwpLF89cC5kb3QobCksdj1wLmRvdChuKSxtPWQuZG90KGwpLGI9ZC5kb3Qobik7aWYoIShnPjApKXt2YXIgdz0tKDEraCkqZy8obytzK2EqXypfK2MqbSptKTtpZih0aGlzLmNvbGxpZGVyQS50eXBlPT09bmUuRml4ZWQ/KGUudmVsPWUudmVsLmFkZChuLnNjYWxlKHcqcykpLFRlLmFsbG93UmlnaWRCb2R5Um90YXRpb24mJihlLnJ4LT13KmMqLWQuY3Jvc3MobikpLGUuYWRkTXR2KGkpKTp0aGlzLmNvbGxpZGVyQi50eXBlPT09bmUuRml4ZWQ/KHQudmVsPXQudmVsLnN1YihuLnNjYWxlKHcqbykpLFRlLmFsbG93UmlnaWRCb2R5Um90YXRpb24mJih0LnJ4Kz13KmEqLXAuY3Jvc3MobikpLHQuYWRkTXR2KGkubmVnYXRlKCkpKTooZS52ZWw9ZS52ZWwuYWRkKG4uc2NhbGUodypzKSksdC52ZWw9dC52ZWwuc3ViKG4uc2NhbGUodypvKSksVGUuYWxsb3dSaWdpZEJvZHlSb3RhdGlvbiYmKGUucngtPXcqYyotZC5jcm9zcyhuKSx0LnJ4Kz13KmEqLXAuY3Jvc3MobikpLGUuYWRkTXR2KGkuc2NhbGUoLjUpKSx0LmFkZE10dihpLnNjYWxlKC0uNSkpKSx1JiZ5KXt2YXIgeD1mLnN1YihuLnNjYWxlKGYuZG90KG4pKSkubm9ybWFsaXplKCksUD1mLmRvdCh4KS8obytzK3YqdiphK2IqYipjKSxTPW5ldyBWKDAsMCk7Uz1NYXRoLmFicyhQKTw9dyp1P3guc2NhbGUoUCkubmVnYXRlKCk6eC5zY2FsZSgtdyp1KSx0aGlzLmNvbGxpZGVyQS50eXBlPT09bmUuRml4ZWQ/KGUudmVsPWUudmVsLmFkZChTLnNjYWxlKHMpKSxUZS5hbGxvd1JpZ2lkQm9keVJvdGF0aW9uJiYoZS5yeCs9Uy5kb3QoeCkqYypkLmNyb3NzKHgpKSk6dGhpcy5jb2xsaWRlckIudHlwZT09PW5lLkZpeGVkPyh0LnZlbD10LnZlbC5zdWIoUy5zY2FsZShvKSksVGUuYWxsb3dSaWdpZEJvZHlSb3RhdGlvbiYmKHQucngtPVMuZG90KHgpKmEqcC5jcm9zcyh4KSkpOihlLnZlbD1lLnZlbC5hZGQoUy5zY2FsZShzKSksdC52ZWw9dC52ZWwuc3ViKFMuc2NhbGUobykpLFRlLmFsbG93UmlnaWRCb2R5Um90YXRpb24mJihlLnJ4Kz1TLmRvdCh4KSpjKmQuY3Jvc3MoeCksdC5yeC09Uy5kb3QoeCkqYSpwLmNyb3NzKHgpKSl9dGhpcy5jb2xsaWRlckEuZW1pdChcInBvc3Rjb2xsaXNpb25cIixuZXcgUHQodGhpcy5jb2xsaWRlckEsdGhpcy5jb2xsaWRlckIscix0aGlzLm10dikpLHRoaXMuY29sbGlkZXJCLmVtaXQoXCJwb3N0Y29sbGlzaW9uXCIsbmV3IFB0KHRoaXMuY29sbGlkZXJCLHRoaXMuY29sbGlkZXJBLFQociksdGhpcy5tdHYubmVnYXRlKCkpKX19fX0sdH0oKSxrZT17Q29sbGlkZUNpcmNsZUNpcmNsZTpmdW5jdGlvbih0LGUpe3ZhciBpPXQucmFkaXVzK2UucmFkaXVzLG49dC53b3JsZFBvcyxyPWUud29ybGRQb3M7aWYobi5kaXN0YW5jZShyKT5pKXJldHVybiBudWxsO3ZhciBvPXIuc3ViKG4pLm5vcm1hbGl6ZSgpLHM9by5zY2FsZShpLXIuZGlzdGFuY2UobikpLGE9dC5nZXRGdXJ0aGVzdFBvaW50KG8pO3JldHVybiBuZXcgRGUodC5jb2xsaWRlcixlLmNvbGxpZGVyLHMsYSxvKX0sQ29sbGlkZUNpcmNsZVBvbHlnb246ZnVuY3Rpb24odCxlKXt2YXIgaT10LnRlc3RTZXBhcmF0aW5nQXhpc1RoZW9yZW0oZSk7aWYoIWkpcmV0dXJuIG51bGw7dmFyIG49aS5kb3QoZS5jZW50ZXIuc3ViKHQuY2VudGVyKSk7aT1uPDA/aS5uZWdhdGUoKTppO3ZhciByPVtdLG89ZS5nZXRGdXJ0aGVzdFBvaW50KGkubmVnYXRlKCkpLHM9dC5nZXRGdXJ0aGVzdFBvaW50KGkpO3JldHVybiB0LmNvbnRhaW5zKG8pJiZyLnB1c2gobyksZS5jb250YWlucyhzKSYmci5wdXNoKHMpLDA9PT1yLmxlbmd0aD9udWxsOm5ldyBEZSh0LmNvbGxpZGVyLGUuY29sbGlkZXIsaSwyPT09ci5sZW5ndGg/clswXS5hdmVyYWdlKHJbMV0pOnJbMF0saS5ub3JtYWxpemUoKSl9LENvbGxpZGVDaXJjbGVFZGdlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5jZW50ZXIsbj1lLmVuZC5zdWIoZS5iZWdpbikscj1uLmRvdChlLmVuZC5zdWIoaSkpLG89bi5kb3QoaS5zdWIoZS5iZWdpbikpO2lmKG88PTApe3ZhciBzPWUuYmVnaW4uc3ViKGkpLGE9cy5kb3Qocyk7cmV0dXJuIGE+dC5yYWRpdXMqdC5yYWRpdXM/bnVsbDpuZXcgRGUodC5jb2xsaWRlcixlLmNvbGxpZGVyLHMubm9ybWFsaXplKCkuc2NhbGUodC5yYWRpdXMtTWF0aC5zcXJ0KGEpKSxlLmJlZ2luLHMubm9ybWFsaXplKCkpfWlmKHI8PTApe3ZhciBjPWUuZW5kLnN1YihpKSxoPWMuZG90KGMpO3JldHVybiBoPnQucmFkaXVzKnQucmFkaXVzP251bGw6bmV3IERlKHQuY29sbGlkZXIsZS5jb2xsaWRlcixjLm5vcm1hbGl6ZSgpLnNjYWxlKHQucmFkaXVzLU1hdGguc3FydChoKSksZS5lbmQsYy5ub3JtYWxpemUoKSl9dmFyIHU9bi5kb3QobiksbD1lLmJlZ2luLnNjYWxlKHIpLmFkZChlLmVuZC5zY2FsZShvKSkuc2NhbGUoMS91KSxwPWkuc3ViKGwpLGQ9cC5kb3QocCk7aWYoZD50LnJhZGl1cyp0LnJhZGl1cylyZXR1cm4gbnVsbDt2YXIgZj1uLnBlcnBlbmRpY3VsYXIoKTtmLmRvdChpLnN1YihlLmJlZ2luKSk8MCYmKGYueD0tZi54LGYueT0tZi55KTt2YXIgZz0oZj1mLm5vcm1hbGl6ZSgpKS5zY2FsZShNYXRoLmFicyh0LnJhZGl1cy1NYXRoLnNxcnQoZCkpKTtyZXR1cm4gbmV3IERlKHQuY29sbGlkZXIsZS5jb2xsaWRlcixnLm5lZ2F0ZSgpLGwsZi5uZWdhdGUoKSl9LENvbGxpZGVFZGdlRWRnZTpmdW5jdGlvbigpe3JldHVybiBudWxsfSxDb2xsaWRlUG9seWdvbkVkZ2U6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmVuZC5zdWIoZS5iZWdpbikubm9ybWFsKCk7aWYodC5jb250YWlucyhlLmJlZ2luKSl7dmFyIG49dC5nZXRDbG9zZXN0RmFjZShlLmJlZ2luKSxyPW4uZGlzdGFuY2Usbz1uLmZhY2U7aWYocilyZXR1cm4gbmV3IERlKHQuY29sbGlkZXIsZS5jb2xsaWRlcixyLm5lZ2F0ZSgpLGUuYmVnaW4uYWRkKHIubmVnYXRlKCkpLG8ubm9ybWFsKCkubmVnYXRlKCkpfWlmKHQuY29udGFpbnMoZS5lbmQpKXt2YXIgcz10LmdldENsb3Nlc3RGYWNlKGUuZW5kKTtyPXMuZGlzdGFuY2Usbz1zLmZhY2U7aWYocilyZXR1cm4gbmV3IERlKHQuY29sbGlkZXIsZS5jb2xsaWRlcixyLm5lZ2F0ZSgpLGUuZW5kLmFkZChyLm5lZ2F0ZSgpKSxvLm5vcm1hbCgpLm5lZ2F0ZSgpKX12YXIgYT10LmNlbnRlcixjPWUuY2VudGVyLnN1YihhKS5ub3JtYWxpemUoKSxoPW5ldyBJZSh7Y29sbGlkZXI6ZS5jb2xsaWRlcixwb2ludHM6W2UuYmVnaW4sZS5lbmQsZS5lbmQuYWRkKGMuc2NhbGUoMzApKSxlLmJlZ2luLmFkZChjLnNjYWxlKDMwKSldfSksdT10LnRlc3RTZXBhcmF0aW5nQXhpc1RoZW9yZW0oaCk7cmV0dXJuIHU/KGk9aS5kb3QoYyk8MD9pLm5lZ2F0ZSgpOmksdT11LmRvdChjKTwwP3UubmVnYXRlKCk6dSxuZXcgRGUodC5jb2xsaWRlcixlLmNvbGxpZGVyLHUsdC5nZXRGdXJ0aGVzdFBvaW50KGkpLGkpKTpudWxsfSxDb2xsaWRlUG9seWdvblBvbHlnb246ZnVuY3Rpb24odCxlKXt2YXIgaT10LnRlc3RTZXBhcmF0aW5nQXhpc1RoZW9yZW0oZSk7aWYoIWkpcmV0dXJuIG51bGw7dmFyIG49aS5kb3QoZS5jZW50ZXIuc3ViKHQuY2VudGVyKSk7aT1uPDA/aS5uZWdhdGUoKTppO3ZhciByPVtdLG89dC5nZXRGdXJ0aGVzdFBvaW50KGkpLHM9ZS5nZXRGdXJ0aGVzdFBvaW50KGkubmVnYXRlKCkpO2UuY29udGFpbnMobykmJnIucHVzaChvKSx0LmNvbnRhaW5zKHMpJiZyLnB1c2gocyksMD09PXIubGVuZ3RoJiZyLnB1c2gocyk7dmFyIGE9Mj09PXIubGVuZ3RoP3JbMF0uYWRkKHJbMV0pLnNjYWxlKC41KTpyWzBdO3JldHVybiBuZXcgRGUodC5jb2xsaWRlcixlLmNvbGxpZGVyLGksYSxpLm5vcm1hbGl6ZSgpKX19O2Z1bmN0aW9uIEJlKHQsZSxpLG4pe3ZhciByPXQuc3ViKGkpLG89ZS5kb3QoZSkscz1lLmRvdChuKSxhPW4uZG90KG4pLGM9ZS5kb3QociksaD1uLmRvdChyKSx1PW8qYS1zKnMsbD11LHA9dTtpZigwPT09dXx8dTw9LjAxKXt2YXIgZD1jL3M7cmV0dXJuIG5ldyBYKHQsaS5hZGQobi5zY2FsZShkKSkpfXZhciBmPXMqaC1hKmMsZz1vKmgtcypjO3JldHVybiBmPDA/KGY9MCxnPWgscD1hKTpmPmwmJihmPWwsZz1oK3MscD1hKSxnPDA/KGc9MCwtYzwwP2Y9MDotYz5vP2Y9bDooZj0tYyxsPW8pKTpnPnAmJihnPXAsLWMrczwwP2Y9MDotYytzPm8/Zj1sOihmPS1jK3MsbD1vKSksZj1NYXRoLmFicyhmKTwuMDAxPzA6Zi9sLGc9TWF0aC5hYnMoZyk8LjAwMT8wOmcvcCxuZXcgWCh0LmFkZChlLnNjYWxlKGYpKSxpLmFkZChuLnNjYWxlKGcpKSl9dmFyIFJlPXtQb2x5Z29uUG9seWdvbkNsb3Nlc3RMaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS53b3JsZFBvcyxuPWkuc3ViKHQud29ybGRQb3MpLHI9bi5uZWdhdGUoKSxvPW5ldyBHKHQud29ybGRQb3Msbikscz1uZXcgRyhpLHIpLGE9dC5yYXlDYXN0KG8pLmFkZChvLmRpci5zY2FsZSguMSkpLGM9ZS5yYXlDYXN0KHMpLmFkZChzLmRpci5zY2FsZSguMSkpLGg9dC5nZXRDbG9zZXN0RmFjZShhKSx1PWUuZ2V0Q2xvc2VzdEZhY2UoYyk7cmV0dXJuIEJlKGguZmFjZS5iZWdpbixoLmZhY2UuZ2V0RWRnZSgpLHUuZmFjZS5iZWdpbix1LmZhY2UuZ2V0RWRnZSgpKX0sUG9seWdvbkVkZ2VDbG9zZXN0TGluZTpmdW5jdGlvbih0LGUpe3ZhciBpPWUud29ybGRQb3Muc3ViKHQud29ybGRQb3MpLG49bmV3IEcodC53b3JsZFBvcyxpKSxyPXQucmF5Q2FzdChuKS5hZGQobi5kaXIuc2NhbGUoLjEpKSxvPXQuZ2V0Q2xvc2VzdEZhY2Uocikscz1vLmZhY2UuYmVnaW4sYT1vLmZhY2UuZ2V0RWRnZSgpLGM9ZS5hc0xpbmUoKTtyZXR1cm4gQmUocyxhLGMuYmVnaW4sYy5nZXRFZGdlKCkpfSxQb2x5Z29uQ2lyY2xlQ2xvc2VzdExpbmU6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLndvcmxkUG9zLG49aS5zdWIodC53b3JsZFBvcykscj1uZXcgRyh0LndvcmxkUG9zLG4ubm9ybWFsaXplKCkpLG89dC5yYXlDYXN0KHIpLmFkZChyLmRpci5zY2FsZSguMSkpLHM9dC5nZXRDbG9zZXN0RmFjZShvKSxhPXMuZmFjZS5iZWdpbixjPXMuZmFjZS5nZXRFZGdlKCksaD0oYy54KihpLngtYS54KStjLnkqKGkueS1hLnkpKS8oYy54KmMueCtjLnkqYy55KTtoPjE/aD0xOmg8MCYmKGg9MCk7dmFyIHU9TWF0aC5zcXJ0KE1hdGgucG93KGEueCtjLngqaC1pLngsMikrTWF0aC5wb3coYS55K2MueSpoLWkueSwyKSktZS5yYWRpdXMsbD0oYS54K2MueCpoLWkueCkqZS5yYWRpdXMvKGUucmFkaXVzK3UpLHA9KGEueStjLnkqaC1pLnkpKmUucmFkaXVzLyhlLnJhZGl1cyt1KTtyZXR1cm4gbmV3IFgoYy5zY2FsZShoKS5hZGQoYSksbmV3IFYoaS54K2wsaS55K3ApKX0sQ2lyY2xlQ2lyY2xlQ2xvc2VzdExpbmU6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLndvcmxkUG9zLnN1Yih0LndvcmxkUG9zKSxuPXQud29ybGRQb3Muc3ViKGUud29ybGRQb3MpLHI9bmV3IEcodC53b3JsZFBvcyxpKSxvPW5ldyBHKGUud29ybGRQb3Msbikscz10LnJheUNhc3QociksYT1lLnJheUNhc3Qobyk7cmV0dXJuIG5ldyBYKHMsYSl9LENpcmNsZUVkZ2VDbG9zZXN0TGluZTpmdW5jdGlvbih0LGUpe3ZhciBpPXQud29ybGRQb3Msbj1lLmFzTGluZSgpLHI9bi5iZWdpbixvPW4uZ2V0RWRnZSgpLHM9KG8ueCooaS54LXIueCkrby55KihpLnktci55KSkvKG8ueCpvLngrby55Km8ueSk7cz4xP3M9MTpzPDAmJihzPTApO3ZhciBhPU1hdGguc3FydChNYXRoLnBvdyhyLngrby54KnMtaS54LDIpK01hdGgucG93KHIueStvLnkqcy1pLnksMikpLXQucmFkaXVzLGM9KHIueCtvLngqcy1pLngpKnQucmFkaXVzLyh0LnJhZGl1cythKSxoPShyLnkrby55KnMtaS55KSp0LnJhZGl1cy8odC5yYWRpdXMrYSk7cmV0dXJuIG5ldyBYKG8uc2NhbGUocykuYWRkKHIpLG5ldyBWKGkueCtjLGkueStoKSl9LEVkZ2VFZGdlQ2xvc2VzdExpbmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10LmFzTGluZSgpLG49aS5iZWdpbixyPWkuZ2V0RWRnZSgpLG89ZS5hc0xpbmUoKTtyZXR1cm4gQmUobixyLG8uYmVnaW4sby5nZXRFZGdlKCkpfX0samU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMub2Zmc2V0PVYuWmVybyx0aGlzLm9mZnNldD10Lm9mZnNldHx8Vi5aZXJvLHRoaXMucmFkaXVzPXQucmFkaXVzfHwwLHRoaXMuY29sbGlkZXI9dC5jb2xsaWRlcnx8bnVsbH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwid29ybGRQb3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sbGlkZXImJnRoaXMuY29sbGlkZXIuYm9keT90aGlzLmNvbGxpZGVyLmJvZHkucG9zLmFkZCh0aGlzLm9mZnNldCk6dGhpcy5vZmZzZXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoe29mZnNldDp0aGlzLm9mZnNldC5jbG9uZSgpLHJhZGl1czp0aGlzLnJhZGl1cyxjb2xsaWRlcjpudWxsfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNlbnRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2xsaWRlciYmdGhpcy5jb2xsaWRlci5ib2R5P3RoaXMub2Zmc2V0LmFkZCh0aGlzLmNvbGxpZGVyLmJvZHkucG9zKTp0aGlzLm9mZnNldH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9mZnNldDtyZXR1cm4gdGhpcy5jb2xsaWRlciYmdGhpcy5jb2xsaWRlci5ib2R5JiYoZT10aGlzLmNvbGxpZGVyLmJvZHkucG9zKSxlLmRpc3RhbmNlKHQpPD10aGlzLnJhZGl1c30sdC5wcm90b3R5cGUucmF5Q2FzdD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTEvMCk7dmFyIGk9dGhpcy5jZW50ZXIsbj10LmRpcixyPXQucG9zLG89TWF0aC5zcXJ0KE1hdGgucG93KG4uZG90KHIuc3ViKGkpKSwyKS1NYXRoLnBvdyhyLnN1YihpKS5kaXN0YW5jZSgpLDIpK01hdGgucG93KHRoaXMucmFkaXVzLDIpKTtpZihvPDApcmV0dXJuIG51bGw7dmFyIHM9MDtpZigwPT09bylyZXR1cm4ocz0tbi5kb3Qoci5zdWIoaSkpKT4wJiZzPGU/dC5nZXRQb2ludChzKTpudWxsO3ZhciBhPS1uLmRvdChyLnN1YihpKSkrbyxjPS1uLmRvdChyLnN1YihpKSktbyxoPVtdO2E+PTAmJmgucHVzaChhKSxjPj0wJiZoLnB1c2goYyk7dmFyIHU9TWF0aC5taW4uYXBwbHkoTWF0aCxoKTtyZXR1cm4gdTw9ZT90LmdldFBvaW50KHUpOm51bGx9LHQucHJvdG90eXBlLmdldENsb3Nlc3RMaW5lQmV0d2Vlbj1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdClyZXR1cm4gUmUuQ2lyY2xlQ2lyY2xlQ2xvc2VzdExpbmUodGhpcyxlKTtpZihlIGluc3RhbmNlb2YgSWUpcmV0dXJuIFJlLlBvbHlnb25DaXJjbGVDbG9zZXN0TGluZShlLHRoaXMpLmZsaXAoKTtpZihlIGluc3RhbmNlb2YgRmUpcmV0dXJuIFJlLkNpcmNsZUVkZ2VDbG9zZXN0TGluZSh0aGlzLGUpLmZsaXAoKTt0aHJvdyBuZXcgRXJyb3IoXCJQb2x5Z29uIGNvdWxkIG5vdCBjb2xsaWRlIHdpdGggdW5rbm93biBDb2xsaXNpb25TaGFwZSBcIit0eXBlb2YgZSl9LHQucHJvdG90eXBlLmNvbGxpZGU9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHQpcmV0dXJuIGtlLkNvbGxpZGVDaXJjbGVDaXJjbGUodGhpcyxlKTtpZihlIGluc3RhbmNlb2YgSWUpcmV0dXJuIGtlLkNvbGxpZGVDaXJjbGVQb2x5Z29uKHRoaXMsZSk7aWYoZSBpbnN0YW5jZW9mIEZlKXJldHVybiBrZS5Db2xsaWRlQ2lyY2xlRWRnZSh0aGlzLGUpO3Rocm93IG5ldyBFcnJvcihcIkNpcmNsZSBjb3VsZCBub3QgY29sbGlkZSB3aXRoIHVua25vd24gQ29sbGlzaW9uU2hhcGUgXCIrdHlwZW9mIGUpfSx0LnByb3RvdHlwZS5nZXRGdXJ0aGVzdFBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNlbnRlci5hZGQodC5ub3JtYWxpemUoKS5zY2FsZSh0aGlzLnJhZGl1cykpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJib3VuZHNcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9Vi5aZXJvO3JldHVybiB0aGlzLmNvbGxpZGVyJiZ0aGlzLmNvbGxpZGVyLmJvZHkmJih0PXRoaXMuY29sbGlkZXIuYm9keS5wb3MpLG5ldyBNZSh0aGlzLm9mZnNldC54K3QueC10aGlzLnJhZGl1cyx0aGlzLm9mZnNldC55K3QueS10aGlzLnJhZGl1cyx0aGlzLm9mZnNldC54K3QueCt0aGlzLnJhZGl1cyx0aGlzLm9mZnNldC55K3QueSt0aGlzLnJhZGl1cyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibG9jYWxCb3VuZHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBNZSh0aGlzLm9mZnNldC54LXRoaXMucmFkaXVzLHRoaXMub2Zmc2V0LnktdGhpcy5yYWRpdXMsdGhpcy5vZmZzZXQueCt0aGlzLnJhZGl1cyx0aGlzLm9mZnNldC55K3RoaXMucmFkaXVzKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJheGVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImluZXJ0aWFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuY29sbGlkZXI/dGhpcy5jb2xsaWRlci5tYXNzOlRlLmRlZmF1bHRNYXNzKSp0aGlzLnJhZGl1cyp0aGlzLnJhZGl1cy8yfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRlc3RTZXBhcmF0aW5nQXhpc1RoZW9yZW09ZnVuY3Rpb24odCl7dmFyIGU9dC5heGVzLGk9dC5jZW50ZXIsbj10LmdldEZ1cnRoZXN0UG9pbnQodGhpcy5vZmZzZXQuc3ViKGkpKTtlLnB1c2godGhpcy5vZmZzZXQuc3ViKG4pLm5vcm1hbGl6ZSgpKTtmb3IodmFyIHI9TnVtYmVyLk1BWF9WQUxVRSxvPW51bGwscz0tMSxhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBjPXQucHJvamVjdChlW2FdKSxoPXRoaXMucHJvamVjdChlW2FdKSx1PWMuZ2V0T3ZlcmxhcChoKTtpZih1PD0wKXJldHVybiBudWxsO3U8ciYmKHI9dSxvPWVbYV0scz1hKX1yZXR1cm4gczwwP251bGw6by5ub3JtYWxpemUoKS5zY2FsZShyKX0sdC5wcm90b3R5cGUucmVjYWxjPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5wcm9qZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPVtdLGk9dGhpcy5jZW50ZXIuZG90KHQpO3JldHVybiBlLnB1c2goaSksZS5wdXNoKGkrdGhpcy5yYWRpdXMpLGUucHVzaChpLXRoaXMucmFkaXVzKSxuZXcgSyhNYXRoLm1pbi5hcHBseShNYXRoLGUpLE1hdGgubWF4LmFwcGx5KE1hdGgsZSkpfSx0LnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1lJiYoZT1MdC5HcmVlbiksdm9pZCAwPT09aSYmKGk9Vi5aZXJvKTt2YXIgbj1pLmFkZCh0aGlzLm9mZnNldCk7dC5iZWdpblBhdGgoKSx0LmZpbGxTdHlsZT1lLnRvU3RyaW5nKCksdC5hcmMobi54LG4ueSx0aGlzLnJhZGl1cywwLDIqTWF0aC5QSSksdC5jbG9zZVBhdGgoKSx0LmZpbGwoKX0sdC5wcm90b3R5cGUuZGVidWdEcmF3PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9THQuR3JlZW4pO3ZhciBpPXRoaXMuY29sbGlkZXIuYm9keSxuPWk/aS5wb3MuYWRkKHRoaXMub2Zmc2V0KTp0aGlzLm9mZnNldCxyPWk/aS5yb3RhdGlvbjowO3QuYmVnaW5QYXRoKCksdC5zdHJva2VTdHlsZT1lLnRvU3RyaW5nKCksdC5hcmMobi54LG4ueSx0aGlzLnJhZGl1cywwLDIqTWF0aC5QSSksdC5jbG9zZVBhdGgoKSx0LnN0cm9rZSgpLHQuYmVnaW5QYXRoKCksdC5tb3ZlVG8obi54LG4ueSksdC5saW5lVG8oTWF0aC5jb3MocikqdGhpcy5yYWRpdXMrbi54LE1hdGguc2luKHIpKnRoaXMucmFkaXVzK24ueSksdC5jbG9zZVBhdGgoKSx0LnN0cm9rZSgpfSx0fSgpLEZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmJlZ2luPXQuYmVnaW58fFYuWmVybyx0aGlzLmVuZD10LmVuZHx8Vi5aZXJvLHRoaXMuY29sbGlkZXI9dC5jb2xsaWRlcnx8bnVsbCx0aGlzLm9mZnNldD10aGlzLmNlbnRlcn1yZXR1cm4gdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoe2JlZ2luOnRoaXMuYmVnaW4uY2xvbmUoKSxlbmQ6dGhpcy5lbmQuY2xvbmUoKSxjb2xsaWRlcjpudWxsfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIndvcmxkUG9zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbGxpZGVyJiZ0aGlzLmNvbGxpZGVyLmJvZHk/dGhpcy5jb2xsaWRlci5ib2R5LnBvcy5hZGQodGhpcy5vZmZzZXQpOnRoaXMub2Zmc2V0fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNlbnRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iZWdpbi5hdmVyYWdlKHRoaXMuZW5kKS5hZGQodGhpcy5fZ2V0Qm9keVBvcygpKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5fZ2V0Qm9keVBvcz1mdW5jdGlvbigpe3ZhciB0PVYuWmVybztyZXR1cm4gdGhpcy5jb2xsaWRlciYmdGhpcy5jb2xsaWRlci5ib2R5JiYodD10aGlzLmNvbGxpZGVyLmJvZHkucG9zKSx0fSx0LnByb3RvdHlwZS5fZ2V0VHJhbnNmb3JtZWRCZWdpbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29sbGlkZXI/dGhpcy5jb2xsaWRlci5ib2R5Om51bGwsZT10P3Qucm90YXRpb246MDtyZXR1cm4gdGhpcy5iZWdpbi5yb3RhdGUoZSkuYWRkKHRoaXMuX2dldEJvZHlQb3MoKSl9LHQucHJvdG90eXBlLl9nZXRUcmFuc2Zvcm1lZEVuZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29sbGlkZXI/dGhpcy5jb2xsaWRlci5ib2R5Om51bGwsZT10P3Qucm90YXRpb246MDtyZXR1cm4gdGhpcy5lbmQucm90YXRlKGUpLmFkZCh0aGlzLl9nZXRCb2R5UG9zKCkpfSx0LnByb3RvdHlwZS5nZXRTbG9wZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldFRyYW5zZm9ybWVkQmVnaW4oKSxlPXRoaXMuX2dldFRyYW5zZm9ybWVkRW5kKCksaT10LmRpc3RhbmNlKGUpO3JldHVybiBlLnN1Yih0KS5zY2FsZSgxL2kpfSx0LnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRUcmFuc2Zvcm1lZEJlZ2luKCksZT10aGlzLl9nZXRUcmFuc2Zvcm1lZEVuZCgpO3JldHVybiB0LmRpc3RhbmNlKGUpfSx0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbigpe3JldHVybiExfSx0LnByb3RvdHlwZS5yYXlDYXN0PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MS8wKTt2YXIgaT10aGlzLl9nZXRUcmFuc2Zvcm1lZEJlZ2luKCkuc3ViKHQucG9zKTtpZigwPT09dC5kaXIuY3Jvc3ModGhpcy5nZXRTbG9wZSgpKSYmMCE9PWkuY3Jvc3ModC5kaXIpKXJldHVybiBudWxsO3ZhciBuPXQuZGlyLmNyb3NzKHRoaXMuZ2V0U2xvcGUoKSk7aWYoMD09PW4pcmV0dXJuIG51bGw7dmFyIHI9aS5jcm9zcyh0aGlzLmdldFNsb3BlKCkpL247aWYocj49MCYmcjw9ZSl7dmFyIG89aS5jcm9zcyh0LmRpcikvbi90aGlzLmdldExlbmd0aCgpO2lmKG8+PTAmJm88PTEpcmV0dXJuIHQuZ2V0UG9pbnQocil9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldENsb3Nlc3RMaW5lQmV0d2Vlbj1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgamUpcmV0dXJuIFJlLkNpcmNsZUVkZ2VDbG9zZXN0TGluZShlLHRoaXMpO2lmKGUgaW5zdGFuY2VvZiBJZSlyZXR1cm4gUmUuUG9seWdvbkVkZ2VDbG9zZXN0TGluZShlLHRoaXMpLmZsaXAoKTtpZihlIGluc3RhbmNlb2YgdClyZXR1cm4gUmUuRWRnZUVkZ2VDbG9zZXN0TGluZSh0aGlzLGUpO3Rocm93IG5ldyBFcnJvcihcIlBvbHlnb24gY291bGQgbm90IGNvbGxpZGUgd2l0aCB1bmtub3duIENvbGxpc2lvblNoYXBlIFwiK3R5cGVvZiBlKX0sdC5wcm90b3R5cGUuY29sbGlkZT1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgamUpcmV0dXJuIGtlLkNvbGxpZGVDaXJjbGVFZGdlKGUsdGhpcyk7aWYoZSBpbnN0YW5jZW9mIEllKXJldHVybiBrZS5Db2xsaWRlUG9seWdvbkVkZ2UoZSx0aGlzKTtpZihlIGluc3RhbmNlb2YgdClyZXR1cm4ga2UuQ29sbGlkZUVkZ2VFZGdlKCk7dGhyb3cgbmV3IEVycm9yKFwiRWRnZSBjb3VsZCBub3QgY29sbGlkZSB3aXRoIHVua25vd24gQ29sbGlzaW9uU2hhcGUgXCIrdHlwZW9mIGUpfSx0LnByb3RvdHlwZS5nZXRGdXJ0aGVzdFBvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldFRyYW5zZm9ybWVkQmVnaW4oKSxpPXRoaXMuX2dldFRyYW5zZm9ybWVkRW5kKCk7cmV0dXJuIHQuZG90KGUpPjA/ZTppfSx0LnByb3RvdHlwZS5fYm91bmRzRnJvbUJlZ2luRW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBNZShNYXRoLm1pbih0LngsZS54KSxNYXRoLm1pbih0LnksZS55KSxNYXRoLm1heCh0LngsZS54KSxNYXRoLm1heCh0LnksZS55KSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJvdW5kc1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRUcmFuc2Zvcm1lZEJlZ2luKCksZT10aGlzLl9nZXRUcmFuc2Zvcm1lZEVuZCgpO3JldHVybiB0aGlzLl9ib3VuZHNGcm9tQmVnaW5FbmQodCxlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJsb2NhbEJvdW5kc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm91bmRzRnJvbUJlZ2luRW5kKHRoaXMuYmVnaW4sdGhpcy5lbmQpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmFzTGluZT1mdW5jdGlvbigpe3JldHVybiBuZXcgWCh0aGlzLl9nZXRUcmFuc2Zvcm1lZEJlZ2luKCksdGhpcy5fZ2V0VHJhbnNmb3JtZWRFbmQoKSl9LHQucHJvdG90eXBlLmFzTG9jYWxMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBYKHRoaXMuYmVnaW4sdGhpcy5lbmQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJheGVzXCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldFRyYW5zZm9ybWVkRW5kKCkuc3ViKHRoaXMuX2dldFRyYW5zZm9ybWVkQmVnaW4oKSkubm9ybWFsKCksZT1bXTtyZXR1cm4gZS5wdXNoKHQpLGUucHVzaCh0Lm5lZ2F0ZSgpKSxlLnB1c2godC5ub3JtYWwoKSksZS5wdXNoKHQubm9ybWFsKCkubmVnYXRlKCkpLGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaW5lcnRpYVwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbGxpZGVyP3RoaXMuY29sbGlkZXIubWFzczpUZS5kZWZhdWx0TWFzcyxlPXRoaXMuZW5kLnN1Yih0aGlzLmJlZ2luKS5kaXN0YW5jZSgpLzI7cmV0dXJuIHQqZSplfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnJlY2FsYz1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucHJvamVjdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT1bdGhpcy5fZ2V0VHJhbnNmb3JtZWRCZWdpbigpLHRoaXMuX2dldFRyYW5zZm9ybWVkRW5kKCldLG49aS5sZW5ndGgscj0wO3I8bjtyKyspZS5wdXNoKGlbcl0uZG90KHQpKTtyZXR1cm4gbmV3IEsoTWF0aC5taW4uYXBwbHkoTWF0aCxlKSxNYXRoLm1heC5hcHBseShNYXRoLGUpKX0sdC5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09ZSYmKGU9THQuR3JlZW4pLHZvaWQgMD09PWkmJihpPVYuWmVybyk7dmFyIG49dGhpcy5iZWdpbi5hZGQoaSkscj10aGlzLmVuZC5hZGQoaSk7dC5zdHJva2VTdHlsZT1lLnRvU3RyaW5nKCksdC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhuLngsbi55KSx0LmxpbmVUbyhyLngsci55KSx0LmNsb3NlUGF0aCgpLHQuc3Ryb2tlKCl9LHQucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPUx0LlJlZCk7dmFyIGk9dGhpcy5fZ2V0VHJhbnNmb3JtZWRCZWdpbigpLG49dGhpcy5fZ2V0VHJhbnNmb3JtZWRFbmQoKTt0LnN0cm9rZVN0eWxlPWUudG9TdHJpbmcoKSx0LmJlZ2luUGF0aCgpLHQubW92ZVRvKGkueCxpLnkpLHQubGluZVRvKG4ueCxuLnkpLHQuY2xvc2VQYXRoKCksdC5zdHJva2UoKX0sdH0oKSxJZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fdHJhbnNmb3JtZWRQb2ludHM9W10sdGhpcy5fYXhlcz1bXSx0aGlzLl9zaWRlcz1bXSx0aGlzLm9mZnNldD10Lm9mZnNldHx8Vi5aZXJvO3ZhciBlPSEhdC5jbG9ja3dpc2VXaW5kaW5nO3RoaXMucG9pbnRzPShlP3QucG9pbnRzLnJldmVyc2UoKTp0LnBvaW50cyl8fFtdLHRoaXMuY29sbGlkZXI9dGhpcy5jb2xsaWRlcj10LmNvbGxpZGVyfHxudWxsLHRoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybWF0aW9uKCl9cmV0dXJuIHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHtvZmZzZXQ6dGhpcy5vZmZzZXQuY2xvbmUoKSxwb2ludHM6dGhpcy5wb2ludHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jbG9uZSgpfSkpLGNvbGxpZGVyOm51bGx9KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwid29ybGRQb3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sbGlkZXImJnRoaXMuY29sbGlkZXIuYm9keT90aGlzLmNvbGxpZGVyLmJvZHkucG9zLmFkZCh0aGlzLm9mZnNldCk6dGhpcy5vZmZzZXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY2VudGVyXCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29sbGlkZXI/dGhpcy5jb2xsaWRlci5ib2R5Om51bGw7cmV0dXJuIHQ/dC5wb3MuYWRkKHRoaXMub2Zmc2V0KTp0aGlzLm9mZnNldH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5fY2FsY3VsYXRlVHJhbnNmb3JtYXRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbGxpZGVyP3RoaXMuY29sbGlkZXIuYm9keTpudWxsLGU9dD90LnBvcy5hZGQodGhpcy5vZmZzZXQpOnRoaXMub2Zmc2V0LGk9dD90LnJvdGF0aW9uOjAsbj10P3Quc2NhbGU6Vi5PbmUscj10aGlzLnBvaW50cy5sZW5ndGg7dGhpcy5fdHJhbnNmb3JtZWRQb2ludHMubGVuZ3RoPTA7Zm9yKHZhciBvPTA7bzxyO28rKyl0aGlzLl90cmFuc2Zvcm1lZFBvaW50c1tvXT10aGlzLnBvaW50c1tvXS5zY2FsZShuKS5yb3RhdGUoaSkuYWRkKGUpfSx0LnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1lZFBvaW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1lZFBvaW50cy5sZW5ndGgmJighdGhpcy5jb2xsaWRlcnx8IXRoaXMuY29sbGlkZXIuYm9keXx8dGhpcy5jb2xsaWRlci5ib2R5Lm9sZFBvcy5lcXVhbHModGhpcy5jb2xsaWRlci5ib2R5LnBvcykmJnRoaXMuY29sbGlkZXIuYm9keS5vbGRSb3RhdGlvbj09PXRoaXMuY29sbGlkZXIuYm9keS5yb3RhdGlvbiYmdGhpcy5jb2xsaWRlci5ib2R5Lm9sZFNjYWxlPT09dGhpcy5jb2xsaWRlci5ib2R5LnNjYWxlKXx8dGhpcy5fY2FsY3VsYXRlVHJhbnNmb3JtYXRpb24oKSx0aGlzLl90cmFuc2Zvcm1lZFBvaW50c30sdC5wcm90b3R5cGUuZ2V0U2lkZXM9ZnVuY3Rpb24oKXtpZih0aGlzLl9zaWRlcy5sZW5ndGgpcmV0dXJuIHRoaXMuX3NpZGVzO2Zvcih2YXIgdD1bXSxlPXRoaXMuZ2V0VHJhbnNmb3JtZWRQb2ludHMoKSxpPWUubGVuZ3RoLG49MDtuPGk7bisrKXQucHVzaChuZXcgWChlW25dLGVbKG4tMStpKSVpXSkpO3JldHVybiB0aGlzLl9zaWRlcz10LHRoaXMuX3NpZGVzfSx0LnByb3RvdHlwZS5yZWNhbGM9ZnVuY3Rpb24oKXt0aGlzLl9zaWRlcy5sZW5ndGg9MCx0aGlzLl9heGVzLmxlbmd0aD0wLHRoaXMuX3RyYW5zZm9ybWVkUG9pbnRzLmxlbmd0aD0wLHRoaXMuZ2V0VHJhbnNmb3JtZWRQb2ludHMoKSx0aGlzLmdldFNpZGVzKCl9LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBHKHQsbmV3IFYoMSwwKSk7cmV0dXJuIHRoaXMuZ2V0U2lkZXMoKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUuaW50ZXJzZWN0KGkpPj0wP3QrMTp0fSksMCklMiE9MH0sdC5wcm90b3R5cGUuZ2V0Q2xvc2VzdExpbmVCZXR3ZWVuPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBqZSlyZXR1cm4gUmUuUG9seWdvbkNpcmNsZUNsb3Nlc3RMaW5lKHRoaXMsZSk7aWYoZSBpbnN0YW5jZW9mIHQpcmV0dXJuIFJlLlBvbHlnb25Qb2x5Z29uQ2xvc2VzdExpbmUodGhpcyxlKTtpZihlIGluc3RhbmNlb2YgRmUpcmV0dXJuIFJlLlBvbHlnb25FZGdlQ2xvc2VzdExpbmUodGhpcyxlKTt0aHJvdyBuZXcgRXJyb3IoXCJQb2x5Z29uIGNvdWxkIG5vdCBjb2xsaWRlIHdpdGggdW5rbm93biBDb2xsaXNpb25TaGFwZSBcIit0eXBlb2YgZSl9LHQucHJvdG90eXBlLmNvbGxpZGU9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGplKXJldHVybiBrZS5Db2xsaWRlQ2lyY2xlUG9seWdvbihlLHRoaXMpO2lmKGUgaW5zdGFuY2VvZiB0KXJldHVybiBrZS5Db2xsaWRlUG9seWdvblBvbHlnb24odGhpcyxlKTtpZihlIGluc3RhbmNlb2YgRmUpcmV0dXJuIGtlLkNvbGxpZGVQb2x5Z29uRWRnZSh0aGlzLGUpO3Rocm93IG5ldyBFcnJvcihcIlBvbHlnb24gY291bGQgbm90IGNvbGxpZGUgd2l0aCB1bmtub3duIENvbGxpc2lvblNoYXBlIFwiK3R5cGVvZiBlKX0sdC5wcm90b3R5cGUuZ2V0RnVydGhlc3RQb2ludD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5nZXRUcmFuc2Zvcm1lZFBvaW50cygpLGk9bnVsbCxuPS1OdW1iZXIuTUFYX1ZBTFVFLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89dC5kb3QoZVtyXSk7bz5uJiYobj1vLGk9ZVtyXSl9cmV0dXJuIGl9LHQucHJvdG90eXBlLmdldENsb3Nlc3RGYWNlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmdldFNpZGVzKCksaT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbj0tMSxyPS0xLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIHM9ZVtvXS5kaXN0YW5jZVRvUG9pbnQodCk7czxpJiYoaT1zLG49byxyPXMpfXJldHVybi0xIT09bj97ZGlzdGFuY2U6ZVtuXS5ub3JtYWwoKS5zY2FsZShyKSxmYWNlOmVbbl19Om51bGx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJvdW5kc1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFRyYW5zZm9ybWVkUG9pbnRzKCk7cmV0dXJuIE1lLmZyb21Qb2ludHModCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibG9jYWxCb3VuZHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1lLmZyb21Qb2ludHModGhpcy5wb2ludHMpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImluZXJ0aWFcIix7Z2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuY29sbGlkZXI/dGhpcy5jb2xsaWRlci5tYXNzOlRlLmRlZmF1bHRNYXNzLGU9MCxpPTAsbj0wO248dGhpcy5wb2ludHMubGVuZ3RoO24rKyl7dmFyIHI9KG4rMSkldGhpcy5wb2ludHMubGVuZ3RoLG89dGhpcy5wb2ludHNbcl0uY3Jvc3ModGhpcy5wb2ludHNbbl0pO2UrPW8qKHRoaXMucG9pbnRzW25dLmRvdCh0aGlzLnBvaW50c1tuXSkrdGhpcy5wb2ludHNbbl0uZG90KHRoaXMucG9pbnRzW3JdKSt0aGlzLnBvaW50c1tyXS5kb3QodGhpcy5wb2ludHNbcl0pKSxpKz1vfXJldHVybiB0LzYqKGUvaSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucmF5Q2FzdD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTEvMCk7Zm9yKHZhciBpPXRoaXMuZ2V0U2lkZXMoKSxuPWkubGVuZ3RoLHI9TnVtYmVyLk1BWF9WQUxVRSxvPS0xLHM9MDtzPG47cysrKXt2YXIgYT10LmludGVyc2VjdChpW3NdKTthPj0wJiZhPHImJmE8PWUmJihyPWEsbz1zKX1yZXR1cm4gbz49MD90LmdldFBvaW50KHIpOm51bGx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImF4ZXNcIix7Z2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5fYXhlcy5sZW5ndGgpcmV0dXJuIHRoaXMuX2F4ZXM7Zm9yKHZhciB0PVtdLGU9dGhpcy5nZXRUcmFuc2Zvcm1lZFBvaW50cygpLGk9ZS5sZW5ndGgsbj0wO248aTtuKyspdC5wdXNoKGVbbl0uc3ViKGVbKG4rMSklaV0pLm5vcm1hbCgpKTtyZXR1cm4gdGhpcy5fYXhlcz10LHRoaXMuX2F4ZXN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudGVzdFNlcGFyYXRpbmdBeGlzVGhlb3JlbT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dCxpPXRoaXMuYXhlcy5jb25jYXQoZS5heGVzKSxuPU51bWJlci5NQVhfVkFMVUUscj1udWxsLG89LTEscz0wO3M8aS5sZW5ndGg7cysrKXt2YXIgYT10aGlzLnByb2plY3QoaVtzXSksYz1lLnByb2plY3QoaVtzXSksaD1hLmdldE92ZXJsYXAoYyk7aWYoaDw9MClyZXR1cm4gbnVsbDtoPG4mJihuPWgscj1pW3NdLG89cyl9cmV0dXJuLTE9PT1vP251bGw6ci5ub3JtYWxpemUoKS5zY2FsZShuKX0sdC5wcm90b3R5cGUucHJvamVjdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5nZXRUcmFuc2Zvcm1lZFBvaW50cygpLGk9ZS5sZW5ndGgsbj1OdW1iZXIuTUFYX1ZBTFVFLHI9LU51bWJlci5NQVhfVkFMVUUsbz0wO288aTtvKyspe3ZhciBzPWVbb10uZG90KHQpO249TWF0aC5taW4obixzKSxyPU1hdGgubWF4KHIscyl9cmV0dXJuIG5ldyBLKG4scil9LHQucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMD09PWUmJihlPUx0LkdyZWVuKSx2b2lkIDA9PT1pJiYoaT1WLlplcm8pLHQuYmVnaW5QYXRoKCksdC5maWxsU3R5bGU9ZS50b1N0cmluZygpO3ZhciBuPWkuYWRkKHRoaXMub2Zmc2V0KSxyPXRoaXMucG9pbnRzWzBdLmFkZChuKTt0Lm1vdmVUbyhyLngsci55KSx0aGlzLnBvaW50cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZChuKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmxpbmVUbyhlLngsZS55KX0pKSx0LmxpbmVUbyhyLngsci55KSx0LmNsb3NlUGF0aCgpLHQuZmlsbCgpfSx0LnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1MdC5SZWQpLHQuYmVnaW5QYXRoKCksdC5zdHJva2VTdHlsZT1lLnRvU3RyaW5nKCk7dmFyIGk9dGhpcy5nZXRUcmFuc2Zvcm1lZFBvaW50cygpWzBdO3QubW92ZVRvKGkueCxpLnkpLHRoaXMuZ2V0VHJhbnNmb3JtZWRQb2ludHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmxpbmVUbyhlLngsZS55KX0pKSx0LmxpbmVUbyhpLngsaS55KSx0LmNsb3NlUGF0aCgpLHQuc3Ryb2tlKCl9LHR9KCksTGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LkJveD1mdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9Vi5IYWxmKSx2b2lkIDA9PT1uJiYobj1WLlplcm8pLG5ldyBJZSh7cG9pbnRzOm5ldyBNZSgtdCppLngsLWUqaS55LHQtdCppLngsZS1lKmkueSkuZ2V0UG9pbnRzKCksb2Zmc2V0Om59KX0sdC5Qb2x5Z29uPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PWkmJihpPVYuWmVybyksbmV3IEllKHtwb2ludHM6dCxvZmZzZXQ6aSxjbG9ja3dpc2VXaW5kaW5nOmV9KX0sdC5DaXJjbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9Vi5aZXJvKSxuZXcgamUoe3JhZGl1czp0LG9mZnNldDplfSl9LHQuRWRnZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgRmUoe2JlZ2luOnQsZW5kOmV9KX0sdH0oKSx6ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dC5hY3RvcixpPXQuY29sbGlkZXI7aWYodGhpcy5wb3M9bmV3IFYoMCwwKSx0aGlzLm9sZFBvcz1uZXcgVigwLDApLHRoaXMudmVsPW5ldyBWKDAsMCksdGhpcy5vbGRWZWw9bmV3IFYoMCwwKSx0aGlzLmFjYz1uZXcgVigwLDApLHRoaXMub2xkQWNjPVYuWmVybyx0aGlzLnRvcnF1ZT0wLHRoaXMubW90aW9uPTEwLHRoaXMub2xkUm90YXRpb249MCx0aGlzLnJvdGF0aW9uPTAsdGhpcy5zY2FsZT1WLk9uZSx0aGlzLm9sZFNjYWxlPVYuT25lLHRoaXMuc3g9MCx0aGlzLnN5PTAsdGhpcy5yeD0wLHRoaXMuX2dlb21ldHJ5RGlydHk9ITEsdGhpcy5fdG90YWxNdHY9Vi5aZXJvLCFlJiYhaSl0aHJvdyBuZXcgRXJyb3IoXCJBbiBhY3RvciBvciBjb2xsaWRlciBhcmUgcmVxdWlyZWQgdG8gY3JlYXRlIGEgYm9keVwiKTt0aGlzLmFjdG9yPWUsdGhpcy5jb2xsaWRlcj0haSYmZT90aGlzLnVzZUJveENvbGxpZGVyKGUud2lkdGgsZS5oZWlnaHQsZS5hbmNob3IpOml9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdG9yP3RoaXMuYWN0b3IuaWQ6LTF9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoe2FjdG9yOm51bGwsY29sbGlkZXI6dGhpcy5jb2xsaWRlci5jbG9uZSgpfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImFjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuYWN0b3ImJiF0aGlzLmFjdG9yLmlzS2lsbGVkKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY2VudGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjb2xsaWRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sbGlkZXJ9LHNldDpmdW5jdGlvbih0KXt0JiYodGhpcy5fY29sbGlkZXI9dCx0aGlzLl9jb2xsaWRlci5ib2R5PXRoaXMsdGhpcy5fd2lyZUNvbGxpZGVyRXZlbnRzVG9BY3RvcigpKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5hZGRNdHY9ZnVuY3Rpb24odCl7dGhpcy5fdG90YWxNdHYuYWRkRXF1YWwodCl9LHQucHJvdG90eXBlLmFwcGx5TXR2PWZ1bmN0aW9uKCl7dGhpcy5wb3MuYWRkRXF1YWwodGhpcy5fdG90YWxNdHYpLHRoaXMuX3RvdGFsTXR2LnNldFRvKDAsMCl9LHQucHJvdG90eXBlLm1hcmtDb2xsaXNpb25TaGFwZURpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fZ2VvbWV0cnlEaXJ0eT0hMH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaXNDb2xsaWRlclNoYXBlRGlydHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5RGlydHl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY2FwdHVyZU9sZFRyYW5zZm9ybT1mdW5jdGlvbigpe3RoaXMub2xkVmVsLnNldFRvKHRoaXMudmVsLngsdGhpcy52ZWwueSksdGhpcy5vbGRQb3Muc2V0VG8odGhpcy5wb3MueCx0aGlzLnBvcy55KSx0aGlzLm9sZEFjYy5zZXRUbyh0aGlzLmFjYy54LHRoaXMuYWNjLnkpLHRoaXMub2xkU2NhbGUuc2V0VG8odGhpcy5zY2FsZS54LHRoaXMuc2NhbGUueSksdGhpcy5vbGRSb3RhdGlvbj10aGlzLnJvdGF0aW9ufSx0LnByb3RvdHlwZS5pbnRlZ3JhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dC8xZTMsaT10aGlzLmFjYy5jbG9uZSgpO3RoaXMuY29sbGlkZXIudHlwZT09PW5lLkFjdGl2ZSYmaS5hZGRFcXVhbChUZS5hY2MpLHRoaXMudmVsLmFkZEVxdWFsKGkuc2NhbGUoZSkpLHRoaXMucG9zLmFkZEVxdWFsKHRoaXMudmVsLnNjYWxlKGUpKS5hZGRFcXVhbChpLnNjYWxlKC41KmUqZSkpLHRoaXMucngrPXRoaXMudG9ycXVlKigxL3RoaXMuY29sbGlkZXIuaW5lcnRpYSkqZSx0aGlzLnJvdGF0aW9uKz10aGlzLnJ4KmUsdGhpcy5zY2FsZS54Kz10aGlzLnN4KnQvMWUzLHRoaXMuc2NhbGUueSs9dGhpcy5zeSp0LzFlMyx0aGlzLnNjYWxlLmVxdWFscyh0aGlzLm9sZFNjYWxlKXx8KHRoaXMuX2dlb21ldHJ5RGlydHk9ITApLHRoaXMuY29sbGlkZXIudXBkYXRlKCksdGhpcy5fZ2VvbWV0cnlEaXJ0eT0hMX0sdC5wcm90b3R5cGUudXNlQm94Q29sbGlkZXI9ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHZvaWQgMD09PWkmJihpPVYuSGFsZiksdm9pZCAwPT09biYmKG49Vi5aZXJvKSxudWxsPT10JiYodD10aGlzLmFjdG9yP3RoaXMuYWN0b3Iud2lkdGg6MCksbnVsbD09ZSYmKGU9dGhpcy5hY3Rvcj90aGlzLmFjdG9yLmhlaWdodDowKSx0aGlzLmNvbGxpZGVyLnNoYXBlPUxlLkJveCh0LGUsaSxuKSx0aGlzLmNvbGxpZGVyfSx0LnByb3RvdHlwZS51c2VQb2x5Z29uQ29sbGlkZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9Vi5aZXJvKSx0aGlzLmNvbGxpZGVyLnNoYXBlPUxlLlBvbHlnb24odCwhMSxlKSx0aGlzLmNvbGxpZGVyfSx0LnByb3RvdHlwZS51c2VDaXJjbGVDb2xsaWRlcj1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1WLlplcm8pLHRoaXMuY29sbGlkZXIuc2hhcGU9TGUuQ2lyY2xlKHQsZSksdGhpcy5jb2xsaWRlcn0sdC5wcm90b3R5cGUudXNlRWRnZUNvbGxpZGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29sbGlkZXIuc2hhcGU9TGUuRWRnZSh0LGUpLHRoaXMuY29sbGlkZXJ9LHQucHJvdG90eXBlLl93aXJlQ29sbGlkZXJFdmVudHNUb0FjdG9yPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmNvbGxpZGVyLmNsZWFyKCksdGhpcy5jb2xsaWRlci5vbihcInByZWNvbGxpc2lvblwiLChmdW5jdGlvbihlKXt0LmFjdG9yJiZ0LmFjdG9yLmVtaXQoXCJwcmVjb2xsaXNpb25cIixuZXcgeHQoZS50YXJnZXQuYm9keS5hY3RvcixlLm90aGVyLmJvZHkuYWN0b3IsZS5zaWRlLGUuaW50ZXJzZWN0aW9uKSl9KSksdGhpcy5jb2xsaWRlci5vbihcInBvc3Rjb2xsaXNpb25cIiwoZnVuY3Rpb24oZSl7dC5hY3RvciYmdC5hY3Rvci5lbWl0KFwicG9zdGNvbGxpc2lvblwiLG5ldyBQdChlLnRhcmdldC5ib2R5LmFjdG9yLGUub3RoZXIuYm9keS5hY3RvcixlLnNpZGUsZS5pbnRlcnNlY3Rpb24pKX0pKSx0aGlzLmNvbGxpZGVyLm9uKFwiY29sbGlzaW9uc3RhcnRcIiwoZnVuY3Rpb24oZSl7dC5hY3RvciYmdC5hY3Rvci5lbWl0KFwiY29sbGlzaW9uc3RhcnRcIixuZXcgU3QoZS50YXJnZXQuYm9keS5hY3RvcixlLm90aGVyLmJvZHkuYWN0b3IsZS5wYWlyKSl9KSksdGhpcy5jb2xsaWRlci5vbihcImNvbGxpc2lvbmVuZFwiLChmdW5jdGlvbihlKXt0LmFjdG9yJiZ0LmFjdG9yLmVtaXQoXCJjb2xsaXNpb25lbmRcIixuZXcgRXQoZS50YXJnZXQuYm9keS5hY3RvcixlLm90aGVyLmJvZHkuYWN0b3IpKX0pKX0sdH0oKSxIZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBpPXQuZXZlbnREaXNwYXRjaGVyO2lmKHQuYm9keS5jb2xsaWRlci50eXBlIT09bmUuUHJldmVudENvbGxpc2lvbiYmZS5jdXJyZW50U2NlbmUmJmUuY3VycmVudFNjZW5lLnRpbGVNYXBzKWZvcih2YXIgbj0wO248ZS5jdXJyZW50U2NlbmUudGlsZU1hcHMubGVuZ3RoO24rKylmb3IodmFyIHI9ZS5jdXJyZW50U2NlbmUudGlsZU1hcHNbbl0sbz12b2lkIDAscz1wLk5vbmUsYT0yOyhvPXIuY29sbGlkZXModCkpJiYhKGEtLTwwKTspcz1NZS5nZXRTaWRlRnJvbUludGVyc2VjdGlvbihvKSxpLmVtaXQoXCJwcmVjb2xsaXNpb25cIixuZXcgeHQodCxudWxsLHMsbykpLHQuYm9keS5jb2xsaWRlci50eXBlPT09bmUuQWN0aXZlJiYodC5wb3MueSs9by55LHQucG9zLngrPW8ueCxpLmVtaXQoXCJwb3N0Y29sbGlzaW9uXCIsbmV3IFB0KHQsbnVsbCxzLG8pKSl9LHR9KCksV2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fdG9wTGVmdD1uZXcgVigwLDApLHRoaXMuX3RvcFJpZ2h0PW5ldyBWKDAsMCksdGhpcy5fYm90dG9tTGVmdD1uZXcgVigwLDApLHRoaXMuX2JvdHRvbVJpZ2h0PW5ldyBWKDAsMCl9cmV0dXJuIHQucHJvdG90eXBlLmlzU3ByaXRlT2ZmU2NyZWVuPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5jdXJyZW50RHJhd2luZy5kcmF3V2lkdGgsbj10LmN1cnJlbnREcmF3aW5nLmRyYXdIZWlnaHQscj10LnJvdGF0aW9uLG89dC5jZW50ZXIscz10LmdldFdvcmxkUG9zKCk7dGhpcy5fdG9wTGVmdC54PXMueC1pLzIsdGhpcy5fdG9wTGVmdC55PXMueS1uLzIsdGhpcy5fdG9wTGVmdD10aGlzLl90b3BMZWZ0LnJvdGF0ZShyLG8pLHRoaXMuX3RvcFJpZ2h0Lng9cy54K2kvMix0aGlzLl90b3BSaWdodC55PXMueS1uLzIsdGhpcy5fdG9wUmlnaHQ9dGhpcy5fdG9wUmlnaHQucm90YXRlKHIsbyksdGhpcy5fYm90dG9tTGVmdC54PXMueC1pLzIsdGhpcy5fYm90dG9tTGVmdC55PXMueStuLzIsdGhpcy5fYm90dG9tTGVmdD10aGlzLl9ib3R0b21MZWZ0LnJvdGF0ZShyLG8pLHRoaXMuX2JvdHRvbVJpZ2h0Lng9cy54K2kvMix0aGlzLl9ib3R0b21SaWdodC55PXMueStuLzIsdGhpcy5fYm90dG9tUmlnaHQ9dGhpcy5fYm90dG9tUmlnaHQucm90YXRlKHIsbyk7dmFyIGE9ZS53b3JsZFRvU2NyZWVuQ29vcmRpbmF0ZXModGhpcy5fdG9wTGVmdCksYz1lLndvcmxkVG9TY3JlZW5Db29yZGluYXRlcyh0aGlzLl90b3BSaWdodCksaD1lLndvcmxkVG9TY3JlZW5Db29yZGluYXRlcyh0aGlzLl9ib3R0b21MZWZ0KSx1PWUud29ybGRUb1NjcmVlbkNvb3JkaW5hdGVzKHRoaXMuX2JvdHRvbVJpZ2h0KTt0aGlzLl94Q29vcmRzPVtdLHRoaXMuX3lDb29yZHM9W10sdGhpcy5feENvb3Jkcy5wdXNoKGEueCxjLngsaC54LHUueCksdGhpcy5feUNvb3Jkcy5wdXNoKGEueSxjLnksaC55LHUueSksdGhpcy5feE1pbj1NYXRoLm1pbi5hcHBseShudWxsLHRoaXMuX3hDb29yZHMpLHRoaXMuX3lNaW49TWF0aC5taW4uYXBwbHkobnVsbCx0aGlzLl95Q29vcmRzKSx0aGlzLl94TWF4PU1hdGgubWF4LmFwcGx5KG51bGwsdGhpcy5feENvb3JkcyksdGhpcy5feU1heD1NYXRoLm1heC5hcHBseShudWxsLHRoaXMuX3lDb29yZHMpO3ZhciBsPWUuc2NyZWVuVG9Xb3JsZENvb3JkaW5hdGVzKG5ldyBWKHRoaXMuX3hNaW4sdGhpcy5feU1pbikpLHA9ZS5zY3JlZW5Ub1dvcmxkQ29vcmRpbmF0ZXMobmV3IFYodGhpcy5feE1heCx0aGlzLl95TWF4KSk7dGhpcy5feE1pbldvcmxkPWwueCx0aGlzLl95TWluV29ybGQ9bC55LHRoaXMuX3hNYXhXb3JsZD1wLngsdGhpcy5feU1heFdvcmxkPXAueTt2YXIgZD1bbmV3IFYodGhpcy5feE1pbix0aGlzLl95TWluKSxuZXcgVih0aGlzLl94TWF4LHRoaXMuX3lNaW4pLG5ldyBWKHRoaXMuX3hNaW4sdGhpcy5feU1heCksbmV3IFYodGhpcy5feE1heCx0aGlzLl95TWF4KV07aWYoZFswXS54PDAmJmRbMV0ueD5lLmNhbnZhcy5jbGllbnRXaWR0aCYmKGRbMF0ueT4wfHxkWzJdLnk8ZS5jYW52YXMuY2xpZW50SGVpZ2h0KSlyZXR1cm4hMTtpZihkWzBdLnk8MCYmZFsyXS55PmUuY2FudmFzLmNsaWVudEhlaWdodCYmKGRbMV0ueD4wfHxkWzBdLng8ZS5jYW52YXMuY2xpZW50V2lkdGgpKXJldHVybiExO2Zvcih2YXIgZj0wO2Y8ZC5sZW5ndGg7ZisrKWlmKGRbZl0ueD4wJiZkW2ZdLnk+MCYmZFtmXS54PGUuY2FudmFzLmNsaWVudFdpZHRoJiZkW2ZdLnk8ZS5jYW52YXMuY2xpZW50SGVpZ2h0KXJldHVybiExO3JldHVybiEwfSx0LnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCl7dC5iZWdpblBhdGgoKSx0LnN0cm9rZVN0eWxlPUx0LldoaXRlLnRvU3RyaW5nKCksdC5yZWN0KHRoaXMuX3hNaW5Xb3JsZCx0aGlzLl95TWluV29ybGQsdGhpcy5feE1heFdvcmxkLXRoaXMuX3hNaW5Xb3JsZCx0aGlzLl95TWF4V29ybGQtdGhpcy5feU1pbldvcmxkKSx0LnN0cm9rZSgpLHQuZmlsbFN0eWxlPUx0LlJlZC50b1N0cmluZygpLHQuYmVnaW5QYXRoKCksdC5hcmModGhpcy5fdG9wTGVmdC54LHRoaXMuX3RvcExlZnQueSw1LDAsMipNYXRoLlBJKSx0LmNsb3NlUGF0aCgpLHQuZmlsbCgpLHQuZmlsbFN0eWxlPUx0LkdyZWVuLnRvU3RyaW5nKCksdC5iZWdpblBhdGgoKSx0LmFyYyh0aGlzLl90b3BSaWdodC54LHRoaXMuX3RvcFJpZ2h0LnksNSwwLDIqTWF0aC5QSSksdC5jbG9zZVBhdGgoKSx0LmZpbGwoKSx0LmZpbGxTdHlsZT1MdC5CbHVlLnRvU3RyaW5nKCksdC5iZWdpblBhdGgoKSx0LmFyYyh0aGlzLl9ib3R0b21MZWZ0LngsdGhpcy5fYm90dG9tTGVmdC55LDUsMCwyKk1hdGguUEkpLHQuY2xvc2VQYXRoKCksdC5maWxsKCksdC5maWxsU3R5bGU9THQuTWFnZW50YS50b1N0cmluZygpLHQuYmVnaW5QYXRoKCksdC5hcmModGhpcy5fYm90dG9tUmlnaHQueCx0aGlzLl9ib3R0b21SaWdodC55LDUsMCwyKk1hdGguUEkpLHQuY2xvc2VQYXRoKCksdC5maWxsKCl9LHR9KCksVWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5jdWxsaW5nQm94PW5ldyBXZX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5ldmVudERpc3BhdGNoZXIsbj0hMDtudWxsIT10LmN1cnJlbnREcmF3aW5nJiYobj10aGlzLmN1bGxpbmdCb3guaXNTcHJpdGVPZmZTY3JlZW4odCxlKSk7dmFyIHI9ITE7ZSYmZS5jdXJyZW50U2NlbmUmJmUuY3VycmVudFNjZW5lLmNhbWVyYSYmZS5jdXJyZW50U2NlbmUuY2FtZXJhLnZpZXdwb3J0JiYocj0hZS5jdXJyZW50U2NlbmUuY2FtZXJhLnZpZXdwb3J0LmludGVyc2VjdCh0LmJvZHkuY29sbGlkZXIuYm91bmRzKSksdC5pc09mZlNjcmVlbj9yJiZufHwoaS5lbWl0KFwiZW50ZXJ2aWV3cG9ydFwiLG5ldyBNdCh0KSksdC5pc09mZlNjcmVlbj0hMSk6ciYmbiYmKGkuZW1pdChcImV4aXR2aWV3cG9ydFwiLG5ldyBUdCh0KSksdC5pc09mZlNjcmVlbj0hMCl9LHR9KCksTmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXt0LmVuYWJsZUNhcHR1cmVQb2ludGVyJiYodC5pc0tpbGxlZCgpfHxlLmlucHV0LnBvaW50ZXJzLmNoZWNrQW5kVXBkYXRlQWN0b3JVbmRlclBvaW50ZXIodCkpfSx0fSgpO2Z1bmN0aW9uIHFlKHQsZSxpLG4scixvLHMsYSl7dm9pZCAwPT09ZSYmKGU9THQuUmVkKSx2b2lkIDA9PT1zJiYocz0xKSx2b2lkIDA9PT1hJiYoYT1cImJ1dHRcIiksdC5iZWdpblBhdGgoKSx0LmxpbmVXaWR0aD1zLHQubGluZUNhcD1hLHQuc3Ryb2tlU3R5bGU9ZS50b1N0cmluZygpLHQubW92ZVRvKGksbiksdC5saW5lVG8ocixvKSx0LmNsb3NlUGF0aCgpLHQuc3Ryb2tlKCl9ZnVuY3Rpb24gVmUodCxlLGkpe3ZvaWQgMD09PWUmJihlPUx0LlJlZCksdC5iZWdpblBhdGgoKSx0LnN0cm9rZVN0eWxlPWUudG9TdHJpbmcoKSx0LmFyYyhpLngsaS55LDUsMCwyKk1hdGguUEkpLHQuY2xvc2VQYXRoKCksdC5zdHJva2UoKX1mdW5jdGlvbiBHZSh0LGUsaSxuLHIpe3ZvaWQgMD09PXImJihyPTEpO3ZhciBvPWU/ZS50b1N0cmluZygpOlwiYmx1ZVwiLHM9bi5zY2FsZShyKTt0LmJlZ2luUGF0aCgpLHQuc3Ryb2tlU3R5bGU9byx0Lm1vdmVUbyhpLngsaS55KSx0LmxpbmVUbyhpLngrcy54LGkueStzLnkpLHQuY2xvc2VQYXRoKCksdC5zdHJva2UoKX1mdW5jdGlvbiBYZSh0LGUsaSxuLHIsbyxzLGEpe3ZhciBjO2lmKHZvaWQgMD09PW8mJihvPTUpLHZvaWQgMD09PXMmJihzPUx0LldoaXRlKSx2b2lkIDA9PT1hJiYoYT1udWxsKSxcIm51bWJlclwiPT10eXBlb2YgbyljPXt0bDpvLHRyOm8sYnI6byxibDpvfTtlbHNle3ZhciBoPXt0bDowLHRyOjAsYnI6MCxibDowfTtmb3IodmFyIHUgaW4gaClpZihoLmhhc093blByb3BlcnR5KHUpKXt2YXIgbD11O2NbbF09b1tsXXx8aFtsXX19dC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhlK2MudGwsaSksdC5saW5lVG8oZStuLWMudHIsaSksdC5xdWFkcmF0aWNDdXJ2ZVRvKGUrbixpLGUrbixpK2MudHIpLHQubGluZVRvKGUrbixpK3ItYy5iciksdC5xdWFkcmF0aWNDdXJ2ZVRvKGUrbixpK3IsZStuLWMuYnIsaStyKSx0LmxpbmVUbyhlK2MuYmwsaStyKSx0LnF1YWRyYXRpY0N1cnZlVG8oZSxpK3IsZSxpK3ItYy5ibCksdC5saW5lVG8oZSxpK2MudGwpLHQucXVhZHJhdGljQ3VydmVUbyhlLGksZStjLnRsLGkpLHQuY2xvc2VQYXRoKCksYSYmKHQuZmlsbFN0eWxlPWEudG9TdHJpbmcoKSx0LmZpbGwoKSkscyYmKHQuc3Ryb2tlU3R5bGU9cy50b1N0cmluZygpLHQuc3Ryb2tlKCkpfWZ1bmN0aW9uIEtlKHQsZSxpLG4scixvKXt2b2lkIDA9PT1yJiYocj1MdC5XaGl0ZSksdm9pZCAwPT09byYmKG89bnVsbCksdC5iZWdpblBhdGgoKSx0LmFyYyhlLGksbiwwLDIqTWF0aC5QSSksdC5jbG9zZVBhdGgoKSxvJiYodC5maWxsU3R5bGU9by50b1N0cmluZygpLHQuZmlsbCgpKSxyJiYodC5zdHJva2VTdHlsZT1yLnRvU3RyaW5nKCksdC5zdHJva2UoKSl9dmFyIFllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSl7dGhpcy5fbmFtZT10LHRoaXMuX2NhdGVnb3J5PWUsdGhpcy5fbWFzaz1pfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJuYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uYW1lfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNhdGVnb3J5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXRlZ29yeX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJtYXNrXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXNrfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmNhbkNvbGxpZGU9ZnVuY3Rpb24odCl7cmV0dXJuIDAhPSh0aGlzLmNhdGVnb3J5JnQubWFzaykmJjAhPSh0LmNhdGVnb3J5JnRoaXMubWFzayl9LHQuQWxsPW5ldyB0KFwiQ29sbGlkZSB3aXRoIGFsbCBncm91cHNcIiwtMSwtMSksdH0oKSxaZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpKXt0aGlzLmNvbGxpZGVyQT1lLHRoaXMuY29sbGlkZXJCPWksdGhpcy5pZD1udWxsLHRoaXMuY29sbGlzaW9uPW51bGwsdGhpcy5pZD10LmNhbGN1bGF0ZVBhaXJIYXNoKGUsaSl9cmV0dXJuIHQuY2FuQ29sbGlkZT1mdW5jdGlvbih0LGUpe3JldHVybiEhdC5ncm91cC5jYW5Db2xsaWRlKGUuZ3JvdXApJiYoKHQudHlwZSE9PW5lLkZpeGVkfHxlLnR5cGUhPT1uZS5GaXhlZCkmJihlLnR5cGUhPT1uZS5QcmV2ZW50Q29sbGlzaW9uJiZ0LnR5cGUhPT1uZS5QcmV2ZW50Q29sbGlzaW9uJiYhKCF0LmFjdGl2ZXx8IWUuYWN0aXZlKSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjYW5Db2xsaWRlXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY29sbGlkZXJBLGk9dGhpcy5jb2xsaWRlckI7cmV0dXJuIHQuY2FuQ29sbGlkZShlLGkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmNvbGxpZGU9ZnVuY3Rpb24oKXt0aGlzLmNvbGxpc2lvbj10aGlzLmNvbGxpZGVyQS5jb2xsaWRlKHRoaXMuY29sbGlkZXJCKX0sdC5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXt0aGlzLmNvbGxpc2lvbiYmdGhpcy5jb2xsaXNpb24ucmVzb2x2ZSh0KX0sdC5jYWxjdWxhdGVQYWlySGFzaD1mdW5jdGlvbih0LGUpe3JldHVybiB0LmlkPGUuaWQ/XCIjXCIrdC5pZCtcIitcIitlLmlkOlwiI1wiK2UuaWQrXCIrXCIrdC5pZH0sdC5wcm90b3R5cGUuZGVidWdEcmF3PWZ1bmN0aW9uKHQpe3RoaXMuY29sbGlzaW9uJiYoVGUuc2hvd0NvbnRhY3RzJiZWZSh0LEx0LlJlZCx0aGlzLmNvbGxpc2lvbi5wb2ludCksVGUuc2hvd0NvbGxpc2lvbk5vcm1hbHMmJkdlKHQsTHQuQ3lhbix0aGlzLmNvbGxpc2lvbi5wb2ludCx0aGlzLmNvbGxpc2lvbi5ub3JtYWwsMzApKX0sdH0oKTtmdW5jdGlvbiBRZSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEplfXZhciBKZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dC5ib2R5LGk9dC50eXBlLG49dC5ncm91cCxyPXQuc2hhcGUsbz10Lm9mZnNldCxzPXQudXNlU2hhcGVJbmVydGlhLGE9dm9pZCAwPT09c3x8czt0aGlzLl9ldmVudHM9bmV3IEJ0KHRoaXMpLHRoaXMudHlwZT1uZS5QcmV2ZW50Q29sbGlzaW9uLHRoaXMuZ3JvdXA9WWUuQWxsLHRoaXMubWFzcz0xLHRoaXMuaW5lcnRpYT0xZTMsdGhpcy5mcmljdGlvbj0uOTksdGhpcy5ib3VuY2luZXNzPS4yLGUmJmUuY29sbGlkZXImJiFyP3RoaXMuX3NoYXBlPWUuY29sbGlkZXIuc2hhcGU6KHRoaXMuX3NoYXBlPXIsdGhpcy5ib2R5PWUpLHRoaXMudXNlU2hhcGVJbmVydGlhPWEsdGhpcy5fc2hhcGUuY29sbGlkZXI9dGhpcyx0aGlzLnR5cGU9aXx8dGhpcy50eXBlLHRoaXMuZ3JvdXA9bnx8dGhpcy5ncm91cCx0aGlzLm9mZnNldD1vfHxWLlplcm99cmV0dXJuIHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHtib2R5Om51bGwsdHlwZTp0aGlzLnR5cGUsc2hhcGU6dGhpcy5fc2hhcGUuY2xvbmUoKSxncm91cDp0aGlzLmdyb3VwLG9mZnNldDp0aGlzLm9mZnNldH0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5P3RoaXMuYm9keS5pZDotMX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJzaGFwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhcGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zaGFwZT10LHRoaXMuX3NoYXBlLmNvbGxpZGVyPXRoaXMsdGhpcy51c2VTaGFwZUluZXJ0aWEmJih0aGlzLmluZXJ0aWE9aXNOYU4odGhpcy5fc2hhcGUuaW5lcnRpYSk/dGhpcy5pbmVydGlhOnRoaXMuX3NoYXBlLmluZXJ0aWEpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNlbnRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib3VuZHMuY2VudGVyfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImFjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LmFjdGl2ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jb2xsaWRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNoYXBlLmNvbGxpZGUodC5zaGFwZSl9LHQucHJvdG90eXBlLmdldENsb3Nlc3RMaW5lQmV0d2Vlbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zaGFwZS5nZXRDbG9zZXN0TGluZUJldHdlZW4odC5zaGFwZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9mZnNldFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFwZS5vZmZzZXQuY2xvbmUoKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuc2hhcGUub2Zmc2V0PXQuY2xvbmUoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50b3VjaGluZz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgWmUodGhpcyx0KTtyZXR1cm4gZS5jb2xsaWRlKCksISFlLmNvbGxpc2lvbn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYm91bmRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNoYXBlP3RoaXMuc2hhcGUuYm91bmRzOnRoaXMuYm9keT8obmV3IE1lKS50cmFuc2xhdGUodGhpcy5ib2R5LnBvcyk6bmV3IE1lfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImxvY2FsQm91bmRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNoYXBlP3RoaXMuc2hhcGUubG9jYWxCb3VuZHM6bmV3IE1lfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuc2hhcGUmJnRoaXMuc2hhcGUucmVjYWxjKCl9LHQucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9ldmVudHMuZW1pdCh0LGUpfSx0LnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUpe3RoaXMuX2V2ZW50cy5vbih0LGUpfSx0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlKXt0aGlzLl9ldmVudHMub2ZmKHQsZSl9LHQucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlKXt0aGlzLl9ldmVudHMub25jZSh0LGUpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX2V2ZW50cy5jbGVhcigpfSx0LnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCl7VGUuc2hvd01vdGlvblZlY3RvcnMmJihHZSh0LEx0LlllbGxvdyx0aGlzLmJvZHkucG9zLHRoaXMuYm9keS5hY2MuYWRkKFRlLmFjYykpLEdlKHQsTHQuUmVkLHRoaXMuYm9keS5wb3MsdGhpcy5ib2R5LnZlbCksVmUodCxMdC5SZWQsdGhpcy5ib2R5LnBvcykpLFRlLnNob3dCb3VuZHMmJnRoaXMuYm91bmRzLmRlYnVnRHJhdyh0LEx0LlllbGxvdyksVGUuc2hvd0FyZWEmJnRoaXMuc2hhcGUuZGVidWdEcmF3KHQsTHQuR3JlZW4pfSx0fSgpLCRlPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCksdGk9ZnVuY3Rpb24odCxlLGksbil7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PW4/bj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsaSk6bjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLGksbik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkocj10W2FdKSYmKHM9KG88Mz9yKHMpOm8+Mz9yKGUsaSxzKTpyKGUsaSkpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHMpLHN9O2Z1bmN0aW9uIGVpKHQpe3JldHVybiB0IGluc3RhbmNlb2YgaWl9dmFyIGlpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4scixvKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxpLG4scixvKXx8dGhpc31yZXR1cm4gJGUoZSx0KSxlfShadChmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGksbixyLG8scyl7dmFyIGE9dC5jYWxsKHRoaXMpfHx0aGlzO2EuaWQ9ZS5tYXhJZCsrLGEuX2hlaWdodD0wLGEuX3dpZHRoPTAsYS5pc09mZlNjcmVlbj0hMSxhLnZpc2libGU9ITAsYS5vcGFjaXR5PTEsYS5wcmV2aW91c09wYWNpdHk9MSxhLmxvZ2dlcj1SLmdldEluc3RhbmNlKCksYS5zY2VuZT1udWxsLGEucGFyZW50PW51bGwsYS5jaGlsZHJlbj1bXSxhLl9pc0luaXRpYWxpemVkPSExLGEuZnJhbWVzPXt9LGEuX2VmZmVjdHNEaXJ0eT0hMSxhLmN1cnJlbnREcmF3aW5nPW51bGwsYS5fZHJhZ2dhYmxlPSExLGEuX2RyYWdnaW5nPSExLGEuX3BvaW50ZXJEcmFnU3RhcnRIYW5kbGVyPWZ1bmN0aW9uKCl7YS5fZHJhZ2dpbmc9ITB9LGEuX3BvaW50ZXJEcmFnRW5kSGFuZGxlcj1mdW5jdGlvbigpe2EuX2RyYWdnaW5nPSExfSxhLl9wb2ludGVyRHJhZ01vdmVIYW5kbGVyPWZ1bmN0aW9uKHQpe2EuX2RyYWdnaW5nJiYoYS5wb3M9dC5wb2ludGVyLmxhc3RXb3JsZFBvcyl9LGEuX3BvaW50ZXJEcmFnTGVhdmVIYW5kbGVyPWZ1bmN0aW9uKHQpe2EuX2RyYWdnaW5nJiYoYS5wb3M9dC5wb2ludGVyLmxhc3RXb3JsZFBvcyl9LGEudHJhaXRzPVtdLGEuZW5hYmxlQ2FwdHVyZVBvaW50ZXI9ITEsYS5jYXB0dXJlUG9pbnRlcj17Y2FwdHVyZU1vdmVFdmVudHM6ITEsY2FwdHVyZURyYWdFdmVudHM6ITF9LGEuX3pJbmRleD0wLGEuX2lzS2lsbGVkPSExLGEuX29wYWNpdHlGeD1uZXcgVXQoYS5vcGFjaXR5KSxhLl9jYXB0dXJlUG9pbnRlckV2ZW50cz1bXCJwb2ludGVydXBcIixcInBvaW50ZXJkb3duXCIsXCJwb2ludGVybW92ZVwiLFwicG9pbnRlcmVudGVyXCIsXCJwb2ludGVybGVhdmVcIixcInBvaW50ZXJkcmFnc3RhcnRcIixcInBvaW50ZXJkcmFnZW5kXCIsXCJwb2ludGVyZHJhZ21vdmVcIixcInBvaW50ZXJkcmFnZW50ZXJcIixcInBvaW50ZXJkcmFnbGVhdmVcIl0sYS5fY2FwdHVyZU1vdmVFdmVudHM9W1wicG9pbnRlcm1vdmVcIixcInBvaW50ZXJlbnRlclwiLFwicG9pbnRlcmxlYXZlXCIsXCJwb2ludGVyZHJhZ21vdmVcIixcInBvaW50ZXJkcmFnZW50ZXJcIixcInBvaW50ZXJkcmFnbGVhdmVcIl0sYS5fY2FwdHVyZURyYWdFdmVudHM9W1wicG9pbnRlcmRyYWdzdGFydFwiLFwicG9pbnRlcmRyYWdlbmRcIixcInBvaW50ZXJkcmFnbW92ZVwiLFwicG9pbnRlcmRyYWdlbnRlclwiLFwicG9pbnRlcmRyYWdsZWF2ZVwiXSxhLl9pbml0RGVmYXVsdHMoKTt2YXIgYz0hMCxoPW5lLlBhc3NpdmU7aWYoaSYmXCJvYmplY3RcIj09dHlwZW9mIGkpe3ZhciB1PWk7dS5wb3M/KGk9dS5wb3M/dS5wb3MueDowLG49dS5wb3M/dS5wb3MueTowKTooaT11Lnh8fDAsbj11Lnl8fDApLHI9dS53aWR0aCxvPXUuaGVpZ2h0LHUuYm9keSYmKGM9ITEsYS5ib2R5PXUuYm9keSksdS5hbmNob3ImJihhLmFuY2hvcj11LmFuY2hvciksdS5jb2xsaXNpb25UeXBlJiYoaD11LmNvbGxpc2lvblR5cGUpfXJldHVybiBhLl93aWR0aD1yfHwwLGEuX2hlaWdodD1vfHwwLGMmJihhLmJvZHk9bmV3IHplKHtjb2xsaWRlcjpuZXcgSmUoe3R5cGU6aCxzaGFwZTpMZS5Cb3goYS5fd2lkdGgsYS5faGVpZ2h0LGEuYW5jaG9yKX0pfSkpLGEucG9zLng9aXx8MCxhLnBvcy55PW58fDAscyYmKGEuY29sb3I9cyxhLm9wYWNpdHk9cy5hKSxhLnRyYWl0cy5wdXNoKG5ldyBIZSksYS50cmFpdHMucHVzaChuZXcgVWUpLGEudHJhaXRzLnB1c2gobmV3IE5lKSxhLmFjdGlvblF1ZXVlPW5ldyB3ZShhKSxhLmFjdGlvbnM9bmV3IFNlKGEpLGF9cmV0dXJuICRlKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYm9keVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm9keX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2JvZHk9dCx0aGlzLl9ib2R5LmFjdG9yPXRoaXN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicG9zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkucG9zfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ib2R5LnBvcy5zZXRUbyh0LngsdC55KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbGRQb3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS5vbGRQb3N9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkub2xkUG9zLnNldFRvKHQueCx0LnkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInZlbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LnZlbH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYm9keS52ZWwuc2V0VG8odC54LHQueSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib2xkVmVsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkub2xkVmVsfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ib2R5Lm9sZFZlbC5zZXRUbyh0LngsdC55KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhY2NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS5hY2N9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkuYWNjLnNldFRvKHQueCx0LnkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9sZEFjY1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5Lm9sZEFjY30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYm9keS5vbGRBY2Muc2V0VG8odC54LHQueSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicm90YXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS5yb3RhdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYm9keS5yb3RhdGlvbj10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInJ4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkucnh9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkucng9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzY2FsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LnNjYWxlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ib2R5LnNjYWxlPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib2xkU2NhbGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS5vbGRTY2FsZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYm9keS5vbGRTY2FsZT10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInN4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkuc3h9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkuc3g9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzeVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LnN5fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ib2R5LnN5PXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZHJhZ2dhYmxlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmFnZ2FibGV9LHNldDpmdW5jdGlvbih0KXt0JiYodCYmIXRoaXMuX2RyYWdnYWJsZT8odGhpcy5vbihcInBvaW50ZXJkcmFnc3RhcnRcIix0aGlzLl9wb2ludGVyRHJhZ1N0YXJ0SGFuZGxlciksdGhpcy5vbihcInBvaW50ZXJkcmFnZW5kXCIsdGhpcy5fcG9pbnRlckRyYWdFbmRIYW5kbGVyKSx0aGlzLm9uKFwicG9pbnRlcmRyYWdtb3ZlXCIsdGhpcy5fcG9pbnRlckRyYWdNb3ZlSGFuZGxlciksdGhpcy5vbihcInBvaW50ZXJkcmFnbGVhdmVcIix0aGlzLl9wb2ludGVyRHJhZ0xlYXZlSGFuZGxlcikpOiF0JiZ0aGlzLl9kcmFnZ2FibGUmJih0aGlzLm9mZihcInBvaW50ZXJkcmFnc3RhcnRcIix0aGlzLl9wb2ludGVyRHJhZ1N0YXJ0SGFuZGxlciksdGhpcy5vZmYoXCJwb2ludGVyZHJhZ2VuZFwiLHRoaXMuX3BvaW50ZXJEcmFnRW5kSGFuZGxlciksdGhpcy5vZmYoXCJwb2ludGVyZHJhZ21vdmVcIix0aGlzLl9wb2ludGVyRHJhZ01vdmVIYW5kbGVyKSx0aGlzLm9mZihcInBvaW50ZXJkcmFnbGVhdmVcIix0aGlzLl9wb2ludGVyRHJhZ0xlYXZlSGFuZGxlcikpLHRoaXMuX2RyYWdnYWJsZT10KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjb2xvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sb3J9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9jb2xvcj10LmNsb25lKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUub25Jbml0aWFsaXplPWZ1bmN0aW9uKHQpe30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNJbml0aWFsaXplZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNJbml0aWFsaXplZH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5faW5pdGlhbGl6ZT1mdW5jdGlvbihlKXt0aGlzLmlzSW5pdGlhbGl6ZWR8fCh0aGlzLm9uSW5pdGlhbGl6ZShlKSx0LnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxcImluaXRpYWxpemVcIixuZXcgQXQoZSx0aGlzKSksdGhpcy5faXNJbml0aWFsaXplZD0hMCk7Zm9yKHZhciBpPTAsbj10aGlzLmNoaWxkcmVuO2k8bi5sZW5ndGg7aSsrKXtuW2ldLl9pbml0aWFsaXplKGUpfX0sZS5wcm90b3R5cGUuX2luaXREZWZhdWx0cz1mdW5jdGlvbigpe3RoaXMuYW5jaG9yPWlpLmRlZmF1bHRzLmFuY2hvci5jbG9uZSgpfSxlLnByb3RvdHlwZS5fY2hlY2tGb3JQb2ludGVyT3B0SW49ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9dC50b0xvd2VyQ2FzZSgpOy0xIT09dGhpcy5fY2FwdHVyZVBvaW50ZXJFdmVudHMuaW5kZXhPZihlKSYmKHRoaXMuZW5hYmxlQ2FwdHVyZVBvaW50ZXI9ITAsLTEhPT10aGlzLl9jYXB0dXJlTW92ZUV2ZW50cy5pbmRleE9mKGUpJiYodGhpcy5jYXB0dXJlUG9pbnRlci5jYXB0dXJlTW92ZUV2ZW50cz0hMCksLTEhPT10aGlzLl9jYXB0dXJlRHJhZ0V2ZW50cy5pbmRleE9mKGUpJiYodGhpcy5jYXB0dXJlUG9pbnRlci5jYXB0dXJlRHJhZ0V2ZW50cz0hMCkpfX0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSxpKXt0aGlzLl9jaGVja0ZvclBvaW50ZXJPcHRJbihlKSx0LnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsZSxpKX0sZS5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLGkpe3RoaXMuX2NoZWNrRm9yUG9pbnRlck9wdEluKGUpLHQucHJvdG90eXBlLm9uY2UuY2FsbCh0aGlzLGUsaSl9LGUucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLGkpe3QucHJvdG90eXBlLm9mZi5jYWxsKHRoaXMsZSxpKX0sZS5wcm90b3R5cGUuX3ByZWtpbGw9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsXCJwcmVraWxsXCIsbmV3IGl0KHRoaXMpKSx0aGlzLm9uUHJlS2lsbChlKX0sZS5wcm90b3R5cGUub25QcmVLaWxsPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUuX3Bvc3RraWxsPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLFwicG9zdGtpbGxcIixuZXcgbnQodGhpcykpLHRoaXMub25Qb3N0S2lsbChlKX0sZS5wcm90b3R5cGUub25Qb3N0S2lsbD1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLmtpbGw9ZnVuY3Rpb24oKXt0aGlzLnNjZW5lPyh0aGlzLl9wcmVraWxsKHRoaXMuc2NlbmUpLHRoaXMuZW1pdChcImtpbGxcIixuZXcgZXQodGhpcykpLHRoaXMuX2lzS2lsbGVkPSEwLHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMpLHRoaXMuX3Bvc3RraWxsKHRoaXMuc2NlbmUpKTp0aGlzLmxvZ2dlci53YXJuKFwiQ2Fubm90IGtpbGwgYWN0b3IsIGl0IHdhcyBuZXZlciBhZGRlZCB0byB0aGUgU2NlbmVcIil9LGUucHJvdG90eXBlLnVua2lsbD1mdW5jdGlvbigpe3RoaXMuX2lzS2lsbGVkPSExfSxlLnByb3RvdHlwZS5pc0tpbGxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0tpbGxlZH0sZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3QuYm9keS5jb2xsaWRlci50eXBlPW5lLlByZXZlbnRDb2xsaXNpb24sQSh0LHRoaXMuY2hpbGRyZW4pJiYodC5wYXJlbnQ9dGhpcyl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtDKHQsdGhpcy5jaGlsZHJlbikmJih0LnBhcmVudD1udWxsKX0sZS5wcm90b3R5cGUuc2V0RHJhd2luZz1mdW5jdGlvbih0KXt0PXQudG9TdHJpbmcoKSx0aGlzLmN1cnJlbnREcmF3aW5nIT09dGhpcy5mcmFtZXNbdF0mJihudWxsIT10aGlzLmZyYW1lc1t0XT8odGhpcy5mcmFtZXNbdF0ucmVzZXQoKSx0aGlzLmN1cnJlbnREcmF3aW5nPXRoaXMuZnJhbWVzW3RdKTpSLmdldEluc3RhbmNlKCkuZXJyb3IoXCJ0aGUgc3BlY2lmaWVkIGRyYXdpbmcga2V5IFwiK3QrXCIgZG9lcyBub3QgZXhpc3RcIikpfSxlLnByb3RvdHlwZS5hZGREcmF3aW5nPWZ1bmN0aW9uKCl7Mj09PWFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuZnJhbWVzW2FyZ3VtZW50c1swXV09YXJndW1lbnRzWzFdLHRoaXMuY3VycmVudERyYXdpbmd8fCh0aGlzLmN1cnJlbnREcmF3aW5nPWFyZ3VtZW50c1sxXSksdGhpcy5fZWZmZWN0c0RpcnR5PSEwKTooYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB0ZSYmdGhpcy5hZGREcmF3aW5nKFwiZGVmYXVsdFwiLGFyZ3VtZW50c1swXSksYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBpZSYmdGhpcy5hZGREcmF3aW5nKFwiZGVmYXVsdFwiLGFyZ3VtZW50c1swXS5hc1Nwcml0ZSgpKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInpcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0WkluZGV4KCl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnNldFpJbmRleCh0KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRaSW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fekluZGV4fSxlLnByb3RvdHlwZS5zZXRaSW5kZXg9ZnVuY3Rpb24odCl7dGhpcy5zY2VuZS5jbGVhbnVwRHJhd1RyZWUodGhpcyksdGhpcy5fekluZGV4PXQsdGhpcy5zY2VuZS51cGRhdGVEcmF3VHJlZSh0aGlzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY2VudGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgVih0aGlzLnBvcy54K3RoaXMud2lkdGgvMi10aGlzLmFuY2hvci54KnRoaXMud2lkdGgsdGhpcy5wb3MueSt0aGlzLmhlaWdodC8yLXRoaXMuYW5jaG9yLnkqdGhpcy5oZWlnaHQpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aCp0aGlzLmdldEdsb2JhbFNjYWxlKCkueH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3dpZHRoPXQvdGhpcy5zY2FsZS54LHRoaXMuYm9keS5jb2xsaWRlci5zaGFwZT1MZS5Cb3godGhpcy5fd2lkdGgsdGhpcy5faGVpZ2h0LHRoaXMuYW5jaG9yKSx0aGlzLmJvZHkubWFya0NvbGxpc2lvblNoYXBlRGlydHkoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlaWdodCp0aGlzLmdldEdsb2JhbFNjYWxlKCkueX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2hlaWdodD10L3RoaXMuc2NhbGUueSx0aGlzLmJvZHkuY29sbGlkZXIuc2hhcGU9TGUuQm94KHRoaXMuX3dpZHRoLHRoaXMuX2hlaWdodCx0aGlzLmFuY2hvciksdGhpcy5ib2R5Lm1hcmtDb2xsaXNpb25TaGFwZURpcnR5KCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0V29ybGRSb3RhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnJvdGF0aW9uK3RoaXMucGFyZW50LmdldFdvcmxkUm90YXRpb24oKTp0aGlzLnJvdGF0aW9ufSxlLnByb3RvdHlwZS5nZXRXb3JsZFBvcz1mdW5jdGlvbigpe2lmKCF0aGlzLnBhcmVudClyZXR1cm4gdGhpcy5wb3MuY2xvbmUoKTt2YXIgdD1bXSxlPXRoaXM7Zm9yKHQucHVzaCh0aGlzKTtlLnBhcmVudDspZT1lLnBhcmVudCx0LnB1c2goZSk7dmFyIGk9dC5yZWR1Y2VSaWdodCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5wYXJlbnQ/dCtlLnBvcy54KmUuZ2V0R2xvYmFsU2NhbGUoKS54OnQrZS5wb3MueH0pLDApLG49dC5yZWR1Y2VSaWdodCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5wYXJlbnQ/dCtlLnBvcy55KmUuZ2V0R2xvYmFsU2NhbGUoKS55OnQrZS5wb3MueX0pLDApLHI9ZS5nZXRXb3JsZFBvcygpLG89dGhpcy5nZXRXb3JsZFJvdGF0aW9uKCk7cmV0dXJuIG5ldyBWKGksbikucm90YXRlKG8scil9LGUucHJvdG90eXBlLmdldEdsb2JhbFNjYWxlPWZ1bmN0aW9uKCl7aWYoIXRoaXMucGFyZW50KXJldHVybiBuZXcgVih0aGlzLnNjYWxlLngsdGhpcy5zY2FsZS55KTt2YXIgdD10aGlzLnBhcmVudC5nZXRHbG9iYWxTY2FsZSgpO3JldHVybiBuZXcgVih0aGlzLnNjYWxlLngqdC54LHRoaXMuc2NhbGUueSp0LnkpfSxlLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09aSYmKGk9ITEpO3ZhciBuPXRoaXMuZ2V0V29ybGRQb3MoKS5zdWIodGhpcy5wb3MpLHI9dGhpcy5ib2R5LmNvbGxpZGVyLmJvdW5kcy50cmFuc2xhdGUobikuY29udGFpbnMobmV3IFYodCxlKSk7cmV0dXJuIGk/cnx8dGhpcy5jaGlsZHJlbi5zb21lKChmdW5jdGlvbihpKXtyZXR1cm4gaS5jb250YWlucyh0LGUsITApfSkpOnJ9LGUucHJvdG90eXBlLndpdGhpbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmJvZHkuY29sbGlkZXIuc2hhcGUuZ2V0Q2xvc2VzdExpbmVCZXR3ZWVuKHQuYm9keS5jb2xsaWRlci5zaGFwZSkuZ2V0TGVuZ3RoKCk8PWV9LGUucHJvdG90eXBlLl9yZWFwcGx5RWZmZWN0cz1mdW5jdGlvbih0KXt0LnJlbW92ZUVmZmVjdCh0aGlzLl9vcGFjaXR5RngpLHQuYWRkRWZmZWN0KHRoaXMuX29wYWNpdHlGeCl9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2luaXRpYWxpemUodCksdGhpcy5fcHJldXBkYXRlKHQsZSksdGhpcy5hY3Rpb25RdWV1ZS51cGRhdGUoZSksdGhpcy5jb2xvciYmKHRoaXMuY29sb3IuYT10aGlzLm9wYWNpdHkpLDA9PT10aGlzLm9wYWNpdHkmJih0aGlzLnZpc2libGU9ITEpLHRoaXMucHJldmlvdXNPcGFjaXR5IT09dGhpcy5vcGFjaXR5JiYodGhpcy5wcmV2aW91c09wYWNpdHk9dGhpcy5vcGFjaXR5LHRoaXMuX29wYWNpdHlGeC5vcGFjaXR5PXRoaXMub3BhY2l0eSx0aGlzLl9lZmZlY3RzRGlydHk9ITApLHRoaXMuYm9keS5jYXB0dXJlT2xkVHJhbnNmb3JtKCksdGhpcy5ib2R5LmludGVncmF0ZShlKTtmb3IodmFyIGk9MCxuPXRoaXMudHJhaXRzO2k8bi5sZW5ndGg7aSsrKXtuW2ldLnVwZGF0ZSh0aGlzLHQsZSl9Zm9yKHZhciByPTA7cjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtyKyspdGhpcy5jaGlsZHJlbltyXS51cGRhdGUodCxlKTt0aGlzLl9wb3N0dXBkYXRlKHQsZSl9LGUucHJvdG90eXBlLm9uUHJlVXBkYXRlPWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS5vblBvc3RVcGRhdGU9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLl9wcmV1cGRhdGU9ZnVuY3Rpb24odCxlKXt0aGlzLmVtaXQoXCJwcmV1cGRhdGVcIixuZXcgdXQodCxlLHRoaXMpKSx0aGlzLm9uUHJlVXBkYXRlKHQsZSl9LGUucHJvdG90eXBlLl9wb3N0dXBkYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0KFwicG9zdHVwZGF0ZVwiLG5ldyB1dCh0LGUsdGhpcykpLHRoaXMub25Qb3N0VXBkYXRlKHQsZSl9LGUucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlKXtpZih0LnNhdmUoKSx0LnRyYW5zbGF0ZSh0aGlzLnBvcy54LHRoaXMucG9zLnkpLHQucm90YXRlKHRoaXMucm90YXRpb24pLHQuc2NhbGUodGhpcy5zY2FsZS54LHRoaXMuc2NhbGUueSksdC5zYXZlKCksdC50cmFuc2xhdGUoLXRoaXMuX3dpZHRoKnRoaXMuYW5jaG9yLngsLXRoaXMuX2hlaWdodCp0aGlzLmFuY2hvci55KSx0aGlzLl9wcmVkcmF3KHQsZSksdGhpcy5jdXJyZW50RHJhd2luZyl7dmFyIGk9dGhpcy5jdXJyZW50RHJhd2luZyxuPSh0aGlzLl93aWR0aC1pLndpZHRoKmkuc2NhbGUueCkqdGhpcy5hbmNob3IueCxyPSh0aGlzLl9oZWlnaHQtaS5oZWlnaHQqaS5zY2FsZS55KSp0aGlzLmFuY2hvci55O3RoaXMuX2VmZmVjdHNEaXJ0eSYmKHRoaXMuX3JlYXBwbHlFZmZlY3RzKHRoaXMuY3VycmVudERyYXdpbmcpLHRoaXMuX2VmZmVjdHNEaXJ0eT0hMSksdGhpcy5jdXJyZW50RHJhd2luZy5kcmF3KHQsbixyKX1lbHNlIHRoaXMuY29sb3ImJnRoaXMuYm9keSYmdGhpcy5ib2R5LmNvbGxpZGVyJiZ0aGlzLmJvZHkuY29sbGlkZXIuc2hhcGUmJnRoaXMuYm9keS5jb2xsaWRlci5zaGFwZS5kcmF3KHQsdGhpcy5jb2xvcixuZXcgVih0aGlzLndpZHRoKnRoaXMuYW5jaG9yLngsdGhpcy5oZWlnaHQqdGhpcy5hbmNob3IueSkpO3QucmVzdG9yZSgpO2Zvcih2YXIgbz0wO288dGhpcy5jaGlsZHJlbi5sZW5ndGg7bysrKXRoaXMuY2hpbGRyZW5bb10udmlzaWJsZSYmdGhpcy5jaGlsZHJlbltvXS5kcmF3KHQsZSk7dGhpcy5fcG9zdGRyYXcodCxlKSx0LnJlc3RvcmUoKX0sZS5wcm90b3R5cGUub25QcmVEcmF3PWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS5vblBvc3REcmF3PWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS5fcHJlZHJhdz1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInByZWRyYXdcIixuZXcgc3QodCxlLHRoaXMpKSx0aGlzLm9uUHJlRHJhdyh0LGUpfSxlLnByb3RvdHlwZS5fcG9zdGRyYXc9ZnVuY3Rpb24odCxlKXt0aGlzLmVtaXQoXCJwb3N0ZHJhd1wiLG5ldyBzdCh0LGUsdGhpcykpLHRoaXMub25Qb3N0RHJhdyh0LGUpfSxlLnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCl7dGhpcy5lbWl0KFwicHJlZGVidWdkcmF3XCIsbmV3IGN0KHQsdGhpcykpLHRoaXMuYm9keS5jb2xsaWRlci5kZWJ1Z0RyYXcodCk7dmFyIGU9dGhpcy5ib2R5LmNvbGxpZGVyLmxvY2FsQm91bmRzLnRyYW5zbGF0ZSh0aGlzLmdldFdvcmxkUG9zKCkpO2UuZGVidWdEcmF3KHQpLHQuZmlsbFRleHQoXCJpZDogXCIrdGhpcy5pZCxlLmxlZnQrMyxlLnRvcCsxMCksdC5maWxsU3R5bGU9THQuWWVsbG93LnRvU3RyaW5nKCksdC5iZWdpblBhdGgoKSx0LmFyYyh0aGlzLmdldFdvcmxkUG9zKCkueCx0aGlzLmdldFdvcmxkUG9zKCkueSwzLDAsMipNYXRoLlBJKSx0LmNsb3NlUGF0aCgpLHQuZmlsbCgpO2Zvcih2YXIgaT0wO2k8dGhpcy50cmFpdHMubGVuZ3RoO2krKyl0aGlzLnRyYWl0c1tpXWluc3RhbmNlb2YgVWUmJnRoaXMudHJhaXRzW2ldLmN1bGxpbmdCb3guZGVidWdEcmF3KHQpO3Quc3Ryb2tlU3R5bGU9THQuWWVsbG93LnRvU3RyaW5nKCksdC5iZWdpblBhdGgoKTt2YXIgbj1NYXRoLm1pbih0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTt0LmFyYyh0aGlzLmdldFdvcmxkUG9zKCkueCx0aGlzLmdldFdvcmxkUG9zKCkueSxuLDAsMipNYXRoLlBJKSx0LmNsb3NlUGF0aCgpLHQuc3Ryb2tlKCk7dmFyIHI9e1wiMCBQaVwiOjAsXCJQaS8yXCI6TWF0aC5QSS8yLFBpOk1hdGguUEksXCIzLzIgUGlcIjozKk1hdGguUEkvMn0sbz10LmZvbnQ7Zm9yKHZhciBzIGluIHIpdC5maWxsU3R5bGU9THQuWWVsbG93LnRvU3RyaW5nKCksdC5mb250PVwiMTRweFwiLHQudGV4dEFsaWduPVwiY2VudGVyXCIsdC5maWxsVGV4dChzLHRoaXMuZ2V0V29ybGRQb3MoKS54K01hdGguY29zKHJbc10pKihuKzEwKSx0aGlzLmdldFdvcmxkUG9zKCkueStNYXRoLnNpbihyW3NdKSoobisxMCkpO3QuZm9udD1vO2Zvcih2YXIgYT0wO2E8dGhpcy5jaGlsZHJlbi5sZW5ndGg7YSsrKXRoaXMuY2hpbGRyZW5bYV0uZGVidWdEcmF3KHQpO3RoaXMuZW1pdChcInBvc3RkZWJ1Z2RyYXdcIixuZXcgaHQodCx0aGlzKSl9LGUucHJvdG90eXBlLmdldEFuY2VzdG9ycz1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPVt0aGlzXSxpPXRoaXM7dD1pLnBhcmVudDspaT10LGUucHVzaChpKTtyZXR1cm4gZS5yZXZlcnNlKCl9LGUuZGVmYXVsdHM9e2FuY2hvcjpWLkhhbGZ9LGUubWF4SWQ9MCx0aShbTih7bWVzc2FnZTpcImV4LkFjdG9yLnN4IHdpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNS4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiU2V0IHdpZHRoIGFuZCBoZWlnaHQgZGlyZWN0bHkgaW4gY29uc3RydWN0b3JcIn0pXSxlLnByb3RvdHlwZSxcInN4XCIsbnVsbCksdGkoW04oe21lc3NhZ2U6XCJleC5BY3Rvci5zeSB3aWxsIGJlIHJlbW92ZWQgaW4gdjAuMjUuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIlNldCB3aWR0aCBhbmQgaGVpZ2h0IGRpcmVjdGx5IGluIGNvbnN0cnVjdG9yXCJ9KV0sZS5wcm90b3R5cGUsXCJzeVwiLG51bGwpLGV9KFJ0KSkpLG5pPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCkscmk9ZnVuY3Rpb24odCxlLGksbil7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PW4/bj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsaSk6bjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLGksbik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkocj10W2FdKSYmKHM9KG88Mz9yKHMpOm8+Mz9yKGUsaSxzKTpyKGUsaSkpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHMpLHN9LG9pPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4scil7dmFyIG89dGhpcztyZXR1cm4obz1cIm9iamVjdFwiIT10eXBlb2YgZT90LmNhbGwodGhpcyxlLGksbixyKXx8dGhpczp0LmNhbGwodGhpcyxlKXx8dGhpcykudHJhaXRzPVtdLG8udHJhaXRzLnB1c2gobmV3IE5lKSxvLmFuY2hvci5zZXRUbygwLDApLG8uYm9keS5jb2xsaWRlci50eXBlPW5lLlByZXZlbnRDb2xsaXNpb24sby5ib2R5LmNvbGxpZGVyLnNoYXBlPUxlLkJveChvLndpZHRoLG8uaGVpZ2h0LG8uYW5jaG9yKSxvLmVuYWJsZUNhcHR1cmVQb2ludGVyPSEwLG99cmV0dXJuIG5pKGUsdCksZS5wcm90b3R5cGUuX2luaXRpYWxpemU9ZnVuY3Rpb24oZSl7dGhpcy5fZW5naW5lPWUsdC5wcm90b3R5cGUuX2luaXRpYWxpemUuY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlLGksbil7aWYodm9pZCAwPT09biYmKG49ITApLG4pcmV0dXJuIHQucHJvdG90eXBlLmNvbnRhaW5zLmNhbGwodGhpcyxlLGkpO3ZhciByPXRoaXMuX2VuZ2luZS53b3JsZFRvU2NyZWVuQ29vcmRpbmF0ZXMobmV3IFYoZSxpKSk7cmV0dXJuIHQucHJvdG90eXBlLmNvbnRhaW5zLmNhbGwodGhpcyxyLngsci55KX0sZX0oaWkpLHNpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuaShlLHQpLGU9cmkoW04oe21lc3NhZ2U6XCJXaWxsIGJlIHJlbW92ZWQgaW4gdjAuMjUuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIlNjcmVlbkVsZW1lbnRcIn0pXSxlKX0ob2kpLGFpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGksbixyKXtpZih0aGlzLmlkPTAsdGhpcy5pbnRlcnZhbD0xMCx0aGlzLnJlcGVhdHM9ITEsdGhpcy5tYXhOdW1iZXJPZlJlcGVhdHM9LTEsdGhpcy5fZWxhcHNlZFRpbWU9MCx0aGlzLl90b3RhbFRpbWVBbGl2ZT0wLHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9udW1iZXJPZlRpY2tzPTAsdGhpcy5jb21wbGV0ZT0hMSx0aGlzLnNjZW5lPW51bGwsXCJmdW5jdGlvblwiIT10eXBlb2YgZSl7dmFyIG89ZTtlPW8uZmNuLGk9by5pbnRlcnZhbCxuPW8ucmVwZWF0cyxyPW8ubnVtYmVyT2ZSZXBlYXRzfWlmKHImJnI+PTAmJih0aGlzLm1heE51bWJlck9mUmVwZWF0cz1yLCFuKSl0aHJvdyBuZXcgRXJyb3IoXCJyZXBlYXRzIG11c3QgYmUgc2V0IHRvIHRydWUgaWYgbnVtYmVyT2ZSZXBlYXRzIGlzIHNldFwiKTt0aGlzLmlkPXQuaWQrKyx0aGlzLmludGVydmFsPWl8fHRoaXMuaW50ZXJ2YWwsdGhpcy5yZXBlYXRzPW58fHRoaXMucmVwZWF0cyx0aGlzLl9jYWxsYmFja3M9W10sZSYmdGhpcy5vbihlKX1yZXR1cm4gdC5wcm90b3R5cGUub249ZnVuY3Rpb24odCl7dGhpcy5fY2FsbGJhY2tzLnB1c2godCl9LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jYWxsYmFja3MuaW5kZXhPZih0KTt0aGlzLl9jYWxsYmFja3Muc3BsaWNlKGUsMSl9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX3BhdXNlZHx8KHRoaXMuX3RvdGFsVGltZUFsaXZlKz10LHRoaXMuX2VsYXBzZWRUaW1lKz10LHRoaXMubWF4TnVtYmVyT2ZSZXBlYXRzPi0xJiZ0aGlzLl9udW1iZXJPZlRpY2tzPj10aGlzLm1heE51bWJlck9mUmVwZWF0cyYmKHRoaXMuY29tcGxldGU9ITApLCF0aGlzLmNvbXBsZXRlJiZ0aGlzLl9lbGFwc2VkVGltZT49dGhpcy5pbnRlcnZhbCYmKHRoaXMuX2NhbGxiYWNrcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmNhbGwoZSl9KSksdGhpcy5fbnVtYmVyT2ZUaWNrcysrLHRoaXMucmVwZWF0cz90aGlzLl9lbGFwc2VkVGltZT0wOnRoaXMuY29tcGxldGU9ITApKX0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCxlKXtpZih0JiZ0Pj0wJiYodGhpcy5pbnRlcnZhbD10KSx0aGlzLm1heE51bWJlck9mUmVwZWF0cyYmdGhpcy5tYXhOdW1iZXJPZlJlcGVhdHM+PTAmJih0aGlzLm1heE51bWJlck9mUmVwZWF0cz1lLCF0aGlzLnJlcGVhdHMpKXRocm93IG5ldyBFcnJvcihcInJlcGVhdHMgbXVzdCBiZSBzZXQgdG8gdHJ1ZSBpZiBudW1iZXJPZlJlcGVhdHMgaXMgc2V0XCIpO3RoaXMuY29tcGxldGU9ITEsdGhpcy5fZWxhcHNlZFRpbWU9MCx0aGlzLl9udW1iZXJPZlRpY2tzPTB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInRpbWVzUmVwZWF0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX251bWJlck9mVGlja3N9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZ2V0VGltZVJ1bm5pbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG90YWxUaW1lQWxpdmV9LHQucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkPSEwfSx0LnByb3RvdHlwZS51bnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkPSExfSx0LnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLnNjZW5lJiZ0aGlzLnNjZW5lLmNhbmNlbFRpbWVyKHRoaXMpfSx0LmlkPTAsdH0oKSxjaT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLGhpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4scixvLHMpe3JldHVybiB0LmNhbGwodGhpcyxlLGksbixyLG8scyl8fHRoaXN9cmV0dXJuIGNpKGUsdCksZX0oWnQoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbixyLG8scyl7dmFyIGE9dC5jYWxsKHRoaXMpfHx0aGlzO2lmKGEuX2NvbGxpZGluZ1g9LTEsYS5fY29sbGlkaW5nWT0tMSxhLl9vblNjcmVlblhTdGFydD0wLGEuX29uU2NyZWVuWEVuZD05OTk5LGEuX29uU2NyZWVuWVN0YXJ0PTAsYS5fb25TY3JlZW5ZRW5kPTk5OTksYS5fc3ByaXRlU2hlZXRzPXt9LGEubG9nZ2VyPVIuZ2V0SW5zdGFuY2UoKSxhLmRhdGE9W10sZSYmXCJvYmplY3RcIj09dHlwZW9mIGUpe3ZhciBjPWU7ZT1jLngsaT1jLnksbj1jLmNlbGxXaWR0aCxyPWMuY2VsbEhlaWdodCxvPWMucm93cyxzPWMuY29sc31hLng9ZSxhLnk9aSxhLmNlbGxXaWR0aD1uLGEuY2VsbEhlaWdodD1yLGEucm93cz1vLGEuY29scz1zLGEuZGF0YT1uZXcgQXJyYXkobypzKTtmb3IodmFyIGg9ZnVuY3Rpb24odCl7Zm9yKHZhciBjPWZ1bmN0aW9uKG8pe3ZhciBjO2M9bmV3IGxpKHQqbitlLG8qcitpLG4scix0K28qcyksYS5kYXRhW3QrbypzXT1jfSxoPTA7aDxvO2grKyljKGgpfSx1PTA7dTxzO3UrKyloKHUpO3JldHVybiBhfXJldHVybiBjaShlLHQpLGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsaSl7dC5wcm90b3R5cGUub24uY2FsbCh0aGlzLGUsaSl9LGUucHJvdG90eXBlLnJlZ2lzdGVyU3ByaXRlU2hlZXQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9zcHJpdGVTaGVldHNbdF09ZX0sZS5wcm90b3R5cGUuY29sbGlkZXM9ZnVuY3Rpb24odCl7dmFyIGU9dC5wb3MueCt0LndpZHRoLGk9dC5wb3MueSt0LmhlaWdodCxuPXQuYm9keS5jb2xsaWRlci5ib3VuZHMscj1bXTtpZih0LndpZHRoPD0wfHx0LmhlaWdodDw9MClyZXR1cm4gbnVsbDtmb3IodmFyIG89bi5sZWZ0O288PWU7bys9TWF0aC5taW4odC53aWR0aC8yLHRoaXMuY2VsbFdpZHRoLzIpKWZvcih2YXIgcz1uLnRvcDtzPD1pO3MrPU1hdGgubWluKHQuaGVpZ2h0LzIsdGhpcy5jZWxsSGVpZ2h0LzIpKXt2YXIgYT10aGlzLmdldENlbGxCeVBvaW50KG8scyk7aWYoYSYmYS5zb2xpZCl7dmFyIGM9bi5pbnRlcnNlY3QoYS5ib3VuZHMpLGg9dC5jZW50ZXIuc3ViKGEuY2VudGVyKTtjJiZjLmRvdChoKT4wJiZyLnB1c2goYyl9fXJldHVybiAwPT09ci5sZW5ndGg/bnVsbDpyLnJlZHVjZSgoZnVuY3Rpb24odCxlKXt2YXIgaT10Lngsbj10Lnk7cmV0dXJuIE1hdGguYWJzKHQueCk8TWF0aC5hYnMoZS54KSYmKGk9ZS54KSxNYXRoLmFicyh0LnkpPE1hdGguYWJzKGUueSkmJihuPWUueSksbmV3IFYoaSxuKX0pKX0sZS5wcm90b3R5cGUuZ2V0Q2VsbEJ5SW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YVt0XX0sZS5wcm90b3R5cGUuZ2V0Q2VsbD1mdW5jdGlvbih0LGUpe3JldHVybiB0PDB8fGU8MHx8dD49dGhpcy5jb2xzfHxlPj10aGlzLnJvd3M/bnVsbDp0aGlzLmRhdGFbdCtlKnRoaXMuY29sc119LGUucHJvdG90eXBlLmdldENlbGxCeVBvaW50PWZ1bmN0aW9uKHQsZSl7dD1NYXRoLmZsb29yKCh0LXRoaXMueCkvdGhpcy5jZWxsV2lkdGgpLGU9TWF0aC5mbG9vcigoZS10aGlzLnkpL3RoaXMuY2VsbEhlaWdodCk7dmFyIGk9dGhpcy5nZXRDZWxsKHQsZSk7cmV0dXJuIHQ+PTAmJmU+PTAmJnQ8dGhpcy5jb2xzJiZlPHRoaXMucm93cyYmaT9pOm51bGx9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInByZXVwZGF0ZVwiLG5ldyB1dCh0LGUsdGhpcykpO3ZhciBpPXQuc2NyZWVuVG9Xb3JsZENvb3JkaW5hdGVzKG5ldyBWKDAsMCkpLG49dC5zY3JlZW5Ub1dvcmxkQ29vcmRpbmF0ZXMobmV3IFYodC5jYW52YXMuY2xpZW50V2lkdGgsdC5jYW52YXMuY2xpZW50SGVpZ2h0KSk7dGhpcy5fb25TY3JlZW5YU3RhcnQ9TWF0aC5tYXgoTWF0aC5mbG9vcigoaS54LXRoaXMueCkvdGhpcy5jZWxsV2lkdGgpLTIsMCksdGhpcy5fb25TY3JlZW5ZU3RhcnQ9TWF0aC5tYXgoTWF0aC5mbG9vcigoaS55LXRoaXMueSkvdGhpcy5jZWxsSGVpZ2h0KS0yLDApLHRoaXMuX29uU2NyZWVuWEVuZD1NYXRoLm1heChNYXRoLmZsb29yKChuLngtdGhpcy54KS90aGlzLmNlbGxXaWR0aCkrMiwwKSx0aGlzLl9vblNjcmVlbllFbmQ9TWF0aC5tYXgoTWF0aC5mbG9vcigobi55LXRoaXMueSkvdGhpcy5jZWxsSGVpZ2h0KSsyLDApLHRoaXMuZW1pdChcInBvc3R1cGRhdGVcIixuZXcgbHQodCxlLHRoaXMpKX0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInByZWRyYXdcIixuZXcgc3QodCxlLHRoaXMpKSx0LnNhdmUoKSx0LnRyYW5zbGF0ZSh0aGlzLngsdGhpcy55KTtmb3IodmFyIGksbixyLG89dGhpcy5fb25TY3JlZW5YU3RhcnQscz1NYXRoLm1pbih0aGlzLl9vblNjcmVlblhFbmQsdGhpcy5jb2xzKSxhPXRoaXMuX29uU2NyZWVuWVN0YXJ0LGM9TWF0aC5taW4odGhpcy5fb25TY3JlZW5ZRW5kLHRoaXMucm93cyk7bzxzO28rKyl7Zm9yKDthPGM7YSsrKWZvcihuPTAscj0oaT10aGlzLmdldENlbGwobyxhKS5zcHJpdGVzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3ByaXRlSWQ+LTF9KSkpLmxlbmd0aDtuPHI7bisrKXt2YXIgaD10aGlzLl9zcHJpdGVTaGVldHNbaVtuXS5zcHJpdGVTaGVldEtleV07aWYoaCl7dmFyIHU9aC5nZXRTcHJpdGUoaVtuXS5zcHJpdGVJZCk7dT91LmRyYXcodCxvKnRoaXMuY2VsbFdpZHRoLGEqdGhpcy5jZWxsSGVpZ2h0KTp0aGlzLmxvZ2dlci53YXJuKFwiU3ByaXRlIGRvZXMgbm90IGV4aXN0IGZvciBpZFwiLGlbbl0uc3ByaXRlSWQsXCJpbiBzcHJpdGUgc2hlZXRcIixpW25dLnNwcml0ZVNoZWV0S2V5LHUsaCl9ZWxzZSB0aGlzLmxvZ2dlci53YXJuKFwiU3ByaXRlIHNoZWV0XCIsaVtuXS5zcHJpdGVTaGVldEtleSxcImRvZXMgbm90IGV4aXN0XCIsaCl9YT10aGlzLl9vblNjcmVlbllTdGFydH10LnJlc3RvcmUoKSx0aGlzLmVtaXQoXCJwb3N0ZHJhd1wiLG5ldyBhdCh0LGUsdGhpcykpfSxlLnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb2xzKnRoaXMuY2VsbFdpZHRoLGk9dGhpcy5yb3dzKnRoaXMuY2VsbEhlaWdodDt0LnNhdmUoKSx0LnN0cm9rZVN0eWxlPUx0LlJlZC50b1N0cmluZygpO2Zvcih2YXIgbj0wO248dGhpcy5jb2xzKzE7bisrKXQuYmVnaW5QYXRoKCksdC5tb3ZlVG8odGhpcy54K24qdGhpcy5jZWxsV2lkdGgsdGhpcy55KSx0LmxpbmVUbyh0aGlzLngrbip0aGlzLmNlbGxXaWR0aCx0aGlzLnkraSksdC5zdHJva2UoKTtmb3IodmFyIHI9MDtyPHRoaXMucm93cysxO3IrKyl0LmJlZ2luUGF0aCgpLHQubW92ZVRvKHRoaXMueCx0aGlzLnkrcip0aGlzLmNlbGxIZWlnaHQpLHQubGluZVRvKHRoaXMueCtlLHRoaXMueStyKnRoaXMuY2VsbEhlaWdodCksdC5zdHJva2UoKTt2YXIgbz1MdC5SZWQ7by5hPS4zLHRoaXMuZGF0YS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNvbGlkfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuZmlsbFN0eWxlPW8udG9TdHJpbmcoKSx0LmZpbGxSZWN0KGUueCxlLnksZS53aWR0aCxlLmhlaWdodCl9KSksdGhpcy5fY29sbGlkaW5nWT4tMSYmdGhpcy5fY29sbGlkaW5nWD4tMSYmKHQuZmlsbFN0eWxlPUx0LkN5YW4udG9TdHJpbmcoKSx0LmZpbGxSZWN0KHRoaXMueCt0aGlzLl9jb2xsaWRpbmdYKnRoaXMuY2VsbFdpZHRoLHRoaXMueSt0aGlzLl9jb2xsaWRpbmdZKnRoaXMuY2VsbEhlaWdodCx0aGlzLmNlbGxXaWR0aCx0aGlzLmNlbGxIZWlnaHQpKSx0LnJlc3RvcmUoKX0sZX0oUnQpKSksdWk9ZnVuY3Rpb24odCxlKXt0aGlzLnNwcml0ZVNoZWV0S2V5PXQsdGhpcy5zcHJpdGVJZD1lfSxsaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuLHIsbyxzLGEpe3JldHVybiB0LmNhbGwodGhpcyxlLGksbixyLG8scyxhKXx8dGhpc31yZXR1cm4gY2koZSx0KSxlfShadChmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGksbixyLG8scyl7aWYodm9pZCAwPT09byYmKG89ITEpLHZvaWQgMD09PXMmJihzPVtdKSx0aGlzLnNvbGlkPSExLHRoaXMuc3ByaXRlcz1bXSx0JiZcIm9iamVjdFwiPT10eXBlb2YgdCl7dmFyIGE9dDt0PWEueCxlPWEueSxpPWEud2lkdGgsbj1hLmhlaWdodCxyPWEuaW5kZXgsbz1hLnNvbGlkLHM9YS5zcHJpdGVzfXRoaXMueD10LHRoaXMueT1lLHRoaXMud2lkdGg9aSx0aGlzLmhlaWdodD1uLHRoaXMuaW5kZXg9cix0aGlzLnNvbGlkPW8sdGhpcy5zcHJpdGVzPXMsdGhpcy5fYm91bmRzPW5ldyBNZSh0aGlzLngsdGhpcy55LHRoaXMueCt0aGlzLndpZHRoLHRoaXMueSt0aGlzLmhlaWdodCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJvdW5kc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm91bmRzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNlbnRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFYodGhpcy54K3RoaXMud2lkdGgvMix0aGlzLnkrdGhpcy5oZWlnaHQvMil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucHVzaFNwcml0ZT1mdW5jdGlvbih0KXt0aGlzLnNwcml0ZXMucHVzaCh0KX0sdC5wcm90b3R5cGUucmVtb3ZlU3ByaXRlPWZ1bmN0aW9uKHQpe3ZhciBlOyhlPXRoaXMuc3ByaXRlcy5pbmRleE9mKHQpKT4tMSYmdGhpcy5zcHJpdGVzLnNwbGljZShlLDEpfSx0LnByb3RvdHlwZS5jbGVhclNwcml0ZXM9ZnVuY3Rpb24oKXt0aGlzLnNwcml0ZXMubGVuZ3RoPTB9LHR9KCkpKSxwaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0lOU1RBTkNFfHwod2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkmJih0aGlzLl9JTlNUQU5DRT1uZXcgd2luZG93LkF1ZGlvQ29udGV4dCksdGhpcy5fSU5TVEFOQ0V9LHQuX0lOU1RBTkNFPW51bGwsdH0oKTt2YXIgZGksZmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnVubG9jaz1mdW5jdGlvbigpe3ZhciBlPW5ldyBkO2lmKHQuX3VubG9ja2VkfHwhcGkuY3JlYXRlKCkpcmV0dXJuIGUucmVzb2x2ZSghMCk7dmFyIGk9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtSLmdldEluc3RhbmNlKCkud2FybihcIkV4Y2FsaWJ1ciB3YXMgdW5hYmxlIHRvIHVubG9jayB0aGUgYXVkaW8gY29udGV4dCwgYXVkaW8gcHJvYmFibHkgd2lsbCBub3QgcGxheSBpbiB0aGlzIGJyb3dzZXIuXCIpLGUucmVzb2x2ZSgpfSksMjAwKSxuPXBpLmNyZWF0ZSgpO3JldHVybiBuLnJlc3VtZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIHI9bi5jcmVhdGVCdWZmZXIoMSwxLDIyMDUwKSxvPW4uY3JlYXRlQnVmZmVyU291cmNlKCkscz0hMTtvLmJ1ZmZlcj1yLG8uY29ubmVjdChuLmRlc3RpbmF0aW9uKSxvLm9uZW5kZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gcz0hMH0sby5ub3RlT24/by5ub3RlT24oMCk6by5zdGFydCgwKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpeyFmdW5jdGlvbih0KXtyZXR1cm4hIXQucGxheWJhY2tTdGF0ZX0obyk/KG4uY3VycmVudFRpbWU+MHx8cykmJih0Ll91bmxvY2tlZD0hMCk6by5wbGF5YmFja1N0YXRlIT09by5QTEFZSU5HX1NUQVRFJiZvLnBsYXliYWNrU3RhdGUhPT1vLkZJTklTSEVEX1NUQVRFfHwodC5fdW5sb2NrZWQ9ITApfSksMCksY2xlYXJUaW1lb3V0KGkpLGUuc3RhdGUoKT09PXUuUGVuZGluZyYmZS5yZXNvbHZlKCl9KSwoZnVuY3Rpb24oKXtlLnN0YXRlKCk9PT11LlBlbmRpbmcmJmUucmVqZWN0KCExKX0pKSxlfSx0LmlzVW5sb2NrZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5sb2NrZWR9LHQuX3VubG9ja2VkPSExLHR9KCksZ2k9aSg1OCkseWk9aS5uKGdpKSxfaT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLHZpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLl9yZXNvdXJjZUxpc3Q9W10saS5faW5kZXg9MCxpLl9wbGF5QnV0dG9uU2hvd249ITEsaS5fcmVzb3VyY2VDb3VudD0wLGkuX251bUxvYWRlZD0wLGkuX3Byb2dyZXNzQ291bnRzPXt9LGkuX3RvdGFsQ291bnRzPXt9LGkubG9nbz1cImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBZFFBQUFCMkNBWUFBQUJ4aEdJOUFBQUFDWEJJV1hNQUFBc1NBQUFMRWdIUzNYNzhBQUFLblVsRVFWUjQydTNkUDJ3alN4MEg4TjhoSklvbklSbUpqc3EwU0JSK0JRMWRjcUtoZTBsRDc3U3ZTd3BLa0pLR1B1bHBrdGZSSU1VZEVxS0lxVjU3cnBBb2tNNGRiU2l5cTdPTlBUUDd4MzlpZno3U0ZibkVucDN4ZXI0N083dXpIMTVmWHdNQTZPWUhtZ0FBQkNvQUNGUUFFS2dBZ0VBRkFJRUtBQUlWQUFRcUFDQlFBVUNnQW9CQUJRQ0JDZ0FJVkFBUXFBQWdVQUZBb0FJQUFoVUFCQ29BQ0ZRQUVLZ0FnRUNGTGJtT2lOZUZmMlBiQXl6NjhQcjZxaFVnYlJ3UjkydisvendpSnJZSE1FS0ZNbWNOLy8vVXRnY1FxRkJrMVBELzk3VTlReDhWQ0ZTZ3U0RW1BSUVLQUFJVkFBUXFBQ0JRNFoyNWpvalA4ZVgrMFd0TkFnSVZhT1krSW01aitlS2gyNGg0MWpRZ1VJRXlaN0Y1TmFQVTd3Q0JDaXdZZC93OWNPQitxQWxnSjNLTExvdzBFVjE5ODgwM1JXdkpmdmZkZHgrMGxoRXFIS3U1SmdBalZDQnZsaG1GempRUlhVZWtIejkrVFA3OXk4dUxSak5DaFhmdm9lUHZBWUVLeE50ajFlNDIvTzVKb0lKQUJjcmRSTVJWTE0rWDNrVEVwYWFCOTg4Y0t1eldnOUVvYlRXZE14ME9seTh1TjRkcWhBb0FScWduYU4zYXJIZnF1N095SDhJdEtMVkIvUCtDRWZNVEh5R1BZM25weDFtOHpXR0RFZW9CZlVrL3hkdGk1N2RyL3IxV3YyKzZFUG93M3RaNXJSZFM3MnMxbmV1Rjk3eHZXZCtYVEgwL1YrVU10dERXcWJJL3IybnJ4ZnAranYydVNqU083UytPWHkvQS8zbE4rOXhYNVQ1SHhFVVBaWjB0ZkI3MSt3NTdlSi9IRnUreitqa3YxdTkyWVg5ZmJJL0hoWDNKQTlycDVNUHI2NnRXYUc5VWZVR2JySEl6aTdjTFV5WUZmL3RwVGFkeTAzRUVlTDhtVUo2aTdNS1lOdldOcXI0UGUyanJhZFhPNjBMcnZQQXoyUFE1UlBYNjg0YWg4ZHhEKzJ6YW50bkNnVmlwU1ZWK20vdGdCOVcyRERxMlN4L3ZNOTV3Y0hoWmhXVkptOHlydjU4Y1NnZlRkYzcwKysrL1gvcjUyMisvdFVLU0VlcEJxbytvbTRaTFBlck1qVXd1Tm5RQ3R4MUdXSnRlZTFGd2RENXVXZDg2eExzOFVhVnQyYU5FTzEvc2FaL1o1cllNVzR6cTZ2MzRyR1Y5QmczcTJlWjlTa2VObTlxd3lVaDMwT1BJSFlGS3g1RkcwM0M3em5TT3FZQnErcVcvenBRM2FuSDAzN1ROSGx1RzZmMFdQc1BoSHZhYjRRRnR5N29nT2V1eERZY055Mi96dTIyMTRXTllXeG1CdXJOTzhiR245N3BOQk9POHh5Lzl1Q29yWlo0STJyNEM3YUpnTzdaVjlpRTQ5RG02TnZPV3grcFdFOUNVcTN6YmRUcDlkb3ozOFRiWHR6cUg5UlQ1Q3lXZTQyMk9hWm9aR2VaQ2FicmhQUVk5SGp3c2pwVHZDZzRZdGxFMitUYS9qMmJ6bjhmcXJEcWdtKzZ5VUhPbUF2V1VqQXRHaGJOWXZzQmtuRG5xSDFRaGM3Vm14SGdlYi9OYnVkQTVqL1VYbFl3aWYycDZsdWhBYzl0ZXUxbnBpSEtuRHM4aWY2dENtN0pMWDNOS3BndHRYZTlydWM5bUhNZDdhODNpd2R4RjV2dDh0dXRBUmFDZWtsUm5OSzlDOFduTkY3Z2VKUTRUNFhHM0poU25WZGlsUXJHK3lPbnJsVkhmc0VHWXpoTkJuN0x1NnRTNytISmFmSlE0RU1pTmxOcVdYWjlXUHZWZ25WWUhHNU0xQnlEWGtUNmxlWDJFZ1RxSnR5dDQ1eXY3UzJxTzNzRVpqWmhETFhlUitZS2RKMFpkazhRb2N2SDlONzMyS3JOdHErRlovenpJSEFCY0pyWXBkK1h2MTRsT2Q1YXA3NlNncmR1Vy9WVFExcWNRcHFuYmd1NGlmWnZVTU5wZDlYdW9abXZDdFBhUTJZL0JDSFZMZ2JySlRlUlBEZFZmNnBmTUtEVTJmT2tIbVZGRmZYcjNNc291THNuTnZWNWtSb2U1K3M0MzFQZXVvS1BxV25hdXJZL1pQQkVlcXdjZU40bDk2aXdPNkg3TWpxNHk3VkdQVk5lMTBWYVpNelZDUFZXcEkvWjZGWmJjdjVmTXFHQ1UrZExmRkd6ajU4alA4K2JDZEpDbzd5ektUd2RPRjBidTlVZzdWNGMreXo3RkpmWWVHb3lzVXNzMEhzc0lkVlp3WUxEdWpNcWxFU29DZFR0R3NadGJIbkpCZU5kRFNKU3MwalRLZE1KTjFITlg1NFd2N2J2c1U5TmtWSlZhMTNkWCsvd3VBclYwWC9sNVJIeW8vbG5mRjRHNnA2RHJTMGtIZHRYaHkzNVRHRXJEUFlaVW4yV2ZXcURPby9sVnFkTUQyTy9oS0poRDdTL29kdWt5bXE5czAyUU40RUVQUi96YmFPdW1aYytyMTV6SzFacXpubDlqc2ZpZW1UTTFRbVYzSFV1VGtlZGxnOUhJUXpSYlVEOTNkZkMrMnRwajJmSUhFSDIrUnFDQ1FIMTNnWnE3aFdYVE5wVnUxOU9CMWZjOW5RMEFLT0tVYjVsVTBQMWtEeU9uZW9XazBsT1o5Y0lQMHg3cXU4KzJCaENvUjJ3WXUxK2U3RG1hWHpCU3N1NXZhWDFuZTJ6cnBtVVBUbXhmN1BNMURtNHkvdkM3bnk3TmlmNyt6LzlabXRNMFozcGFuUEx0UG1yYTlmMTZiY0swRHBibndrNDNWZC9SSHR1NnpmTlFUeTFRQnkzYXFHMmc5blZteG1sK0JPb0p5VDNOcFdtbjl4aGZGbnU0YnZEYSs0NEJYaHFxZmRmM3VVRjkreXo3N0FUMzFZdWUybWplY1lRNjJOTGZna0E5Z2hIcUxORWhOZW00SDFjNnZkeUR4aGYvYnB6NW00Y29XL2MzOXdpNlZIMmJQdEhsY2FWOWN2WHRzK3p4Q2U2clRlcWMybmRMN3VHZDkzUXdNOWJGY0F6TW9aWjdTZ1RCYld4K2FzdWk2MWgvaXExK1JtanFkYm5RWFEzVDFETlE2M1YvVTl1Y3FtL3BNelBiMXJlUHNrLzFpVE9qZ3ZhdFI0VzNMYzhVTEI3OHBFTHlybkFmZVRjajFOVTUwOS84Nm1mSjMzLzgrTWYwMGEwNVV5UFVFdzdVVkNlV0cvV05FaUV4eUhSTXQ1bHRXMzBpelVQazE4eXR0N2xOZmM4aS8vRHZ0dlh0byt5U0E1QmpsanNMVUY4bFBrcU1QRXRXMUpvbURzaUdCWjlCeWI0TkF2VUlUU045R3V3c0lqNnQ2VVRPcWs3akpSRWttenFsaTh4SXM5NnVkU08yMHNYMEgxdlc5MklMOWUxYTlyZ3FWeWY5MWdiUHNUeTlVRDluOWxPa1Q4aytSZmtGUjVQTU5xeE9jZFNmMzJQQnZnM3ZpbE8remR4RStva3g5V20wcGgzNlhZc1JaQ3BNRjk5M0dPazVxdnFCM0RjdDZqdnNzYjY3S3Z1VU5KM2ZydzkyYmhyOC9TVFNGMEpkUlBNTHBVQ2duc2dvOVM3NlBaMjQ2WkZrMXdXdks1bTN2Vm9ZdlcxU3o3bk45MWpmWGJRMVpRYzdUVzZIZWFvT2FseXBHLzgvcC9yUDFhTkFjNlpIelNuZmRxUFVQaGR5MlBRdzZOejlnU1ZodWhpcXVlVUhSM3V1N3k3SzNyZERYNHU0NlpyUGJVYTBJRkJaMHNlS1EzWFFUUnQydm0zVy9hMkRiTkt5cysrcnZtM2VwNit5MXgyVWRQM2JXVTlsenJhNDdVMUdtbGN0WC9zUTIzdCthT2xCeUxUaC80TkFQYUNSeHRjZE81SExTSi82dk50Q3dHeDY3VlBtUGJ2V2QxcTlmcktIdHA0a0FxUkoySFI5ajc2MkpmWDNiWi8vZWxQdGoxM1BQRHgxK0Q1dHFrL1hpNk5POFNIejdNbUgxOWRYcmRCTmZWRlA2VDJQVDFVSE5pdDg3L3Q0bTUrYVJIK25RQmR2cXloWkRLSkxmWnM4aDdYUHNxZFYyWk9WK3RhbktCOGFsbjBkeXhkQVhiVjRqNGd2dDRvTU9yYlA2dmJVNzNOVzdUTWxiZFRuUHJXcGZxWGZoOUhLWjl2a2U3S3VUZVpSTnRYUlNlNisxRlYvL2NlL2xuNWVYZnNYZ2NxWHpyNis5MjYxTTNtb09vYTdFNm52VFpUZnk3aU5zbWZiN2tqZmdYR3N2eGUwdmloc0V0czlIVHF1UHB0MXExdnRhaHUyVHFBaVVBRUVLajB6aHdvQVJxZ0F1L09uWC80NDJXSCs5eGMvV3ZyNThyZS9UcjdmNDEvK1pzUnFoQW9BQ0ZRQUVLZ0FjSGpNb1FKc2tKc3ovZXFycjVaK3Z2cjd2NWZtUUZldkFsNWx6dFFJRlFBUXFBQWdVQUhnSUpsREJkaGdkUTQxTjJlS0VTb0FJRkFCUUtBQ3dGRXdod29BUnFnQUlGQUJRS0FDQUFJVkFBUXFBQWhVQUJDb0FJQkFCUUNCQ2dBQ0ZRQUVLZ0FnVUFGQW9BS0FRQVVBZ1FvQUNGUUFFS2dBSUZBQlFLQUNBQUlWQUFRcUFBaFVBQkNvQUlCQUJRQ0JDZ0FDRlFBUXFBQWdVQUZBb0FLQVFBVUFsdndQY0ZEbnMxRHNINHNBQUFBQVNVVk9SSzVDWUlJPVwiLGkubG9nb1dpZHRoPTQ2OCxpLmxvZ29IZWlnaHQ9MTE4LGkuYmFja2dyb3VuZENvbG9yPVwiIzE3NkJBQVwiLGkuc3VwcHJlc3NQbGF5QnV0dG9uPSExLGkuX3BsYXlCdXR0b25TdHlsZXM9eWkuYS50b1N0cmluZygpLGkucGxheUJ1dHRvblRleHQ9XCJQbGF5IGdhbWVcIixpLnN0YXJ0QnV0dG9uRmFjdG9yeT1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7cmV0dXJuIHQuaWQ9XCJleGNhbGlidXItcGxheVwiLHQudGV4dENvbnRlbnQ9aS5wbGF5QnV0dG9uVGV4dCx0LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdH0saS5nZXREYXRhPWZ1bmN0aW9uKCl7fSxpLnNldERhdGE9ZnVuY3Rpb24oKXt9LGkucHJvY2Vzc0RhdGE9ZnVuY3Rpb24oKXt9LGkub25wcm9ncmVzcz1mdW5jdGlvbih0KXtSLmdldEluc3RhbmNlKCkuZGVidWcoXCJbZXguTG9hZGVyXSBMb2FkaW5nIFwiKygxMDAqdC5sb2FkZWQvdC50b3RhbCkudG9GaXhlZCgwKSl9LGkub25jb21wbGV0ZT1mdW5jdGlvbigpe30saS5vbmVycm9yPWZ1bmN0aW9uKCl7fSxlJiZpLmFkZFJlc291cmNlcyhlKSxpfXJldHVybiBfaShlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIl9pbWFnZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VFbGVtZW50fHwodGhpcy5faW1hZ2VFbGVtZW50PW5ldyBJbWFnZSx0aGlzLl9pbWFnZUVsZW1lbnQuc3JjPXRoaXMubG9nbyksdGhpcy5faW1hZ2VFbGVtZW50fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIl9wbGF5QnV0dG9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wbGF5QnV0dG9uUm9vdEVsZW1lbnR8fCh0aGlzLl9wbGF5QnV0dG9uUm9vdEVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLl9wbGF5QnV0dG9uUm9vdEVsZW1lbnQuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fcGxheUJ1dHRvblJvb3RFbGVtZW50KSksdGhpcy5fc3R5bGVCbG9ja3x8KHRoaXMuX3N0eWxlQmxvY2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLHRoaXMuX3N0eWxlQmxvY2sudGV4dENvbnRlbnQ9dGhpcy5fcGxheUJ1dHRvblN0eWxlcyxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuX3N0eWxlQmxvY2spKSx0aGlzLl9wbGF5QnV0dG9uRWxlbWVudHx8KHRoaXMuX3BsYXlCdXR0b25FbGVtZW50PXRoaXMuc3RhcnRCdXR0b25GYWN0b3J5KCksdGhpcy5fcGxheUJ1dHRvblJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3BsYXlCdXR0b25FbGVtZW50KSksdGhpcy5fcGxheUJ1dHRvbkVsZW1lbnR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUud2lyZUVuZ2luZT1mdW5jdGlvbih0KXt0aGlzLl9lbmdpbmU9dH0sZS5wcm90b3R5cGUuYWRkUmVzb3VyY2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faW5kZXgrKzt0aGlzLl9yZXNvdXJjZUxpc3QucHVzaCh0KSx0aGlzLl9wcm9ncmVzc0NvdW50c1tlXT0wLHRoaXMuX3RvdGFsQ291bnRzW2VdPTEsdGhpcy5fcmVzb3VyY2VDb3VudCsrfSxlLnByb3RvdHlwZS5hZGRSZXNvdXJjZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsaT10Lmxlbmd0aDtlPGk7ZSsrKXRoaXMuYWRkUmVzb3VyY2UodFtlXSl9LGUucHJvdG90eXBlLmlzTG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX251bUxvYWRlZD09PXRoaXMuX3Jlc291cmNlQ291bnR9LGUucHJvdG90eXBlLnNob3dQbGF5QnV0dG9uPWZ1bmN0aW9uKCl7aWYodGhpcy5zdXBwcmVzc1BsYXlCdXR0b24pcmV0dXJuIGQucmVzb2x2ZSgpO3RoaXMuX3BsYXlCdXR0b25TaG93bj0hMCx0aGlzLl9wbGF5QnV0dG9uLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO3ZhciB0PW5ldyBkO3JldHVybiB0aGlzLl9wbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLChmdW5jdGlvbigpe3JldHVybiB0LnN0YXRlKCk9PT11LlBlbmRpbmc/dC5yZXNvbHZlKCk6dH0pKSx0aGlzLl9wbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLChmdW5jdGlvbigpe3JldHVybiB0LnN0YXRlKCk9PT11LlBlbmRpbmc/dC5yZXNvbHZlKCk6dH0pKSx0aGlzLl9wbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdC5zdGF0ZSgpPT09dS5QZW5kaW5nP3QucmVzb2x2ZSgpOnR9KSksdH0sZS5wcm90b3R5cGUuaGlkZVBsYXlCdXR0b249ZnVuY3Rpb24oKXt0aGlzLl9wbGF5QnV0dG9uU2hvd249ITEsdGhpcy5fcGxheUJ1dHRvbi5zdHlsZS5kaXNwbGF5PVwibm9uZVwifSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPW5ldyBkLGk9dGhpcztpZigwPT09dGhpcy5fcmVzb3VyY2VMaXN0Lmxlbmd0aClyZXR1cm4gaS5zaG93UGxheUJ1dHRvbigpLnRoZW4oKGZ1bmN0aW9uKCl7ZmkudW5sb2NrKCkudGhlbigoZnVuY3Rpb24oKXtpLmhpZGVQbGF5QnV0dG9uKCksaS5vbmNvbXBsZXRlLmNhbGwoaSksZS5yZXNvbHZlKCl9KSl9KSksZTt2YXIgbj1uZXcgQXJyYXkodGhpcy5fcmVzb3VyY2VMaXN0Lmxlbmd0aCkscj10aGlzLl9yZXNvdXJjZUxpc3QubGVuZ3RoO3JldHVybiB0aGlzLl9yZXNvdXJjZUxpc3QuZm9yRWFjaCgoZnVuY3Rpb24obyxzKXt0Ll9lbmdpbmUmJm8ud2lyZUVuZ2luZSh0Ll9lbmdpbmUpLG8ub25wcm9ncmVzcz1mdW5jdGlvbih0KXt2YXIgZT10LnRvdGFsLG89dC5sb2FkZWQ7bltzXT17bG9hZGVkOm8vZSooMTAwL3IpLHRvdGFsOjEwMH07dmFyIGE9bi5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJue2xvYWRlZDp0LmxvYWRlZCtlLmxvYWRlZCx0b3RhbDoxMDB9fSkse2xvYWRlZDowLHRvdGFsOjEwMH0pO2kub25wcm9ncmVzcy5jYWxsKGksYSl9LG8ub25jb21wbGV0ZT1vLm9uZXJyb3I9ZnVuY3Rpb24oKXtpLl9udW1Mb2FkZWQrKyxpLl9udW1Mb2FkZWQ9PT1pLl9yZXNvdXJjZUNvdW50JiZzZXRUaW1lb3V0KChmdW5jdGlvbigpe2kuc2hvd1BsYXlCdXR0b24oKS50aGVuKChmdW5jdGlvbigpe2ZpLnVubG9jaygpLnRoZW4oKGZ1bmN0aW9uKCl7aS5oaWRlUGxheUJ1dHRvbigpLGkub25jb21wbGV0ZS5jYWxsKGkpLGUucmVzb2x2ZSgpfSkpfSkpfSksMjAwKX19KSksZnVuY3Rpb24gdChlLGkpe2VbaV0mJmVbaV0ubG9hZCgpLnRoZW4oKGZ1bmN0aW9uKCl7dChlLGkrMSl9KSl9KHRoaXMuX3Jlc291cmNlTGlzdCwwKSxlfSxlLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2VuZ2luZS5jYW52YXNIZWlnaHQvdGhpcy5fZW5naW5lLnBpeGVsUmF0aW8saT10aGlzLl9lbmdpbmUuY2FudmFzV2lkdGgvdGhpcy5fZW5naW5lLnBpeGVsUmF0aW87aWYodGhpcy5fcGxheUJ1dHRvblJvb3RFbGVtZW50KXt2YXIgbj10LmNhbnZhcy5vZmZzZXRMZWZ0LHI9dC5jYW52YXMub2Zmc2V0VG9wLG89dGhpcy5fcGxheUJ1dHRvbi5jbGllbnRXaWR0aCxzPXRoaXMuX3BsYXlCdXR0b24uY2xpZW50SGVpZ2h0O3RoaXMuX3BsYXlCdXR0b25Sb290RWxlbWVudC5zdHlsZS5sZWZ0PW4raS8yLW8vMitcInB4XCIsdGhpcy5fcGxheUJ1dHRvblJvb3RFbGVtZW50LnN0eWxlLnRvcD1yK2UvMi1zLzIrMTAwK1wicHhcIn10LmZpbGxTdHlsZT10aGlzLmJhY2tncm91bmRDb2xvcix0LmZpbGxSZWN0KDAsMCxpLGUpO3ZhciBhPWUvMixjPU1hdGgubWluKHRoaXMubG9nb1dpZHRoLC43NSppKSxoPWkvMi1jLzIsdT1NYXRoLmZsb29yKGMqKHRoaXMubG9nb0hlaWdodC90aGlzLmxvZ29XaWR0aCkpLGw9dGhpcy5fZW5naW5lLmdldEFudGlhbGlhc2luZygpO2lmKHRoaXMuX2VuZ2luZS5zZXRBbnRpYWxpYXNpbmcoITApLHQuZHJhd0ltYWdlKHRoaXMuX2ltYWdlLDAsMCx0aGlzLmxvZ29XaWR0aCx0aGlzLmxvZ29IZWlnaHQsaCxhLXUtMjAsYyx1KSx0aGlzLnN1cHByZXNzUGxheUJ1dHRvbnx8IXRoaXMuX3BsYXlCdXR0b25TaG93bil7dC5saW5lV2lkdGg9MixYZSh0LGgsYSxjLDIwLDEwKTt2YXIgcD1jKih0aGlzLl9udW1Mb2FkZWQvdGhpcy5fcmVzb3VyY2VDb3VudCktMTA7WGUodCxoKzUsYSs1LHA+MD9wOjAsMTAsNSxudWxsLEx0LldoaXRlKSx0aGlzLl9lbmdpbmUuc2V0QW50aWFsaWFzaW5nKGwpfWVsc2UgdGhpcy5fZW5naW5lLnNldEFudGlhbGlhc2luZyhsKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7fSxlfShSdCksbWk9e3dlYmdsOlwiV2ViR0xcIix3ZWJhdWRpbzpcIldlYkF1ZGlvXCIsZ2FtZXBhZGFwaTpcIkdhbWVwYWQgQVBJXCJ9LGJpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX2ZlYXR1cmVzPW51bGwsdGhpcy5mYWlsZWRUZXN0cz1bXSx0aGlzLl9jcml0aWNhbFRlc3RzPXtjYW52YXNTdXBwb3J0OmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4hKCF0LmdldENvbnRleHR8fCF0LmdldENvbnRleHQoXCIyZFwiKSl9LGFycmF5QnVmZmVyU3VwcG9ydDpmdW5jdGlvbigpe3ZhciB0PW5ldyBYTUxIdHRwUmVxdWVzdDt0Lm9wZW4oXCJHRVRcIixcIi9cIik7dHJ5e3QucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIn1jYXRjaCh0KXtyZXR1cm4hMX1yZXR1cm5cImFycmF5YnVmZmVyXCI9PT10LnJlc3BvbnNlVHlwZX0sZGF0YVVybFN1cHBvcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpLmluZGV4T2YoXCJkYXRhOmltYWdlL3BuZ1wiKX0sb2JqZWN0VXJsU3VwcG9ydDpmdW5jdGlvbigpe3JldHVyblwiVVJMXCJpbiB3aW5kb3cmJlwicmV2b2tlT2JqZWN0VVJMXCJpbiBVUkwmJlwiY3JlYXRlT2JqZWN0VVJMXCJpbiBVUkx9LHJnYmFTdXBwb3J0OmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIikuc3R5bGU7cmV0dXJuIHQuY3NzVGV4dD1cImJhY2tncm91bmQtY29sb3I6cmdiYSgxNTAsMjU1LDE1MCwuNSlcIiwoXCJcIit0LmJhY2tncm91bmRDb2xvcikuaW5kZXhPZihcInJnYmFcIik+LTF9fSx0aGlzLl93YXJuaW5nVGVzdD17d2ViQXVkaW9TdXBwb3J0OmZ1bmN0aW9uKCl7cmV0dXJuISEod2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dHx8d2luZG93Lm1vekF1ZGlvQ29udGV4dHx8d2luZG93Lm1zQXVkaW9Db250ZXh0fHx3aW5kb3cub0F1ZGlvQ29udGV4dCl9LHdlYmdsU3VwcG9ydDpmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuISghdC5nZXRDb250ZXh0fHwhdC5nZXRDb250ZXh0KFwid2ViZ2xcIikpfX0sdGhpcy5fZmVhdHVyZXM9dGhpcy5fbG9hZEJyb3dzZXJGZWF0dXJlcygpfXJldHVybiB0LnByb3RvdHlwZS5nZXRCcm93c2VyRmVhdHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX2ZlYXR1cmVzJiYodGhpcy5fZmVhdHVyZXM9dGhpcy5fbG9hZEJyb3dzZXJGZWF0dXJlcygpKSx0aGlzLl9mZWF0dXJlc30sdC5wcm90b3R5cGUubG9nQnJvd3NlckZlYXR1cmVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVwiJWNTVVBQT1JURUQgQlJPV1NFUiBGRUFUVVJFU1xcbj09PT09PT09PT09PT09PT09PT09PT09PT09JWNcXG5cIixlPVtcImZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogbmF2eVwiLFwiZm9udC13ZWlnaHQ6IG5vcm1hbDsgY29sb3I6IGluaGVyaXRcIl0saT10aGlzLmdldEJyb3dzZXJGZWF0dXJlcygpLG49MCxyPU9iamVjdC5rZXlzKG1pKTtuPHIubGVuZ3RoO24rKyl7dmFyIG89cltuXTtpW29dPyh0Kz1cIiglY+KckyVjKVwiLGUucHVzaChcImZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogZ3JlZW5cIiksZS5wdXNoKFwiZm9udC13ZWlnaHQ6IG5vcm1hbDsgY29sb3I6IGluaGVyaXRcIikpOih0Kz1cIiglY+KclyVjKVwiLGUucHVzaChcImZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogcmVkXCIpLGUucHVzaChcImZvbnQtd2VpZ2h0OiBub3JtYWw7IGNvbG9yOiBpbmhlcml0XCIpKSx0Kz1cIiBcIittaVtvXStcIlxcblwifWUudW5zaGlmdCh0KSxjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGUpfSx0LnByb3RvdHlwZS5fbG9hZEJyb3dzZXJGZWF0dXJlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJue2NhbnZhczp0Ll9jcml0aWNhbFRlc3RzLmNhbnZhc1N1cHBvcnQoKSxhcnJheWJ1ZmZlcjp0Ll9jcml0aWNhbFRlc3RzLmFycmF5QnVmZmVyU3VwcG9ydCgpLGRhdGF1cmw6dC5fY3JpdGljYWxUZXN0cy5kYXRhVXJsU3VwcG9ydCgpLG9iamVjdHVybDp0Ll9jcml0aWNhbFRlc3RzLm9iamVjdFVybFN1cHBvcnQoKSxyZ2JhOnQuX2NyaXRpY2FsVGVzdHMucmdiYVN1cHBvcnQoKSx3ZWJhdWRpbzp0Ll93YXJuaW5nVGVzdC53ZWJBdWRpb1N1cHBvcnQoKSx3ZWJnbDp0Ll93YXJuaW5nVGVzdC53ZWJnbFN1cHBvcnQoKSxnYW1lcGFkYXBpOiEhbmF2aWdhdG9yLmdldEdhbWVwYWRzfX0sdC5wcm90b3R5cGUudGVzdD1mdW5jdGlvbigpe3ZhciB0PSExO2Zvcih2YXIgZSBpbiB0aGlzLl9jcml0aWNhbFRlc3RzKXRoaXMuX2NyaXRpY2FsVGVzdHNbZV0uY2FsbCh0aGlzKXx8KHRoaXMuZmFpbGVkVGVzdHMucHVzaChlKSxSLmdldEluc3RhbmNlKCkuZXJyb3IoXCJDcml0aWNhbCBicm93c2VyIGZlYXR1cmUgbWlzc2luZywgRXhjYWxpYnVyIHJlcXVpcmVzOlwiLGUpLHQ9ITApO2lmKHQpcmV0dXJuITE7Zm9yKHZhciBpIGluIHRoaXMuX3dhcm5pbmdUZXN0KXRoaXMuX3dhcm5pbmdUZXN0W2ldKCl8fFIuZ2V0SW5zdGFuY2UoKS53YXJuKFwiV2FybmluZyBicm93c2VyIGZlYXR1cmUgbWlzc2luZywgRXhjYWxpYnVyIHdpbGwgaGF2ZSByZWR1Y2VkIHBlcmZvcm1hbmNlOlwiLGkpO3JldHVybiEwfSx0fSgpLHdpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnBhcmVudD10LHRoaXMucGFyZW50PXR8fG51bGwsdGhpcy5ib2R5PW51bGwsdGhpcy5ib3VuZHM9bmV3IE1lLHRoaXMubGVmdD1udWxsLHRoaXMucmlnaHQ9bnVsbCx0aGlzLmhlaWdodD0wfXJldHVybiB0LnByb3RvdHlwZS5pc0xlYWY9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5sZWZ0JiYhdGhpcy5yaWdodH0sdH0oKSx4aT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dm9pZCAwPT09dCYmKHQ9bmV3IE1lKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSkpLHRoaXMud29ybGRCb3VuZHM9dCx0aGlzLnJvb3Q9bnVsbCx0aGlzLm5vZGVzPXt9fXJldHVybiB0LnByb3RvdHlwZS5faW5zZXJ0PWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10aGlzLnJvb3QpcmV0dXJuIHRoaXMucm9vdD10LHZvaWQodGhpcy5yb290LnBhcmVudD1udWxsKTtmb3IodmFyIGU9dC5ib3VuZHMsaT10aGlzLnJvb3Q7IWkuaXNMZWFmKCk7KXt2YXIgbj1pLmxlZnQscj1pLnJpZ2h0LG89aS5ib3VuZHMuZ2V0UGVyaW1ldGVyKCkscz1pLmJvdW5kcy5jb21iaW5lKGUpLmdldFBlcmltZXRlcigpLGE9MipzLGM9Mioocy1vKSxoPTAsdT1lLmNvbWJpbmUobi5ib3VuZHMpLGw9dm9pZCAwO24uaXNMZWFmKCk/aD11LmdldFBlcmltZXRlcigpK2M6KGw9bi5ib3VuZHMuZ2V0UGVyaW1ldGVyKCksaD11LmdldFBlcmltZXRlcigpLWwrYyk7dmFyIHA9MCxkPWUuY29tYmluZShyLmJvdW5kcyk7aWYoci5pc0xlYWYoKT9wPWQuZ2V0UGVyaW1ldGVyKCkrYzoobD1yLmJvdW5kcy5nZXRQZXJpbWV0ZXIoKSxwPWQuZ2V0UGVyaW1ldGVyKCktbCtjKSxhPGgmJmE8cClicmVhaztpPWg8cD9uOnJ9dmFyIGY9aS5wYXJlbnQsZz1uZXcgd2koZik7Zy5ib3VuZHM9ZS5jb21iaW5lKGkuYm91bmRzKSxnLmhlaWdodD1pLmhlaWdodCsxLG51bGwhPT1mPyhmLmxlZnQ9PT1pP2YubGVmdD1nOmYucmlnaHQ9ZyxnLmxlZnQ9aSxnLnJpZ2h0PXQsaS5wYXJlbnQ9Zyx0LnBhcmVudD1nKTooZy5sZWZ0PWksZy5yaWdodD10LGkucGFyZW50PWcsdC5wYXJlbnQ9Zyx0aGlzLnJvb3Q9Zyk7Zm9yKHZhciB5PXQucGFyZW50O3k7KXtpZighKHk9dGhpcy5fYmFsYW5jZSh5KSkubGVmdCl0aHJvdyBuZXcgRXJyb3IoXCJQYXJlbnQgb2YgY3VycmVudCBsZWFmIGNhbm5vdCBoYXZlIGEgbnVsbCBsZWZ0IGNoaWxkXCIreSk7aWYoIXkucmlnaHQpdGhyb3cgbmV3IEVycm9yKFwiUGFyZW50IG9mIGN1cnJlbnQgbGVhZiBjYW5ub3QgaGF2ZSBhIG51bGwgcmlnaHQgY2hpbGRcIit5KTt5LmhlaWdodD0xK01hdGgubWF4KHkubGVmdC5oZWlnaHQseS5yaWdodC5oZWlnaHQpLHkuYm91bmRzPXkubGVmdC5ib3VuZHMuY29tYmluZSh5LnJpZ2h0LmJvdW5kcykseT15LnBhcmVudH19LHQucHJvdG90eXBlLl9yZW1vdmU9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMucm9vdCl7dmFyIGUsaT10LnBhcmVudCxuPWkucGFyZW50O2lmKGU9aS5sZWZ0PT09dD9pLnJpZ2h0OmkubGVmdCxuKXtuLmxlZnQ9PT1pP24ubGVmdD1lOm4ucmlnaHQ9ZSxlLnBhcmVudD1uO2Zvcih2YXIgcj1uO3I7KShyPXRoaXMuX2JhbGFuY2UocikpLmJvdW5kcz1yLmxlZnQuYm91bmRzLmNvbWJpbmUoci5yaWdodC5ib3VuZHMpLHIuaGVpZ2h0PTErTWF0aC5tYXgoci5sZWZ0LmhlaWdodCxyLnJpZ2h0LmhlaWdodCkscj1yLnBhcmVudH1lbHNlIHRoaXMucm9vdD1lLGUucGFyZW50PW51bGx9ZWxzZSB0aGlzLnJvb3Q9bnVsbH0sdC5wcm90b3R5cGUudHJhY2tCb2R5PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB3aTtlLmJvZHk9dCxlLmJvdW5kcz10LmNvbGxpZGVyLmJvdW5kcyxlLmJvdW5kcy5sZWZ0LT0yLGUuYm91bmRzLnRvcC09MixlLmJvdW5kcy5yaWdodCs9MixlLmJvdW5kcy5ib3R0b20rPTIsdGhpcy5ub2Rlc1t0LmlkXT1lLHRoaXMuX2luc2VydChlKX0sdC5wcm90b3R5cGUudXBkYXRlQm9keT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm5vZGVzW3QuaWRdO2lmKCFlKXJldHVybiExO3ZhciBpPXQuY29sbGlkZXIuYm91bmRzO2lmKCF0aGlzLndvcmxkQm91bmRzLmNvbnRhaW5zKGkpKXJldHVybiBSLmdldEluc3RhbmNlKCkud2FybihcIkNvbGxpZGVyIHdpdGggaWQgXCIrdC5pZCtcIiBpcyBvdXRzaWRlIHRoZSB3b3JsZCBib3VuZHMgYW5kIHdpbGwgbm8gbG9uZ2VyIGJlIHRyYWNrZWQgZm9yIHBoeXNpY3NcIiksdGhpcy51bnRyYWNrQm9keSh0KSwhMTtpZihlLmJvdW5kcy5jb250YWlucyhpKSlyZXR1cm4hMTt0aGlzLl9yZW1vdmUoZSksaS5sZWZ0LT1UZS5ib3VuZHNQYWRkaW5nLGkudG9wLT1UZS5ib3VuZHNQYWRkaW5nLGkucmlnaHQrPVRlLmJvdW5kc1BhZGRpbmcsaS5ib3R0b20rPVRlLmJvdW5kc1BhZGRpbmc7dmFyIG49dC52ZWwueCpUZS5keW5hbWljVHJlZVZlbG9jaXR5TXVsdGlwbGllcixyPXQudmVsLnkqVGUuZHluYW1pY1RyZWVWZWxvY2l0eU11bHRpcGxpZXI7cmV0dXJuIG48MD9pLmxlZnQrPW46aS5yaWdodCs9bixyPDA/aS50b3ArPXI6aS5ib3R0b20rPXIsZS5ib3VuZHM9aSx0aGlzLl9pbnNlcnQoZSksITB9LHQucHJvdG90eXBlLnVudHJhY2tCb2R5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubm9kZXNbdC5jb2xsaWRlci5pZF07ZSYmKHRoaXMuX3JlbW92ZShlKSx0aGlzLm5vZGVzW3QuY29sbGlkZXIuaWRdPW51bGwsZGVsZXRlIHRoaXMubm9kZXNbdC5jb2xsaWRlci5pZF0pfSx0LnByb3RvdHlwZS5fYmFsYW5jZT1mdW5jdGlvbih0KXtpZihudWxsPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYmFsYW5jZSBhdCBudWxsIG5vZGVcIik7aWYodC5pc0xlYWYoKXx8dC5oZWlnaHQ8MilyZXR1cm4gdDt2YXIgZT10LmxlZnQsaT10LnJpZ2h0LG49dCxyPWUsbz1pLHM9ZS5sZWZ0LGE9ZS5yaWdodCxjPWkubGVmdCxoPWkucmlnaHQsdT1vLmhlaWdodC1yLmhlaWdodDtpZih1PjEpcmV0dXJuIG8ubGVmdD1uLG8ucGFyZW50PW4ucGFyZW50LG4ucGFyZW50PW8sby5wYXJlbnQ/by5wYXJlbnQubGVmdD09PW4/by5wYXJlbnQubGVmdD1vOm8ucGFyZW50LnJpZ2h0PW86dGhpcy5yb290PW8sYy5oZWlnaHQ+aC5oZWlnaHQ/KG8ucmlnaHQ9YyxuLnJpZ2h0PWgsaC5wYXJlbnQ9bixuLmJvdW5kcz1yLmJvdW5kcy5jb21iaW5lKGguYm91bmRzKSxvLmJvdW5kcz1uLmJvdW5kcy5jb21iaW5lKGMuYm91bmRzKSxuLmhlaWdodD0xK01hdGgubWF4KHIuaGVpZ2h0LGguaGVpZ2h0KSxvLmhlaWdodD0xK01hdGgubWF4KG4uaGVpZ2h0LGMuaGVpZ2h0KSk6KG8ucmlnaHQ9aCxuLnJpZ2h0PWMsYy5wYXJlbnQ9bixuLmJvdW5kcz1yLmJvdW5kcy5jb21iaW5lKGMuYm91bmRzKSxvLmJvdW5kcz1uLmJvdW5kcy5jb21iaW5lKGguYm91bmRzKSxuLmhlaWdodD0xK01hdGgubWF4KHIuaGVpZ2h0LGMuaGVpZ2h0KSxvLmhlaWdodD0xK01hdGgubWF4KG4uaGVpZ2h0LGguaGVpZ2h0KSksbztpZih1PC0xKXtpZihyLmxlZnQ9bixyLnBhcmVudD1uLnBhcmVudCxuLnBhcmVudD1yLHIucGFyZW50KWlmKHIucGFyZW50LmxlZnQ9PT1uKXIucGFyZW50LmxlZnQ9cjtlbHNle2lmKHIucGFyZW50LnJpZ2h0IT09bil0aHJvd1wiRXJyb3Igcm90YXRpbmcgRHluYW1pYyBUcmVlXCI7ci5wYXJlbnQucmlnaHQ9cn1lbHNlIHRoaXMucm9vdD1yO3JldHVybiBzLmhlaWdodD5hLmhlaWdodD8oci5yaWdodD1zLG4ubGVmdD1hLGEucGFyZW50PW4sbi5ib3VuZHM9by5ib3VuZHMuY29tYmluZShhLmJvdW5kcyksci5ib3VuZHM9bi5ib3VuZHMuY29tYmluZShzLmJvdW5kcyksbi5oZWlnaHQ9MStNYXRoLm1heChvLmhlaWdodCxhLmhlaWdodCksci5oZWlnaHQ9MStNYXRoLm1heChuLmhlaWdodCxzLmhlaWdodCkpOihyLnJpZ2h0PWEsbi5sZWZ0PXMscy5wYXJlbnQ9bixuLmJvdW5kcz1vLmJvdW5kcy5jb21iaW5lKHMuYm91bmRzKSxyLmJvdW5kcz1uLmJvdW5kcy5jb21iaW5lKGEuYm91bmRzKSxuLmhlaWdodD0xK01hdGgubWF4KG8uaGVpZ2h0LHMuaGVpZ2h0KSxyLmhlaWdodD0xK01hdGgubWF4KG4uaGVpZ2h0LGEuaGVpZ2h0KSkscn1yZXR1cm4gdH0sdC5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLnJvb3Q/MDp0aGlzLnJvb3QuaGVpZ2h0fSx0LnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbih0LGUpe3ZhciBpPXQuY29sbGlkZXIuYm91bmRzLG49ZnVuY3Rpb24ocil7aWYociYmci5ib3VuZHMuaW50ZXJzZWN0KGkpKXtpZighci5pc0xlYWYoKXx8ci5ib2R5PT09dClyZXR1cm4gbihyLmxlZnQpfHxuKHIucmlnaHQpO2lmKGUuY2FsbCh0LHIuYm9keSkpcmV0dXJuITB9cmV0dXJuITF9O24odGhpcy5yb290KX0sdC5wcm90b3R5cGUucmF5Q2FzdFF1ZXJ5PWZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1lJiYoZT0xLzApO3ZhciBuPWZ1bmN0aW9uKHIpe2lmKHImJnIuYm91bmRzLnJheUNhc3QodCxlKSl7aWYoIXIuaXNMZWFmKCkpcmV0dXJuIG4oci5sZWZ0KXx8bihyLnJpZ2h0KTtpZihpLmNhbGwodCxyLmJvZHkpKXJldHVybiEwfXJldHVybiExfTtuKHRoaXMucm9vdCl9LHQucHJvdG90eXBlLmdldE5vZGVzPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/W2VdLmNvbmNhdCh0KGUubGVmdCksdChlLnJpZ2h0KSk6W119O3JldHVybiB0KHRoaXMucm9vdCl9LHQucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihpKXtpJiYoaS5pc0xlYWYoKT8odC5saW5lV2lkdGg9MSx0LnN0cm9rZVN0eWxlPVwiZ3JlZW5cIik6KHQubGluZVdpZHRoPTEsdC5zdHJva2VTdHlsZT1cIndoaXRlXCIpLGkuYm91bmRzLmRlYnVnRHJhdyh0KSxpLmxlZnQmJmUoaS5sZWZ0KSxpLnJpZ2h0JiZlKGkucmlnaHQpKX07ZSh0aGlzLnJvb3QpfSx0fSgpLFBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX2R5bmFtaWNDb2xsaXNpb25UcmVlPW5ldyB4aSx0aGlzLl9jb2xsaXNpb25IYXNoPXt9LHRoaXMuX2NvbGxpc2lvblBhaXJDYWNoZT1bXSx0aGlzLl9sYXN0RnJhbWVQYWlycz1bXSx0aGlzLl9sYXN0RnJhbWVQYWlyc0hhc2g9e319cmV0dXJuIHQucHJvdG90eXBlLnRyYWNrPWZ1bmN0aW9uKHQpe3Q/dGhpcy5fZHluYW1pY0NvbGxpc2lvblRyZWUudHJhY2tCb2R5KHQpOlIuZ2V0SW5zdGFuY2UoKS53YXJuKFwiQ2Fubm90IHRyYWNrIG51bGwgcGh5c2ljcyBib2R5XCIpfSx0LnByb3RvdHlwZS51bnRyYWNrPWZ1bmN0aW9uKHQpe3Q/dGhpcy5fZHluYW1pY0NvbGxpc2lvblRyZWUudW50cmFja0JvZHkodCk6Ui5nZXRJbnN0YW5jZSgpLndhcm4oXCJDYW5ub3QgdW50cmFjayBhIG51bGwgcGh5c2ljcyBib2R5XCIpfSx0LnByb3RvdHlwZS5fc2hvdWxkR2VuZXJhdGVDb2xsaXNpb25QYWlyPWZ1bmN0aW9uKHQsZSl7dmFyIGk9WmUuY2FsY3VsYXRlUGFpckhhc2godCxlKTtyZXR1cm4hdGhpcy5fY29sbGlzaW9uSGFzaFtpXSYmWmUuY2FuQ29sbGlkZSh0LGUpfSx0LnByb3RvdHlwZS5icm9hZHBoYXNlPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbixyPXRoaXMsbz1lLzFlMyxzPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb2xsaWRlcn0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFjdGl2ZSYmdC50eXBlIT09bmUuUHJldmVudENvbGxpc2lvbn0pKTt0aGlzLl9jb2xsaXNpb25QYWlyQ2FjaGU9W10sdGhpcy5fY29sbGlzaW9uSGFzaD17fTtmb3IodmFyIGE9MCxjPXMubGVuZ3RoO2E8YzthKyspbj1zW2FdLHRoaXMuX2R5bmFtaWNDb2xsaXNpb25UcmVlLnF1ZXJ5KG4uYm9keSwoZnVuY3Rpb24odCl7aWYoci5fc2hvdWxkR2VuZXJhdGVDb2xsaXNpb25QYWlyKG4sdC5jb2xsaWRlcikpe3ZhciBlPW5ldyBaZShuLHQuY29sbGlkZXIpO3IuX2NvbGxpc2lvbkhhc2hbZS5pZF09ITAsci5fY29sbGlzaW9uUGFpckNhY2hlLnB1c2goZSl9cmV0dXJuITF9KSk7aWYoaSYmKGkucGh5c2ljcy5wYWlycz10aGlzLl9jb2xsaXNpb25QYWlyQ2FjaGUubGVuZ3RoKSxUZS5jaGVja0ZvckZhc3RCb2RpZXMpZm9yKHZhciBoPWZ1bmN0aW9uKHQpe2lmKHQudHlwZSE9PW5lLkFjdGl2ZSlyZXR1cm5cImNvbnRpbnVlXCI7dmFyIGU9dC5ib2R5LnZlbC5zaXplKm8rLjUqdC5ib2R5LmFjYy5zaXplKm8qbyxuPU1hdGgubWluKHQuYm91bmRzLmhlaWdodCx0LmJvdW5kcy53aWR0aCk7aWYoVGUuZGlzYWJsZU1pbmltdW1TcGVlZEZvckZhc3RCb2R5fHxlPm4vMil7aSYmaS5waHlzaWNzLmZhc3RCb2RpZXMrKzt2YXIgcixzPXQuYm9keS5wb3Muc3ViKHQuYm9keS5vbGRQb3MpLGE9dC5zaGFwZS5jZW50ZXIsYz10LnNoYXBlLmdldEZ1cnRoZXN0UG9pbnQodC5ib2R5LnZlbCksaD1jLnN1YihzKSxsPW5ldyBHKGgsdC5ib2R5LnZlbCk7bC5wb3M9bC5wb3MuYWRkKGwuZGlyLnNjYWxlKC0yKlRlLnN1cmZhY2VFcHNpbG9uKSk7dmFyIHA9bmV3IFYoMS8wLDEvMCk7aWYodS5fZHluYW1pY0NvbGxpc2lvblRyZWUucmF5Q2FzdFF1ZXJ5KGwsZSsyKlRlLnN1cmZhY2VFcHNpbG9uLChmdW5jdGlvbihpKXtpZih0LmJvZHkhPT1pJiZpLmNvbGxpZGVyLnNoYXBlJiZaZS5jYW5Db2xsaWRlKHQsaS5jb2xsaWRlcikpe3ZhciBuPWkuY29sbGlkZXIuc2hhcGUucmF5Q2FzdChsLGUrMTAqVGUuc3VyZmFjZUVwc2lsb24pO2lmKG4pe3ZhciBvPW4uc3ViKGgpO28uc2l6ZTxwLnNpemUmJihwPW8scj1pKX19cmV0dXJuITF9KSksciYmVi5pc1ZhbGlkKHApKXt2YXIgZD1uZXcgWmUodCxyLmNvbGxpZGVyKTt1Ll9jb2xsaXNpb25IYXNoW2QuaWRdfHwodS5fY29sbGlzaW9uSGFzaFtkLmlkXT0hMCx1Ll9jb2xsaXNpb25QYWlyQ2FjaGUucHVzaChkKSk7dmFyIGY9YS5zdWIoYyk7dC5ib2R5LnBvcz1oLmFkZChmKS5hZGQocCkuYWRkKGwuZGlyLnNjYWxlKDIqVGUuc3VyZmFjZUVwc2lsb24pKSx0LnNoYXBlLnJlY2FsYygpLGkmJmkucGh5c2ljcy5mYXN0Qm9keUNvbGxpc2lvbnMrK319fSx1PXRoaXMsbD0wLHA9cztsPHAubGVuZ3RoO2wrKyl7aChwW2xdKX1yZXR1cm4gdGhpcy5fY29sbGlzaW9uUGFpckNhY2hlfSx0LnByb3RvdHlwZS5uYXJyb3dwaGFzZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRbaV0uY29sbGlkZSgpLGUmJnRbaV0uY29sbGlzaW9uJiYoZS5waHlzaWNzLmNvbGxpc2lvbnMrKyxlLnBoeXNpY3MuY29sbGlkZXJzSGFzaFt0W2ldLmlkXT10W2ldKTtyZXR1cm4gdC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbGxpc2lvbn0pKX0sdC5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPTAscj10O248ci5sZW5ndGg7bisrKXt2YXIgbz1yW25dO28ucmVzb2x2ZShpKSxvLmNvbGxpc2lvbiYmKG8uY29sbGlkZXJBLmJvZHkuYXBwbHlNdHYoKSxvLmNvbGxpZGVyQi5ib2R5LmFwcGx5TXR2KCksby5jb2xsaWRlckEuYm9keS5pbnRlZ3JhdGUoZSpUZS5jb2xsaXNpb25TaGlmdCksby5jb2xsaWRlckIuYm9keS5pbnRlZ3JhdGUoZSpUZS5jb2xsaXNpb25TaGlmdCkpfXJldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FuQ29sbGlkZX0pKX0sdC5wcm90b3R5cGUucnVuQ29sbGlzaW9uU3RhcnRFbmQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXt9LGk9MCxuPXQ7aTxuLmxlbmd0aDtpKyspe2lmKGVbKGM9bltpXSkuaWRdPWMsIXRoaXMuX2xhc3RGcmFtZVBhaXJzSGFzaFtjLmlkXSl7dmFyIHI9Yy5jb2xsaWRlckEsbz1jLmNvbGxpZGVyQjtyLmVtaXQoXCJjb2xsaXNpb25zdGFydFwiLG5ldyBTdChyLG8sYykpLG8uZW1pdChcImNvbGxpc2lvbnN0YXJ0XCIsbmV3IFN0KG8scixjKSl9fWZvcih2YXIgcz0wLGE9dGhpcy5fbGFzdEZyYW1lUGFpcnM7czxhLmxlbmd0aDtzKyspe3ZhciBjO2lmKCFlWyhjPWFbc10pLmlkXSl7cj1jLmNvbGxpZGVyQSxvPWMuY29sbGlkZXJCO3IuZW1pdChcImNvbGxpc2lvbmVuZFwiLG5ldyBFdChyLG8pKSxvLmVtaXQoXCJjb2xsaXNpb25lbmRcIixuZXcgRXQobyxyKSl9fXRoaXMuX2xhc3RGcmFtZVBhaXJzPXQsdGhpcy5fbGFzdEZyYW1lUGFpcnNIYXNoPWV9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxpPXQubGVuZ3RoLG49MDtuPGk7bisrKXRoaXMuX2R5bmFtaWNDb2xsaXNpb25UcmVlLnVwZGF0ZUJvZHkodFtuXSkmJmUrKztyZXR1cm4gZX0sdC5wcm90b3R5cGUuZGVidWdEcmF3PWZ1bmN0aW9uKHQpe2lmKFRlLmJyb2FkcGhhc2VEZWJ1ZyYmdGhpcy5fZHluYW1pY0NvbGxpc2lvblRyZWUuZGVidWdEcmF3KHQpLFRlLnNob3dDb250YWN0c3x8VGUuc2hvd0NvbGxpc2lvbk5vcm1hbHMpZm9yKHZhciBlPTAsaT10aGlzLl9jb2xsaXNpb25QYWlyQ2FjaGU7ZTxpLmxlbmd0aDtlKyspe2lbZV0uZGVidWdEcmF3KHQpfX0sdH0oKSxTaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fZ2V0Q29tcGFyYWJsZT10fXJldHVybiB0LnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9maW5kKHRoaXMuX3Jvb3QsdCl9LHQucHJvdG90eXBlLl9maW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPXQmJih0aGlzLl9nZXRDb21wYXJhYmxlLmNhbGwoZSk9PT10LmdldEtleSgpP3QuZ2V0RGF0YSgpLmluZGV4T2YoZSk+LTE6dGhpcy5fZ2V0Q29tcGFyYWJsZS5jYWxsKGUpPHQuZ2V0S2V5KCk/dGhpcy5fZmluZCh0LmdldExlZnQoKSxlKTp0aGlzLl9maW5kKHQuZ2V0UmlnaHQoKSxlKSl9LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0KHRoaXMuX3Jvb3QsdCl9LHQucHJvdG90eXBlLl9nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD9bXTplPT09dC5nZXRLZXkoKT90LmdldERhdGEoKTplPHQuZ2V0S2V5KCk/dGhpcy5fZ2V0KHQuZ2V0TGVmdCgpLGUpOnRoaXMuX2dldCh0LmdldFJpZ2h0KCksZSl9LHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dGhpcy5fcm9vdD8odGhpcy5fcm9vdD1uZXcgRWkodGhpcy5fZ2V0Q29tcGFyYWJsZS5jYWxsKHQpLFt0XSxudWxsLG51bGwpLCEwKTp0aGlzLl9pbnNlcnQodGhpcy5fcm9vdCx0KX0sdC5wcm90b3R5cGUuX2luc2VydD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT10JiYodGhpcy5fZ2V0Q29tcGFyYWJsZS5jYWxsKGUpPT09dC5nZXRLZXkoKT8hKHQuZ2V0RGF0YSgpLmluZGV4T2YoZSk+LTEpJiYodC5nZXREYXRhKCkucHVzaChlKSwhMCk6dGhpcy5fZ2V0Q29tcGFyYWJsZS5jYWxsKGUpPHQuZ2V0S2V5KCk/bnVsbD09dC5nZXRMZWZ0KCk/KHQuc2V0TGVmdChuZXcgRWkodGhpcy5fZ2V0Q29tcGFyYWJsZS5jYWxsKGUpLFtlXSxudWxsLG51bGwpKSwhMCk6dGhpcy5faW5zZXJ0KHQuZ2V0TGVmdCgpLGUpOm51bGw9PXQuZ2V0UmlnaHQoKT8odC5zZXRSaWdodChuZXcgRWkodGhpcy5fZ2V0Q29tcGFyYWJsZS5jYWxsKGUpLFtlXSxudWxsLG51bGwpKSwhMCk6dGhpcy5faW5zZXJ0KHQuZ2V0UmlnaHQoKSxlKSl9LHQucHJvdG90eXBlLnJlbW92ZUJ5Q29tcGFyYWJsZT1mdW5jdGlvbih0KXt0aGlzLl9yb290PXRoaXMuX3JlbW92ZSh0aGlzLl9yb290LHQpfSx0LnByb3RvdHlwZS5fcmVtb3ZlPWZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dClyZXR1cm4gbnVsbDtpZih0aGlzLl9nZXRDb21wYXJhYmxlLmNhbGwoZSkhPT10LmdldEtleSgpKXJldHVybiB0aGlzLl9nZXRDb21wYXJhYmxlLmNhbGwoZSk8dC5nZXRLZXkoKT8odC5zZXRMZWZ0KHRoaXMuX3JlbW92ZSh0LmdldExlZnQoKSxlKSksdCk6KHQuc2V0UmlnaHQodGhpcy5fcmVtb3ZlKHQuZ2V0UmlnaHQoKSxlKSksdCk7dmFyIGk9dC5nZXREYXRhKCkuaW5kZXhPZihlKTtpZihpPi0xKXtpZih0LmdldERhdGEoKS5zcGxpY2UoaSwxKSwwPT09dC5nZXREYXRhKCkubGVuZ3RoKXtpZihudWxsPT10LmdldExlZnQoKSYmbnVsbD09dC5nZXRSaWdodCgpKXJldHVybiBudWxsO2lmKG51bGw9PXQuZ2V0TGVmdCgpKXJldHVybiB0LmdldFJpZ2h0KCk7aWYobnVsbD09dC5nZXRSaWdodCgpKXJldHVybiB0LmdldExlZnQoKTt2YXIgbj10aGlzLl9maW5kTWluTm9kZSh0LmdldFJpZ2h0KCkpO3JldHVybiB0LnNldEtleShuLmdldEtleSgpKSx0LnNldERhdGEobi5nZXREYXRhKCkpLHQuc2V0UmlnaHQodGhpcy5fY2xlYW51cCh0LmdldFJpZ2h0KCksbikpLHR9cmV0dXJuIHR9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLl9jbGVhbnVwPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5nZXRLZXkoKTtpZihudWxsPT10KXJldHVybiBudWxsO2lmKGk9PT10LmdldEtleSgpKXtpZihudWxsPT10LmdldExlZnQoKSYmbnVsbD09dC5nZXRSaWdodCgpKXJldHVybiBudWxsO2lmKG51bGw9PXQuZ2V0TGVmdCgpKXJldHVybiB0LmdldFJpZ2h0KCk7aWYobnVsbD09dC5nZXRSaWdodCgpKXJldHVybiB0LmdldExlZnQoKTt2YXIgbj10aGlzLl9maW5kTWluTm9kZSh0LmdldFJpZ2h0KCkpO3JldHVybiB0LnNldEtleShuLmdldEtleSgpKSx0LnNldERhdGEobi5nZXREYXRhKCkpLHQuc2V0UmlnaHQodGhpcy5fY2xlYW51cCh0LmdldFJpZ2h0KCksbikpLHR9cmV0dXJuIHRoaXMuX2dldENvbXBhcmFibGUuY2FsbChlKTx0LmdldEtleSgpPyh0LnNldExlZnQodGhpcy5fY2xlYW51cCh0LmdldExlZnQoKSxlKSksdCk6KHQuc2V0UmlnaHQodGhpcy5fY2xlYW51cCh0LmdldFJpZ2h0KCksZSkpLHQpfSx0LnByb3RvdHlwZS5fZmluZE1pbk5vZGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQ7bnVsbCE9ZS5nZXRMZWZ0KCk7KWU9ZS5nZXRMZWZ0KCk7cmV0dXJuIGV9LHQucHJvdG90eXBlLmxpc3Q9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgQXJyYXk7cmV0dXJuIHRoaXMuX2xpc3QodGhpcy5fcm9vdCx0KSx0fSx0LnByb3RvdHlwZS5fbGlzdD1mdW5jdGlvbih0LGUpe251bGwhPXQmJih0aGlzLl9saXN0KHQuZ2V0TGVmdCgpLGUpLHQuZ2V0RGF0YSgpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0pKSx0aGlzLl9saXN0KHQuZ2V0UmlnaHQoKSxlKSl9LHR9KCksRWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4pe3RoaXMuX2tleT10LHRoaXMuX2RhdGE9ZSx0aGlzLl9sZWZ0PWksdGhpcy5fcmlnaHQ9bn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0S2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleX0sdC5wcm90b3R5cGUuc2V0S2V5PWZ1bmN0aW9uKHQpe3RoaXMuX2tleT10fSx0LnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LHQucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7dGhpcy5fZGF0YT10fSx0LnByb3RvdHlwZS5nZXRMZWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlZnR9LHQucHJvdG90eXBlLnNldExlZnQ9ZnVuY3Rpb24odCl7dGhpcy5fbGVmdD10fSx0LnByb3RvdHlwZS5nZXRSaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yaWdodH0sdC5wcm90b3R5cGUuc2V0UmlnaHQ9ZnVuY3Rpb24odCl7dGhpcy5fcmlnaHQ9dH0sdH0oKSxBaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fa2V5PTAsdGhpcy5fa2V5PXR9cmV0dXJuIHQucHJvdG90eXBlLmdldFRoZUtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9rZXl9LHQucHJvdG90eXBlLnNldEtleT1mdW5jdGlvbih0KXt0aGlzLl9rZXk9dH0sdH0oKSxDaT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLE9pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmNhbWVyYT10fXJldHVybiB0LnByb3RvdHlwZS5sb2NrVG9BY3Rvcj1mdW5jdGlvbih0KXt0aGlzLmNhbWVyYS5hZGRTdHJhdGVneShuZXcgQmkodCkpfSx0LnByb3RvdHlwZS5sb2NrVG9BY3RvckF4aXM9ZnVuY3Rpb24odCxlKXt0aGlzLmNhbWVyYS5hZGRTdHJhdGVneShuZXcgUmkodCxlKSl9LHQucHJvdG90eXBlLmVsYXN0aWNUb0FjdG9yPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmNhbWVyYS5hZGRTdHJhdGVneShuZXcgamkodCxlLGkpKX0sdC5wcm90b3R5cGUucmFkaXVzQXJvdW5kQWN0b3I9ZnVuY3Rpb24odCxlKXt0aGlzLmNhbWVyYS5hZGRTdHJhdGVneShuZXcgRmkodCxlKSl9LHR9KCk7IWZ1bmN0aW9uKHQpe3RbdC5YPTBdPVwiWFwiLHRbdC5ZPTFdPVwiWVwifShkaXx8KGRpPXt9KSk7dmFyIFRpLE1pLERpLGtpLEJpPWZ1bmN0aW9uKHQpe3RoaXMudGFyZ2V0PXQsdGhpcy5hY3Rpb249ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHQuY2VudGVyfX0sUmk9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO3RoaXMudGFyZ2V0PXQsdGhpcy5heGlzPWUsdGhpcy5hY3Rpb249ZnVuY3Rpb24odCxlLG4scil7dmFyIG89dC5jZW50ZXIscz1lLmdldEZvY3VzKCk7cmV0dXJuIGkuYXhpcz09PWRpLlg/bmV3IFYoby54LHMueSk6bmV3IFYocy54LG8ueSl9fSxqaT1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpczt0aGlzLnRhcmdldD10LHRoaXMuY2FtZXJhRWxhc3RpY2l0eT1lLHRoaXMuY2FtZXJhRnJpY3Rpb249aSx0aGlzLmFjdGlvbj1mdW5jdGlvbih0LGUsaSxyKXt2YXIgbz10LmNlbnRlcixzPWUuZ2V0Rm9jdXMoKSxhPWUudmVsLmNsb25lKCksYz1vLnN1YihzKS5zY2FsZShuLmNhbWVyYUVsYXN0aWNpdHkpLGg9KGE9YS5hZGQoYykpLnNjYWxlKC0xKS5zY2FsZShuLmNhbWVyYUZyaWN0aW9uKTtyZXR1cm4gYT1hLmFkZChoKSxzPXMuYWRkKGEpfX0sRmk9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO3RoaXMudGFyZ2V0PXQsdGhpcy5yYWRpdXM9ZSx0aGlzLmFjdGlvbj1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10LmNlbnRlcixzPWUuZ2V0Rm9jdXMoKSxhPW8uc3ViKHMpLGM9YS5zaXplO2lmKGM+PWkucmFkaXVzKXt2YXIgaD1jLWkucmFkaXVzO3JldHVybiBzLmFkZChhLm5vcm1hbGl6ZSgpLnNjYWxlKGgpKX1yZXR1cm4gc319LElpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuX2NhbWVyYVN0cmF0ZWdpZXM9W10sZS5zdHJhdGVneT1uZXcgT2koZSksZS56PTEsZS5kej0wLGUuYXo9MCxlLnJvdGF0aW9uPTAsZS5yeD0wLGUucG9zPVYuWmVybyxlLnZlbD1WLlplcm8sZS5hY2M9Vi5aZXJvLGUuX2NhbWVyYU1vdmluZz0hMSxlLl9jdXJyZW50TGVycFRpbWU9MCxlLl9sZXJwRHVyYXRpb249MWUzLGUuX2xlcnBTdGFydD1udWxsLGUuX2xlcnBFbmQ9bnVsbCxlLl9pc1NoYWtpbmc9ITEsZS5fc2hha2VNYWduaXR1ZGVYPTAsZS5fc2hha2VNYWduaXR1ZGVZPTAsZS5fc2hha2VEdXJhdGlvbj0wLGUuX2VsYXBzZWRTaGFrZVRpbWU9MCxlLl94U2hha2U9MCxlLl95U2hha2U9MCxlLl9pc1pvb21pbmc9ITEsZS5fem9vbVN0YXJ0PTEsZS5fem9vbUVuZD0xLGUuX2N1cnJlbnRab29tVGltZT0wLGUuX3pvb21EdXJhdGlvbj0wLGUuX3pvb21FYXNpbmc9UGUuRWFzZUluT3V0Q3ViaWMsZS5fZWFzaW5nPVBlLkVhc2VJbk91dEN1YmljLGUuX2lzSW5pdGlhbGl6ZWQ9ITEsZX1yZXR1cm4gQ2koZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhbmd1bGFyVmVsb2NpdHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucnh9LHNldDpmdW5jdGlvbih0KXt0aGlzLnJ4PXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwieFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3MueH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvbGxvd3x8dGhpcy5fY2FtZXJhTW92aW5nfHwodGhpcy5wb3MueD10KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcy55fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZm9sbG93fHx0aGlzLl9jYW1lcmFNb3Zpbmd8fCh0aGlzLnBvcy55PXQpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImR4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZlbC54fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy52ZWwueD10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZlbC55fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy52ZWwueT10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImF4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjYy54fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5hY2MueD10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImF5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjYy55fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5hY2MueT10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldEZvY3VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zfSxlLnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT1pJiYoaT1QZS5FYXNlSW5PdXRDdWJpYyksXCJmdW5jdGlvblwiIT10eXBlb2YgaSl0aHJvd1wiUGxlYXNlIHNwZWNpZnkgYW4gRWFzaW5nRnVuY3Rpb25cIjtyZXR1cm4gdGhpcy5fZm9sbG93PyhuZXcgZCkucmVqZWN0KHQpOih0aGlzLl9sZXJwUHJvbWlzZSYmdGhpcy5fbGVycFByb21pc2Uuc3RhdGUoKT09PXUuUGVuZGluZyYmdGhpcy5fbGVycFByb21pc2UucmVzb2x2ZSh0KSx0aGlzLl9sZXJwUHJvbWlzZT1uZXcgZCx0aGlzLl9sZXJwU3RhcnQ9dGhpcy5nZXRGb2N1cygpLmNsb25lKCksdGhpcy5fbGVycER1cmF0aW9uPWUsdGhpcy5fbGVycEVuZD10LHRoaXMuX2N1cnJlbnRMZXJwVGltZT0wLHRoaXMuX2NhbWVyYU1vdmluZz0hMCx0aGlzLl9lYXNpbmc9aSx0aGlzLl9sZXJwUHJvbWlzZSl9LGUucHJvdG90eXBlLnNoYWtlPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9pc1NoYWtpbmc9ITAsdGhpcy5fc2hha2VNYWduaXR1ZGVYPXQsdGhpcy5fc2hha2VNYWduaXR1ZGVZPWUsdGhpcy5fc2hha2VEdXJhdGlvbj1pfSxlLnByb3RvdHlwZS56b29tPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09aSYmKGk9UGUuRWFzZUluT3V0Q3ViaWMpLHRoaXMuX3pvb21Qcm9taXNlPW5ldyBkLGU/KHRoaXMuX2lzWm9vbWluZz0hMCx0aGlzLl96b29tRWFzaW5nPWksdGhpcy5fY3VycmVudFpvb21UaW1lPTAsdGhpcy5fem9vbUR1cmF0aW9uPWUsdGhpcy5fem9vbVN0YXJ0PXRoaXMueix0aGlzLl96b29tRW5kPXQpOih0aGlzLl9pc1pvb21pbmc9ITEsdGhpcy56PXQsdGhpcy5fem9vbVByb21pc2UucmVzb2x2ZSghMCkpLHRoaXMuX3pvb21Qcm9taXNlfSxlLnByb3RvdHlwZS5nZXRab29tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuen0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidmlld3BvcnRcIix7Z2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5fZW5naW5lKXt2YXIgdD10aGlzLl9lbmdpbmUuaGFsZkRyYXdXaWR0aCxlPXRoaXMuX2VuZ2luZS5oYWxmRHJhd0hlaWdodDtyZXR1cm4gbmV3IE1lKHRoaXMueC10LHRoaXMueS1lLHRoaXMueCt0LHRoaXMueStlKX1yZXR1cm4gbmV3IE1lKDAsMCwwLDApfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmFkZFN0cmF0ZWd5PWZ1bmN0aW9uKHQpe3RoaXMuX2NhbWVyYVN0cmF0ZWdpZXMucHVzaCh0KX0sZS5wcm90b3R5cGUucmVtb3ZlU3RyYXRlZ3k9ZnVuY3Rpb24odCl7Qyh0LHRoaXMuX2NhbWVyYVN0cmF0ZWdpZXMpfSxlLnByb3RvdHlwZS5jbGVhckFsbFN0cmF0ZWdpZXM9ZnVuY3Rpb24oKXt0aGlzLl9jYW1lcmFTdHJhdGVnaWVzLmxlbmd0aD0wfSxlLnByb3RvdHlwZS5fcHJldXBkYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0KFwicHJldXBkYXRlXCIsbmV3IHV0KHQsZSx0aGlzKSksdGhpcy5vblByZVVwZGF0ZSh0LGUpfSxlLnByb3RvdHlwZS5vblByZVVwZGF0ZT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUuX3Bvc3R1cGRhdGU9ZnVuY3Rpb24odCxlKXt0aGlzLmVtaXQoXCJwb3N0dXBkYXRlXCIsbmV3IGx0KHQsZSx0aGlzKSksdGhpcy5vblBvc3RVcGRhdGUodCxlKX0sZS5wcm90b3R5cGUub25Qb3N0VXBkYXRlPWZ1bmN0aW9uKHQsZSl7fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0luaXRpYWxpemVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0luaXRpYWxpemVkfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9pbml0aWFsaXplPWZ1bmN0aW9uKGUpe3RoaXMuaXNJbml0aWFsaXplZHx8KHRoaXMub25Jbml0aWFsaXplKGUpLHQucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLFwiaW5pdGlhbGl6ZVwiLG5ldyBBdChlLHRoaXMpKSx0aGlzLl9pc0luaXRpYWxpemVkPSEwLHRoaXMuX2VuZ2luZT1lKX0sZS5wcm90b3R5cGUub25Jbml0aWFsaXplPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSxpKXt0LnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsZSxpKX0sZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsaSl7dC5wcm90b3R5cGUub2ZmLmNhbGwodGhpcyxlLGkpfSxlLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsaSl7dC5wcm90b3R5cGUub25jZS5jYWxsKHRoaXMsZSxpKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5faW5pdGlhbGl6ZSh0KSx0aGlzLl9wcmV1cGRhdGUodCxlKSx0aGlzLnBvcz10aGlzLnBvcy5hZGQodGhpcy52ZWwuc2NhbGUoZS8xZTMpKSx0aGlzLnorPXRoaXMuZHoqZS8xZTMsdGhpcy52ZWw9dGhpcy52ZWwuYWRkKHRoaXMuYWNjLnNjYWxlKGUvMWUzKSksdGhpcy5keis9dGhpcy5heiplLzFlMyx0aGlzLnJvdGF0aW9uKz10aGlzLmFuZ3VsYXJWZWxvY2l0eSplLzFlMyx0aGlzLl9pc1pvb21pbmcpaWYodGhpcy5fY3VycmVudFpvb21UaW1lPHRoaXMuX3pvb21EdXJhdGlvbil7dmFyIGk9KDAsdGhpcy5fem9vbUVhc2luZykodGhpcy5fY3VycmVudFpvb21UaW1lLHRoaXMuX3pvb21TdGFydCx0aGlzLl96b29tRW5kLHRoaXMuX3pvb21EdXJhdGlvbik7dGhpcy56PWksdGhpcy5fY3VycmVudFpvb21UaW1lKz1lfWVsc2UgdGhpcy5faXNab29taW5nPSExLHRoaXMuej10aGlzLl96b29tRW5kLHRoaXMuX2N1cnJlbnRab29tVGltZT0wLHRoaXMuX3pvb21Qcm9taXNlLnJlc29sdmUoITApO2lmKHRoaXMuX2NhbWVyYU1vdmluZylpZih0aGlzLl9jdXJyZW50TGVycFRpbWU8dGhpcy5fbGVycER1cmF0aW9uKXt2YXIgbj1QZS5DcmVhdGVWZWN0b3JFYXNpbmdGdW5jdGlvbih0aGlzLl9lYXNpbmcpKHRoaXMuX2N1cnJlbnRMZXJwVGltZSx0aGlzLl9sZXJwU3RhcnQsdGhpcy5fbGVycEVuZCx0aGlzLl9sZXJwRHVyYXRpb24pO3RoaXMucG9zPW4sdGhpcy5fY3VycmVudExlcnBUaW1lKz1lfWVsc2V7dGhpcy5wb3M9dGhpcy5fbGVycEVuZDt2YXIgcj10aGlzLl9sZXJwRW5kLmNsb25lKCk7dGhpcy5fbGVycFN0YXJ0PW51bGwsdGhpcy5fbGVycEVuZD1udWxsLHRoaXMuX2N1cnJlbnRMZXJwVGltZT0wLHRoaXMuX2NhbWVyYU1vdmluZz0hMSx0aGlzLl9sZXJwUHJvbWlzZS5yZXNvbHZlKHIpfXRoaXMuX2lzRG9uZVNoYWtpbmcoKT8odGhpcy5faXNTaGFraW5nPSExLHRoaXMuX2VsYXBzZWRTaGFrZVRpbWU9MCx0aGlzLl9zaGFrZU1hZ25pdHVkZVg9MCx0aGlzLl9zaGFrZU1hZ25pdHVkZVk9MCx0aGlzLl9zaGFrZUR1cmF0aW9uPTAsdGhpcy5feFNoYWtlPTAsdGhpcy5feVNoYWtlPTApOih0aGlzLl9lbGFwc2VkU2hha2VUaW1lKz1lLHRoaXMuX3hTaGFrZT0xKyhNYXRoLnJhbmRvbSgpKnRoaXMuX3NoYWtlTWFnbml0dWRlWHwwKSx0aGlzLl95U2hha2U9MSsoTWF0aC5yYW5kb20oKSp0aGlzLl9zaGFrZU1hZ25pdHVkZVl8MCkpO2Zvcih2YXIgbz0wLHM9dGhpcy5fY2FtZXJhU3RyYXRlZ2llcztvPHMubGVuZ3RoO28rKyl7dmFyIGE9c1tvXTt0aGlzLnBvcz1hLmFjdGlvbi5jYWxsKGEsYS50YXJnZXQsdGhpcyx0LGUpfXRoaXMuX3Bvc3R1cGRhdGUodCxlKX0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEZvY3VzKCksaT10LmNhbnZhcy53aWR0aCxuPXQuY2FudmFzLmhlaWdodCxyPXRoaXMuX2VuZ2luZT90aGlzLl9lbmdpbmUucGl4ZWxSYXRpbzp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxvPXRoaXMuZ2V0Wm9vbSgpLHM9aS9vL3IsYT1uL28vcjt0LnNjYWxlKG8sbyksdC50cmFuc2xhdGUoLWUueCtzLzIrdGhpcy5feFNoYWtlLC1lLnkrYS8yK3RoaXMuX3lTaGFrZSl9LGUucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEZvY3VzKCk7dC5maWxsU3R5bGU9XCJyZWRcIix0LnN0cm9rZVN0eWxlPVwid2hpdGVcIix0LmxpbmVXaWR0aD0zLHQuYmVnaW5QYXRoKCksdC5hcmMoZS54LGUueSwxNSwwLDIqTWF0aC5QSSksdC5jbG9zZVBhdGgoKSx0LnN0cm9rZSgpLHQuYmVnaW5QYXRoKCksdC5hcmMoZS54LGUueSw1LDAsMipNYXRoLlBJKSx0LmNsb3NlUGF0aCgpLHQuc3Ryb2tlKCksdC5iZWdpblBhdGgoKSx0LnNldExpbmVEYXNoKFs1LDE1XSksdC5saW5lV2lkdGg9NSx0LnN0cm9rZVN0eWxlPVwid2hpdGVcIix0LnN0cm9rZVJlY3QodGhpcy52aWV3cG9ydC5sZWZ0LHRoaXMudmlld3BvcnQudG9wLHRoaXMudmlld3BvcnQud2lkdGgsdGhpcy52aWV3cG9ydC5oZWlnaHQpLHQuY2xvc2VQYXRoKCl9LGUucHJvdG90eXBlLl9pc0RvbmVTaGFraW5nPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2lzU2hha2luZ3x8dGhpcy5fZWxhcHNlZFNoYWtlVGltZT49dGhpcy5fc2hha2VEdXJhdGlvbn0sZX0oUnQpLExpPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCk7IWZ1bmN0aW9uKHQpe3RbdC5FbT0wXT1cIkVtXCIsdFt0LlJlbT0xXT1cIlJlbVwiLHRbdC5QeD0yXT1cIlB4XCIsdFt0LlB0PTNdPVwiUHRcIix0W3QuUGVyY2VudD00XT1cIlBlcmNlbnRcIn0oVGl8fChUaT17fSkpLGZ1bmN0aW9uKHQpe3RbdC5MZWZ0PTBdPVwiTGVmdFwiLHRbdC5SaWdodD0xXT1cIlJpZ2h0XCIsdFt0LkNlbnRlcj0yXT1cIkNlbnRlclwiLHRbdC5TdGFydD0zXT1cIlN0YXJ0XCIsdFt0LkVuZD00XT1cIkVuZFwifShNaXx8KE1pPXt9KSksZnVuY3Rpb24odCl7dFt0LlRvcD0wXT1cIlRvcFwiLHRbdC5IYW5naW5nPTFdPVwiSGFuZ2luZ1wiLHRbdC5NaWRkbGU9Ml09XCJNaWRkbGVcIix0W3QuQWxwaGFiZXRpYz0zXT1cIkFscGhhYmV0aWNcIix0W3QuSWRlb2dyYXBoaWM9NF09XCJJZGVvZ3JhcGhpY1wiLHRbdC5Cb3R0b209NV09XCJCb3R0b21cIn0oRGl8fChEaT17fSkpLGZ1bmN0aW9uKHQpe3RbdC5Ob3JtYWw9MF09XCJOb3JtYWxcIix0W3QuSXRhbGljPTFdPVwiSXRhbGljXCIsdFt0Lk9ibGlxdWU9Ml09XCJPYmxpcXVlXCJ9KGtpfHwoa2k9e30pKTt2YXIgemk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbixyLG8pe3JldHVybiB0LmNhbGwodGhpcyxlLGksbixyLG8pfHx0aGlzfXJldHVybiBMaShlLHQpLGV9KFp0KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4scixvKXt2YXIgcz10LmNhbGwodGhpcyxlJiZcIm9iamVjdFwiPT10eXBlb2YgZT9lOntwb3M6bmV3IFYoaSxuKX0pfHx0aGlzO3MuYm9sZD0hMSxzLmZvbnRTaXplPTEwLHMuZm9udFN0eWxlPWtpLk5vcm1hbCxzLmZvbnRVbml0PVRpLlB4LHMudGV4dEFsaWduPU1pLkxlZnQscy5iYXNlQWxpZ249RGkuQm90dG9tLHMubGV0dGVyU3BhY2luZz0wLHMuY2FzZUluc2Vuc2l0aXZlPSEwO3ZhciBhPVwiXCI7cmV0dXJuIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlPyhyPWUuZm9udEZhbWlseSxvPWUuc3ByaXRlRm9udCxhPWUudGV4dCk6YT1lLHMudGV4dD1hfHxcIlwiLHMuY29sb3I9THQuQmxhY2sscy5zcHJpdGVGb250PW8scy5ib2R5LmNvbGxpZGVyLnR5cGU9bmUuUHJldmVudENvbGxpc2lvbixzLmZvbnRGYW1pbHk9cnx8XCJzYW5zLXNlcmlmXCIscy5fdGV4dFNoYWRvd09uPSExLHMuX3NoYWRvd09mZnNldFg9MCxzLl9zaGFkb3dPZmZzZXRZPTAsc31yZXR1cm4gTGkoZSx0KSxlLnByb3RvdHlwZS5nZXRUZXh0V2lkdGg9ZnVuY3Rpb24odCl7dmFyIGU9dC5mb250O3QuZm9udD10aGlzLl9mb250U3RyaW5nO3ZhciBpPXQubWVhc3VyZVRleHQodGhpcy50ZXh0KS53aWR0aDtyZXR1cm4gdC5mb250PWUsaX0sZS5wcm90b3R5cGUuX2xvb2t1cEZvbnRVbml0PWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIFRpLkVtOnJldHVyblwiZW1cIjtjYXNlIFRpLlJlbTpyZXR1cm5cInJlbVwiO2Nhc2UgVGkuUHQ6cmV0dXJuXCJwdFwiO2Nhc2UgVGkuUHg6cmV0dXJuXCJweFwiO2Nhc2UgVGkuUGVyY2VudDpyZXR1cm5cIiVcIjtkZWZhdWx0OnJldHVyblwicHhcIn19LGUucHJvdG90eXBlLl9sb29rdXBUZXh0QWxpZ249ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgTWkuTGVmdDpyZXR1cm5cImxlZnRcIjtjYXNlIE1pLlJpZ2h0OnJldHVyblwicmlnaHRcIjtjYXNlIE1pLkNlbnRlcjpyZXR1cm5cImNlbnRlclwiO2Nhc2UgTWkuRW5kOnJldHVyblwiZW5kXCI7Y2FzZSBNaS5TdGFydDpkZWZhdWx0OnJldHVyblwic3RhcnRcIn19LGUucHJvdG90eXBlLl9sb29rdXBCYXNlQWxpZ249ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgRGkuQWxwaGFiZXRpYzpyZXR1cm5cImFscGhhYmV0aWNcIjtjYXNlIERpLkJvdHRvbTpyZXR1cm5cImJvdHRvbVwiO2Nhc2UgRGkuSGFuZ2luZzpyZXR1cm5cImhhbmdpbmdcIjtjYXNlIERpLklkZW9ncmFwaGljOnJldHVyblwiaWRlb2dyYXBoaWNcIjtjYXNlIERpLk1pZGRsZTpyZXR1cm5cIm1pZGRsZVwiO2Nhc2UgRGkuVG9wOnJldHVyblwidG9wXCI7ZGVmYXVsdDpyZXR1cm5cImFscGhhYmV0aWNcIn19LGUucHJvdG90eXBlLl9sb29rdXBGb250U3R5bGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ib2xkP1wiIGJvbGRcIjpcIlwiO3N3aXRjaCh0KXtjYXNlIGtpLkl0YWxpYzpyZXR1cm5cIml0YWxpY1wiK2U7Y2FzZSBraS5Ob3JtYWw6cmV0dXJuXCJub3JtYWxcIitlO2Nhc2Uga2kuT2JsaXF1ZTpyZXR1cm5cIm9ibGlxdWVcIitlO2RlZmF1bHQ6cmV0dXJuXCJub3JtYWxcIitlfX0sZS5wcm90b3R5cGUuc2V0VGV4dFNoYWRvdz1mdW5jdGlvbih0LGUsaSl7dGhpcy5zcHJpdGVGb250LnNldFRleHRTaGFkb3codCxlLGkpfSxlLnByb3RvdHlwZS51c2VUZXh0U2hhZG93PWZ1bmN0aW9uKHQpe3RoaXMuc3ByaXRlRm9udC51c2VUZXh0U2hhZG93KHQpfSxlLnByb3RvdHlwZS5jbGVhclRleHRTaGFkb3c9ZnVuY3Rpb24oKXt0aGlzLl90ZXh0U2hhZG93T249ITEsdGhpcy5fc2hhZG93T2Zmc2V0WD0wLHRoaXMuX3NoYWRvd09mZnNldFk9MH0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUsaSl7dC5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyxlLGkpfSxlLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKGUsaSl7ZS5zYXZlKCksZS50cmFuc2xhdGUodGhpcy5wb3MueCx0aGlzLnBvcy55KSxlLnNjYWxlKHRoaXMuc2NhbGUueCx0aGlzLnNjYWxlLnkpLGUucm90YXRlKHRoaXMucm90YXRpb24pLHRoaXMuX3RleHRTaGFkb3dPbiYmKGUuc2F2ZSgpLGUudHJhbnNsYXRlKHRoaXMuX3NoYWRvd09mZnNldFgsdGhpcy5fc2hhZG93T2Zmc2V0WSksdGhpcy5fZm9udERyYXcoZSksZS5yZXN0b3JlKCkpLHRoaXMuX2ZvbnREcmF3KGUpLHQucHJvdG90eXBlLmRyYXcuY2FsbCh0aGlzLGUsaSksZS5yZXN0b3JlKCl9LGUucHJvdG90eXBlLl9mb250RHJhdz1mdW5jdGlvbih0KXtpZih0aGlzLnNwcml0ZUZvbnQpdGhpcy5zcHJpdGVGb250LmRyYXcodCx0aGlzLnRleHQsMCwwLHtjb2xvcjp0aGlzLmNvbG9yLmNsb25lKCksYmFzZUFsaWduOnRoaXMuYmFzZUFsaWduLHRleHRBbGlnbjp0aGlzLnRleHRBbGlnbixmb250U2l6ZTp0aGlzLmZvbnRTaXplLGxldHRlclNwYWNpbmc6dGhpcy5sZXR0ZXJTcGFjaW5nLG9wYWNpdHk6dGhpcy5vcGFjaXR5fSk7ZWxzZXt2YXIgZT10LnRleHRBbGlnbixpPXQudGV4dEJhc2VsaW5lO3QudGV4dEFsaWduPXRoaXMuX2xvb2t1cFRleHRBbGlnbih0aGlzLnRleHRBbGlnbiksdC50ZXh0QmFzZWxpbmU9dGhpcy5fbG9va3VwQmFzZUFsaWduKHRoaXMuYmFzZUFsaWduKSx0aGlzLmNvbG9yJiYodGhpcy5jb2xvci5hPXRoaXMub3BhY2l0eSksdC5maWxsU3R5bGU9dGhpcy5jb2xvci50b1N0cmluZygpLHQuZm9udD10aGlzLl9mb250U3RyaW5nLHRoaXMubWF4V2lkdGg/dC5maWxsVGV4dCh0aGlzLnRleHQsMCwwLHRoaXMubWF4V2lkdGgpOnQuZmlsbFRleHQodGhpcy50ZXh0LDAsMCksdC50ZXh0QWxpZ249ZSx0LnRleHRCYXNlbGluZT1pfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiX2ZvbnRTdHJpbmdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvb2t1cEZvbnRTdHlsZSh0aGlzLmZvbnRTdHlsZSkrXCIgXCIrdGhpcy5mb250U2l6ZSt0aGlzLl9sb29rdXBGb250VW5pdCh0aGlzLmZvbnRVbml0KStcIiBcIit0aGlzLmZvbnRGYW1pbHl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZGVidWdEcmF3PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmRlYnVnRHJhdy5jYWxsKHRoaXMsZSl9LGV9KGlpKSkpLEhpPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCksV2k9e3BvczpWLlplcm8sd2lkdGg6MTAsaGVpZ2h0OjEwLHZpc2libGU6ITEsYWN0aW9uOmZ1bmN0aW9uKCl7fSxmaWx0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMH0scmVwZWF0Oi0xfSxVaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBpPXQuY2FsbCh0aGlzLGUucG9zLngsZS5wb3MueSxlLndpZHRoLGUuaGVpZ2h0KXx8dGhpcztyZXR1cm4gaS5hY3Rpb249ZnVuY3Rpb24oKXt9LGkuZmlsdGVyPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGkucmVwZWF0PS0xLGU9eSh7fSxXaSxlKSxpLmZpbHRlcj1lLmZpbHRlcnx8aS5maWx0ZXIsaS5yZXBlYXQ9ZS5yZXBlYXR8fGkucmVwZWF0LGkuYWN0aW9uPWUuYWN0aW9ufHxpLmFjdGlvbixlLnRhcmdldCYmKGkudGFyZ2V0PWUudGFyZ2V0KSxpLnZpc2libGU9ZS52aXNpYmxlLGkuYm9keS5jb2xsaWRlci50eXBlPW5lLlBhc3NpdmUsaS5ldmVudERpc3BhdGNoZXI9bmV3IEJ0KGkpLGkuYWN0aW9uUXVldWU9bmV3IHdlKGkpLGkub24oXCJjb2xsaXNpb25zdGFydFwiLChmdW5jdGlvbih0KXtlaSh0Lm90aGVyKSYmaS5maWx0ZXIodC5vdGhlcikmJihpLmVtaXQoXCJlbnRlclwiLG5ldyBEdChpLHQub3RoZXIpKSxpLl9kaXNwYXRjaEFjdGlvbigpLDA9PT1pLnJlcGVhdCYmaS5raWxsKCkpfSkpLGkub24oXCJjb2xsaXNpb25lbmRcIiwoZnVuY3Rpb24odCl7ZWkodC5vdGhlcikmJmkuZmlsdGVyKHQub3RoZXIpJiZpLmVtaXQoXCJleGl0XCIsbmV3IGt0KGksdC5vdGhlcikpfSkpLGl9cmV0dXJuIEhpKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidGFyZ2V0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YXJnZXR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90YXJnZXQ9dCx0aGlzLmZpbHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9pbml0aWFsaXplPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLl9pbml0aWFsaXplLmNhbGwodGhpcyxlKX0sZS5wcm90b3R5cGUuX2Rpc3BhdGNoQWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5hY3Rpb24uY2FsbCh0aGlzKSx0aGlzLnJlcGVhdC0tfSxlLnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuZGVidWdEcmF3LmNhbGwodGhpcyxlKSxlLnNhdmUoKSxlLnRyYW5zbGF0ZSh0aGlzLnBvcy54LHRoaXMucG9zLnkpO3ZhciBpPXRoaXMuYm9keS5jb2xsaWRlci5ib3VuZHMsbj10aGlzLmdldFdvcmxkUG9zKCk7aS5sZWZ0PWkubGVmdC1uLngsaS5yaWdodD1pLnJpZ2h0LW4ueCxpLnRvcD1pLnRvcC1uLnksaS5ib3R0b209aS5ib3R0b20tbi55LGUuZmlsbFN0eWxlPUx0LlZpb2xldC50b1N0cmluZygpLGUuc3Ryb2tlU3R5bGU9THQuVmlvbGV0LnRvU3RyaW5nKCksZS5maWxsVGV4dChcIlRyaWdnZXJcIiwxMCwxMCksaS5kZWJ1Z0RyYXcoZSksZS5yZXN0b3JlKCl9LGV9KGlpKTtmdW5jdGlvbiBOaSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIG9pfXZhciBxaSxWaT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLEdpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLmFjdG9ycz1bXSxpLl9ib2RpZXM9W10saS50cmlnZ2Vycz1bXSxpLnRpbGVNYXBzPVtdLGkuc2NyZWVuRWxlbWVudHM9W10saS5faXNJbml0aWFsaXplZD0hMSxpLl9zb3J0ZWREcmF3aW5nVHJlZT1uZXcgU2koaWkucHJvdG90eXBlLmdldFpJbmRleCksaS5fYnJvYWRwaGFzZT1uZXcgUGksaS5fa2lsbFF1ZXVlPVtdLGkuX3RyaWdnZXJLaWxsUXVldWU9W10saS5fdGltZXJzPVtdLGkuX2NhbmNlbFF1ZXVlPVtdLGkuX2xvZ2dlcj1SLmdldEluc3RhbmNlKCksaS5jYW1lcmE9bmV3IElpLGkuX2VuZ2luZT1lLGUmJihpLmNhbWVyYS54PWUuaGFsZkRyYXdXaWR0aCxpLmNhbWVyYS55PWUuaGFsZkRyYXdIZWlnaHQpLGl9cmV0dXJuIFZpKGUsdCksZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSxpKXt0LnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsZSxpKX0sZS5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLGkpe3QucHJvdG90eXBlLm9uY2UuY2FsbCh0aGlzLGUsaSl9LGUucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLGkpe3QucHJvdG90eXBlLm9mZi5jYWxsKHRoaXMsZSxpKX0sZS5wcm90b3R5cGUub25Jbml0aWFsaXplPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUub25BY3RpdmF0ZT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUub25EZWFjdGl2YXRlPWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS5vblByZVVwZGF0ZT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUub25Qb3N0VXBkYXRlPWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS5vblByZURyYXc9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLm9uUG9zdERyYXc9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLl9pbml0aWFsaXplQ2hpbGRyZW49ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXRoaXMuYWN0b3JzO3Q8ZS5sZW5ndGg7dCsrKXtlW3RdLl9pbml0aWFsaXplKHRoaXMuX2VuZ2luZSl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0luaXRpYWxpemVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0luaXRpYWxpemVkfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9pbml0aWFsaXplPWZ1bmN0aW9uKHQpe3RoaXMuaXNJbml0aWFsaXplZHx8KHRoaXMuX2VuZ2luZT10LHRoaXMuY2FtZXJhJiYodGhpcy5jYW1lcmEueD10LmhhbGZEcmF3V2lkdGgsdGhpcy5jYW1lcmEueT10LmhhbGZEcmF3SGVpZ2h0KSx0aGlzLl9pbml0aWFsaXplQ2hpbGRyZW4oKSx0aGlzLl9sb2dnZXIuZGVidWcoXCJTY2VuZS5vbkluaXRpYWxpemVcIix0aGlzLHQpLHRoaXMuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJpbml0aWFsaXplXCIsbmV3IEF0KHQsdGhpcykpLHRoaXMub25Jbml0aWFsaXplLmNhbGwodGhpcyx0KSx0aGlzLl9pc0luaXRpYWxpemVkPSEwKX0sZS5wcm90b3R5cGUuX2FjdGl2YXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fbG9nZ2VyLmRlYnVnKFwiU2NlbmUub25BY3RpdmF0ZVwiLHRoaXMpLHRoaXMub25BY3RpdmF0ZSh0LGUpfSxlLnByb3RvdHlwZS5fZGVhY3RpdmF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2xvZ2dlci5kZWJ1ZyhcIlNjZW5lLm9uRGVhY3RpdmF0ZVwiLHRoaXMpLHRoaXMub25EZWFjdGl2YXRlKHQsZSl9LGUucHJvdG90eXBlLl9wcmV1cGRhdGU9ZnVuY3Rpb24odCxlKXt0aGlzLmVtaXQoXCJwcmV1cGRhdGVcIixuZXcgdXQodCxlLHRoaXMpKSx0aGlzLm9uUHJlVXBkYXRlKHQsZSl9LGUucHJvdG90eXBlLl9wb3N0dXBkYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0KFwicG9zdHVwZGF0ZVwiLG5ldyBsdCh0LGUsdGhpcykpLHRoaXMub25Qb3N0VXBkYXRlKHQsZSl9LGUucHJvdG90eXBlLl9wcmVkcmF3PWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0KFwicHJlZHJhd1wiLG5ldyBzdCh0LGUsdGhpcykpLHRoaXMub25QcmVEcmF3KHQsZSl9LGUucHJvdG90eXBlLl9wb3N0ZHJhdz1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInBvc3RkcmF3XCIsbmV3IGF0KHQsZSx0aGlzKSksdGhpcy5vblBvc3REcmF3KHQsZSl9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBpLG47Zm9yKHRoaXMuX3ByZXVwZGF0ZSh0LGUpLHRoaXMuY2FtZXJhJiZ0aGlzLmNhbWVyYS51cGRhdGUodCxlKSxpPTAsbj10aGlzLl9jYW5jZWxRdWV1ZS5sZW5ndGg7aTxuO2krKyl0aGlzLnJlbW92ZVRpbWVyKHRoaXMuX2NhbmNlbFF1ZXVlW2ldKTt0aGlzLl9jYW5jZWxRdWV1ZS5sZW5ndGg9MDtmb3IodmFyIHI9MCxvPXRoaXMuX3RpbWVycztyPG8ubGVuZ3RoO3IrKyl7b1tyXS51cGRhdGUoZSl9Zm9yKGk9MCxuPXRoaXMuc2NyZWVuRWxlbWVudHMubGVuZ3RoO2k8bjtpKyspdGhpcy5zY3JlZW5FbGVtZW50c1tpXS51cGRhdGUodCxlKTtmb3IoaT0wLG49dGhpcy50aWxlTWFwcy5sZW5ndGg7aTxuO2krKyl0aGlzLnRpbGVNYXBzW2ldLnVwZGF0ZSh0LGUpO2ZvcihpPTAsbj10aGlzLmFjdG9ycy5sZW5ndGg7aTxuO2krKyl0aGlzLmFjdG9yc1tpXS51cGRhdGUodCxlKSx0aGlzLl9ib2RpZXNbaV09dGhpcy5hY3RvcnNbaV0uYm9keTtmb3IoaT0wLG49dGhpcy50cmlnZ2Vycy5sZW5ndGg7aTxuO2krKyl0aGlzLnRyaWdnZXJzW2ldLnVwZGF0ZSh0LGUpO2lmKHRoaXMuX2NvbGxlY3RBY3RvclN0YXRzKHQpLHQuaW5wdXQucG9pbnRlcnMuZGlzcGF0Y2hQb2ludGVyRXZlbnRzKCksdGhpcy5fYnJvYWRwaGFzZSYmVGUuZW5hYmxlZCl7dmFyIHM9RGF0ZS5ub3coKTt0aGlzLl9icm9hZHBoYXNlLnVwZGF0ZSh0aGlzLl9ib2RpZXMsZSk7Zm9yKHZhciBhPXRoaXMuX2Jyb2FkcGhhc2UuYnJvYWRwaGFzZSh0aGlzLl9ib2RpZXMsZSx0LnN0YXRzLmN1cnJGcmFtZSksYz1EYXRlLm5vdygpLGg9RGF0ZS5ub3coKSx1PVRlLmNvbGxpc2lvblBhc3NlcyxsPWUvdTt1PjA7KWE9dGhpcy5fYnJvYWRwaGFzZS5uYXJyb3dwaGFzZShhLHQuc3RhdHMuY3VyckZyYW1lKSxhPXRoaXMuX2Jyb2FkcGhhc2UucmVzb2x2ZShhLGwsVGUuY29sbGlzaW9uUmVzb2x1dGlvblN0cmF0ZWd5KSx0aGlzLl9icm9hZHBoYXNlLnJ1bkNvbGxpc2lvblN0YXJ0RW5kKGEpLHUtLTt2YXIgcD1EYXRlLm5vdygpO3Quc3RhdHMuY3VyckZyYW1lLnBoeXNpY3MuYnJvYWRwaGFzZT1jLXMsdC5zdGF0cy5jdXJyRnJhbWUucGh5c2ljcy5uYXJyb3dwaGFzZT1wLWh9dC5zdGF0cy5jdXJyRnJhbWUuYWN0b3JzLmtpbGxlZD10aGlzLl9raWxsUXVldWUubGVuZ3RoK3RoaXMuX3RyaWdnZXJLaWxsUXVldWUubGVuZ3RoLHRoaXMuX3Byb2Nlc3NLaWxsUXVldWUodGhpcy5fa2lsbFF1ZXVlLHRoaXMuYWN0b3JzKSx0aGlzLl9wcm9jZXNzS2lsbFF1ZXVlKHRoaXMuX3RyaWdnZXJLaWxsUXVldWUsdGhpcy50cmlnZ2VycyksdGhpcy5fcG9zdHVwZGF0ZSh0LGUpfSxlLnByb3RvdHlwZS5fcHJvY2Vzc0tpbGxRdWV1ZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaSxuPTAscj10O248ci5sZW5ndGg7bisrKXt2YXIgbz1yW25dO28uaXNLaWxsZWQoKSYmKGk9ZS5pbmRleE9mKG8pKT4tMSYmKHRoaXMuX3NvcnRlZERyYXdpbmdUcmVlLnJlbW92ZUJ5Q29tcGFyYWJsZShvKSxlLnNwbGljZShpLDEpKX10Lmxlbmd0aD0wfSxlLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQsZSl7dmFyIGksbjtmb3IodGhpcy5fcHJlZHJhdyh0LGUpLHQuc2F2ZSgpLHRoaXMuY2FtZXJhJiZ0aGlzLmNhbWVyYS5kcmF3KHQpLGk9MCxuPXRoaXMudGlsZU1hcHMubGVuZ3RoO2k8bjtpKyspdGhpcy50aWxlTWFwc1tpXS5kcmF3KHQsZSk7dmFyIHI9dGhpcy5fc29ydGVkRHJhd2luZ1RyZWUubGlzdCgpO2ZvcihpPTAsbj1yLmxlbmd0aDtpPG47aSsrKXJbaV0udmlzaWJsZSYmIXJbaV0uaXNPZmZTY3JlZW4mJnJbaV0uZHJhdyh0LGUpO2Zvcih0aGlzLl9lbmdpbmUmJnRoaXMuX2VuZ2luZS5pc0RlYnVnJiYodC5zdHJva2VTdHlsZT1cInllbGxvd1wiLHRoaXMuZGVidWdEcmF3KHQpKSx0LnJlc3RvcmUoKSxpPTAsbj10aGlzLnNjcmVlbkVsZW1lbnRzLmxlbmd0aDtpPG47aSsrKXRoaXMuc2NyZWVuRWxlbWVudHNbaV0udmlzaWJsZSYmdGhpcy5zY3JlZW5FbGVtZW50c1tpXS5kcmF3KHQsZSk7aWYodGhpcy5fZW5naW5lJiZ0aGlzLl9lbmdpbmUuaXNEZWJ1Zylmb3IoaT0wLG49dGhpcy5zY3JlZW5FbGVtZW50cy5sZW5ndGg7aTxuO2krKyl0aGlzLnNjcmVlbkVsZW1lbnRzW2ldLmRlYnVnRHJhdyh0KTt0aGlzLl9wb3N0ZHJhdyh0LGUpfSxlLnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCl7dmFyIGUsaTtmb3IodGhpcy5lbWl0KFwicHJlZGVidWdkcmF3XCIsbmV3IGN0KHQsdGhpcykpLGU9MCxpPXRoaXMudGlsZU1hcHMubGVuZ3RoO2U8aTtlKyspdGhpcy50aWxlTWFwc1tlXS5kZWJ1Z0RyYXcodCk7Zm9yKGU9MCxpPXRoaXMuYWN0b3JzLmxlbmd0aDtlPGk7ZSsrKXRoaXMuYWN0b3JzW2VdLmRlYnVnRHJhdyh0KTtmb3IoZT0wLGk9dGhpcy50cmlnZ2Vycy5sZW5ndGg7ZTxpO2UrKyl0aGlzLnRyaWdnZXJzW2VdLmRlYnVnRHJhdyh0KTt0aGlzLl9icm9hZHBoYXNlLmRlYnVnRHJhdyh0LDIwKSx0aGlzLmNhbWVyYS5kZWJ1Z0RyYXcodCksdGhpcy5lbWl0KFwicG9zdGRlYnVnZHJhd1wiLG5ldyBodCh0LHRoaXMpKX0sZS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYWN0b3JzLmluZGV4T2YodCk+LTF9LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgaWkmJnQudW5raWxsKCksdCBpbnN0YW5jZW9mIG9pP08odGhpcy5zY3JlZW5FbGVtZW50cyx0KXx8dGhpcy5hZGRTY3JlZW5FbGVtZW50KHQpOnQgaW5zdGFuY2VvZiBpaT9PKHRoaXMuYWN0b3JzLHQpfHx0aGlzLl9hZGRDaGlsZCh0KTp0IGluc3RhbmNlb2YgYWk/Tyh0aGlzLl90aW1lcnMsdCl8fHRoaXMuYWRkVGltZXIodCk6dCBpbnN0YW5jZW9mIGhpJiYoTyh0aGlzLnRpbGVNYXBzLHQpfHx0aGlzLmFkZFRpbGVNYXAodCkpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIG9pP3RoaXMucmVtb3ZlU2NyZWVuRWxlbWVudCh0KToodCBpbnN0YW5jZW9mIGlpJiZ0aGlzLl9yZW1vdmVDaGlsZCh0KSx0IGluc3RhbmNlb2YgYWkmJnRoaXMucmVtb3ZlVGltZXIodCksdCBpbnN0YW5jZW9mIGhpJiZ0aGlzLnJlbW92ZVRpbGVNYXAodCkpfSxlLnByb3RvdHlwZS5hZGRTY3JlZW5FbGVtZW50PWZ1bmN0aW9uKHQpe3RoaXMuc2NyZWVuRWxlbWVudHMucHVzaCh0KSx0LnNjZW5lPXRoaXN9LGUucHJvdG90eXBlLnJlbW92ZVNjcmVlbkVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zY3JlZW5FbGVtZW50cy5pbmRleE9mKHQpO2U+LTEmJnRoaXMuc2NyZWVuRWxlbWVudHMuc3BsaWNlKGUsMSl9LGUucHJvdG90eXBlLl9hZGRDaGlsZD1mdW5jdGlvbih0KXt0aGlzLl9icm9hZHBoYXNlLnRyYWNrKHQuYm9keSksdC5zY2VuZT10aGlzLHQgaW5zdGFuY2VvZiBVaT90aGlzLnRyaWdnZXJzLnB1c2godCk6dGhpcy5hY3RvcnMucHVzaCh0KSx0aGlzLl9zb3J0ZWREcmF3aW5nVHJlZS5hZGQodCl9LGUucHJvdG90eXBlLmFkZFRpbGVNYXA9ZnVuY3Rpb24odCl7dGhpcy50aWxlTWFwcy5wdXNoKHQpfSxlLnByb3RvdHlwZS5yZW1vdmVUaWxlTWFwPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudGlsZU1hcHMuaW5kZXhPZih0KTtlPi0xJiZ0aGlzLnRpbGVNYXBzLnNwbGljZShlLDEpfSxlLnByb3RvdHlwZS5fcmVtb3ZlQ2hpbGQ9ZnVuY3Rpb24odCl7Tyh0aGlzLmFjdG9ycyx0KSYmKHRoaXMuX2Jyb2FkcGhhc2UudW50cmFjayh0LmJvZHkpLHQgaW5zdGFuY2VvZiBVaT90aGlzLl90cmlnZ2VyS2lsbFF1ZXVlLnB1c2godCk6KHQuaXNLaWxsZWQoKXx8dC5raWxsKCksdGhpcy5fa2lsbFF1ZXVlLnB1c2godCkpLHQucGFyZW50PW51bGwpfSxlLnByb3RvdHlwZS5hZGRUaW1lcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdGltZXJzLnB1c2godCksdC5zY2VuZT10aGlzLHR9LGUucHJvdG90eXBlLnJlbW92ZVRpbWVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3RpbWVycy5pbmRleE9mKHQpO3JldHVybi0xIT09ZSYmdGhpcy5fdGltZXJzLnNwbGljZShlLDEpLHR9LGUucHJvdG90eXBlLmNhbmNlbFRpbWVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jYW5jZWxRdWV1ZS5wdXNoKHQpLHR9LGUucHJvdG90eXBlLmlzVGltZXJBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RpbWVycy5pbmRleE9mKHQpPi0xJiYhdC5jb21wbGV0ZX0sZS5wcm90b3R5cGUuY2xlYW51cERyYXdUcmVlPWZ1bmN0aW9uKHQpe3RoaXMuX3NvcnRlZERyYXdpbmdUcmVlLnJlbW92ZUJ5Q29tcGFyYWJsZSh0KX0sZS5wcm90b3R5cGUudXBkYXRlRHJhd1RyZWU9ZnVuY3Rpb24odCl7dGhpcy5fc29ydGVkRHJhd2luZ1RyZWUuYWRkKHQpfSxlLnByb3RvdHlwZS5pc0FjdG9ySW5EcmF3VHJlZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc29ydGVkRHJhd2luZ1RyZWUuZmluZCh0KX0sZS5wcm90b3R5cGUuaXNDdXJyZW50U2NlbmU9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2VuZ2luZSYmdGhpcy5fZW5naW5lLmN1cnJlbnRTY2VuZT09PXRoaXN9LGUucHJvdG90eXBlLl9jb2xsZWN0QWN0b3JTdGF0cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxpPXRoaXMuc2NyZWVuRWxlbWVudHM7ZTxpLmxlbmd0aDtlKyspe2lbZV07dC5zdGF0cy5jdXJyRnJhbWUuYWN0b3JzLnVpKyt9Zm9yKHZhciBuPTAscj10aGlzLmFjdG9ycztuPHIubGVuZ3RoO24rKyl7dmFyIG89cltuXTt0LnN0YXRzLmN1cnJGcmFtZS5hY3RvcnMuYWxpdmUrKztmb3IodmFyIHM9MCxhPW8uY2hpbGRyZW47czxhLmxlbmd0aDtzKyspe05pKGFbc10pP3Quc3RhdHMuY3VyckZyYW1lLmFjdG9ycy51aSsrOnQuc3RhdHMuY3VyckZyYW1lLmFjdG9ycy5hbGl2ZSsrfX19LGV9KFJ0KTshZnVuY3Rpb24odCl7dFt0LlByb3Rhbm9wZT0wXT1cIlByb3Rhbm9wZVwiLHRbdC5EZXV0ZXJhbm9wZT0xXT1cIkRldXRlcmFub3BlXCIsdFt0LlRyaXRhbm9wZT0yXT1cIlRyaXRhbm9wZVwifShxaXx8KHFpPXt9KSk7dmFyIFhpLEtpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSl7dm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PWkmJihpPXFpLlByb3Rhbm9wZSksdGhpcy5lbmdpbmU9dCx0aGlzLnNpbXVsYXRlPWUsdGhpcy5jb2xvck1vZGU9aSx0aGlzLl92ZXJ0ZXhTaGFkZXI9XCJhdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uO2F0dHJpYnV0ZSB2ZWMyIGFfdGV4Q29vcmQ7dW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjt2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDt2b2lkIG1haW4oKSB7dmVjMiB6ZXJvVG9PbmUgPSBhX3Bvc2l0aW9uIC8gdV9yZXNvbHV0aW9uO3ZlYzIgemVyb1RvVHdvID0gemVyb1RvT25lICogMi4wO3ZlYzIgY2xpcFNwYWNlID0gemVyb1RvVHdvIC0gMS4wO2dsX1Bvc2l0aW9uID0gdmVjNChjbGlwU3BhY2UgKiB2ZWMyKDEsIC0xKSwgMCwgMSk7dl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7fVwiLHRoaXMuX2ZyYWdtZW50U2hhZGVyPVwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDt2b2lkIG1haW4oKSB7dmVjNCBvID0gIHRleHR1cmUyRCh1X2ltYWdlLCB2X3RleENvb3JkKTtmbG9hdCBMID0gKDE3Ljg4MjQgKiBvLnIpICsgKDQzLjUxNjEgKiBvLmcpICsgKDQuMTE5MzUgKiBvLmIpO2Zsb2F0IE0gPSAoMy40NTU2NSAqIG8ucikgKyAoMjcuMTU1NCAqIG8uZykgKyAoMy44NjcxNCAqIG8uYik7ZmxvYXQgUyA9ICgwLjAyOTk1NjYgKiBvLnIpICsgKDAuMTg0MzA5ICogby5nKSArICgxLjQ2NzA5ICogby5iKTsvL01PREUgQ09ERS8vdmVjNCBlcnJvcjtlcnJvci5yID0gKDAuMDgwOTQ0NDQ3OSAqIGwpICsgKC0wLjEzMDUwNDQwOSAqIG0pICsgKDAuMTE2NzIxMDY2ICogcyk7ZXJyb3IuZyA9ICgtMC4wMTAyNDg1MzM1ICogbCkgKyAoMC4wNTQwMTkzMjY2ICogbSkgKyAoLTAuMTEzNjE0NzA4ICogcyk7ZXJyb3IuYiA9ICgtMC4wMDAzNjUyOTY5MzggKiBsKSArICgtMC4wMDQxMjE2MTQ2OSAqIG0pICsgKDAuNjkzNTExNDA1ICogcyk7ZXJyb3IuYSA9IDEuMDt2ZWM0IGRpZmYgPSBvIC0gZXJyb3I7dmVjNCBjb3JyZWN0aW9uO2NvcnJlY3Rpb24uciA9IDAuMDtjb3JyZWN0aW9uLmcgPSAgKGRpZmYuciAqIDAuNykgKyAoZGlmZi5nICogMS4wKTtjb3JyZWN0aW9uLmIgPSAgKGRpZmYuciAqIDAuNykgKyAoZGlmZi5iICogMS4wKTtjb3JyZWN0aW9uID0gbyArIGNvcnJlY3Rpb247Y29ycmVjdGlvbi5hID0gby5hOy8vU0lNVUxBVEUvL31cIix0aGlzLl9pbnRlcm5hbENhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuX2ludGVybmFsQ2FudmFzLndpZHRoPXQuZHJhd1dpZHRoLHRoaXMuX2ludGVybmFsQ2FudmFzLmhlaWdodD10LmRyYXdIZWlnaHQsdGhpcy5fZ2w9dGhpcy5faW50ZXJuYWxDYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIse3ByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMH0pLHRoaXMuX3Byb2dyYW09dGhpcy5fZ2wuY3JlYXRlUHJvZ3JhbSgpO3ZhciBuPXRoaXMuX2dldFNoYWRlcihcIkZyYWdtZW50XCIsdGhpcy5fZ2V0RnJhZ21lbnRTaGFkZXJCeU1vZGUoaSkpLHI9dGhpcy5fZ2V0U2hhZGVyKFwiVmVydGV4XCIsdGhpcy5fdmVydGV4U2hhZGVyKTt0aGlzLl9nbC5hdHRhY2hTaGFkZXIodGhpcy5fcHJvZ3JhbSxyKSx0aGlzLl9nbC5hdHRhY2hTaGFkZXIodGhpcy5fcHJvZ3JhbSxuKSx0aGlzLl9nbC5saW5rUHJvZ3JhbSh0aGlzLl9wcm9ncmFtKSx0aGlzLl9nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMuX3Byb2dyYW0sdGhpcy5fZ2wuTElOS19TVEFUVVMpfHxSLmdldEluc3RhbmNlKCkuZXJyb3IoXCJVbmFibGUgdG8gbGluayBzaGFkZXIgcHJvZ3JhbSFcIiksdGhpcy5fZ2wudXNlUHJvZ3JhbSh0aGlzLl9wcm9ncmFtKX1yZXR1cm4gdC5wcm90b3R5cGUuX2dldEZyYWdtZW50U2hhZGVyQnlNb2RlPWZ1bmN0aW9uKHQpe3ZhciBlPVwiXCI7cmV0dXJuIHQ9PT1xaS5Qcm90YW5vcGU/ZT1cImZsb2F0IGwgPSAwLjAgKiBMICsgMi4wMjM0NCAqIE0gKyAtMi41MjU4MSAqIFM7ZmxvYXQgbSA9IDAuMCAqIEwgKyAxLjAgKiBNICsgMC4wICogUztmbG9hdCBzID0gMC4wICogTCArIDAuMCAqIE0gKyAxLjAgKiBTO1wiOnQ9PT1xaS5EZXV0ZXJhbm9wZT9lPVwiZmxvYXQgbCA9IDEuMCAqIEwgKyAwLjAgKiBNICsgMC4wICogUztmbG9hdCBtID0gMC40OTQyMDcgKiBMICsgMC4wICogTSArIDEuMjQ4MjcgKiBTO2Zsb2F0IHMgPSAwLjAgKiBMICsgMC4wICogTSArIDEuMCAqIFM7XCI6dD09PXFpLlRyaXRhbm9wZSYmKGU9XCJmbG9hdCBsID0gMS4wICogTCArIDAuMCAqIE0gKyAwLjAgKiBTO2Zsb2F0IG0gPSAwLjAgKiBMICsgMS4wICogTSArIDAuMCAqIFM7ZmxvYXQgcyA9IC0wLjM5NTkxMyAqIEwgKyAwLjgwMTEwOSAqIE0gKyAwLjAgKiBTO1wiKSx0aGlzLnNpbXVsYXRlP3RoaXMuX2ZyYWdtZW50U2hhZGVyPXRoaXMuX2ZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXCIvL1NJTVVMQVRFLy9cIixcImdsX0ZyYWdDb2xvciA9IGVycm9yLnJnYmE7XCIpOnRoaXMuX2ZyYWdtZW50U2hhZGVyPXRoaXMuX2ZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXCIvL1NJTVVMQVRFLy9cIixcImdsX0ZyYWdDb2xvciA9IGNvcnJlY3Rpb24ucmdiYTtcIiksdGhpcy5fZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcIi8vTU9ERSBDT0RFLy9cIixlKX0sdC5wcm90b3R5cGUuX3NldFJlY3RhbmdsZT1mdW5jdGlvbih0LGUsaSxuKXt2YXIgcj10LG89dCtpLHM9ZSxhPWUrbjt0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KFtyLHMsbyxzLHIsYSxyLGEsbyxzLG8sYV0pLHRoaXMuX2dsLlNUQVRJQ19EUkFXKX0sdC5wcm90b3R5cGUuX2dldFNoYWRlcj1mdW5jdGlvbih0LGUpe3ZhciBpO3JldHVyblwiRnJhZ21lbnRcIj09PXQ/aT10aGlzLl9nbC5jcmVhdGVTaGFkZXIodGhpcy5fZ2wuRlJBR01FTlRfU0hBREVSKTpcIlZlcnRleFwiPT09dD9pPXRoaXMuX2dsLmNyZWF0ZVNoYWRlcih0aGlzLl9nbC5WRVJURVhfU0hBREVSKTpSLmdldEluc3RhbmNlKCkuZXJyb3IoXCJFcnJvciB1bmtub3duIHNoYWRlciB0eXBlXCIsdCksdGhpcy5fZ2wuc2hhZGVyU291cmNlKGksZSksdGhpcy5fZ2wuY29tcGlsZVNoYWRlcihpKSx0aGlzLl9nbC5nZXRTaGFkZXJQYXJhbWV0ZXIoaSx0aGlzLl9nbC5DT01QSUxFX1NUQVRVUyk/aTooUi5nZXRJbnN0YW5jZSgpLmVycm9yKFwiVW5hYmxlIHRvIGNvbXBpbGUgc2hhZGVyIVwiLHRoaXMuX2dsLmdldFNoYWRlckluZm9Mb2coaSkpLG51bGwpfSx0LnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5fcHJvZ3JhbSxcImFfcG9zaXRpb25cIiksbj10aGlzLl9nbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLl9wcm9ncmFtLFwiYV90ZXhDb29yZFwiKSxyPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO3RoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHIpLHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkoWzAsMCwxLDAsMCwxLDAsMSwxLDAsMSwxXSksdGhpcy5fZ2wuU1RBVElDX0RSQVcpLHRoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KG4pLHRoaXMuX2dsLnZlcnRleEF0dHJpYlBvaW50ZXIobiwyLHRoaXMuX2dsLkZMT0FULCExLDAsMCk7dmFyIG89dGhpcy5fZ2wuY3JlYXRlVGV4dHVyZSgpO3RoaXMuX2dsLmJpbmRUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkVfMkQsbyksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dsLkNMQU1QX1RPX0VER0UpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9nbC5DTEFNUF9UT19FREdFKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMuX2dsLk5FQVJFU1QpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5fZ2wuTkVBUkVTVCksdGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwxKSx0aGlzLl9nbC50ZXhJbWFnZTJEKHRoaXMuX2dsLlRFWFRVUkVfMkQsMCx0aGlzLl9nbC5SR0JBLHRoaXMuX2dsLlJHQkEsdGhpcy5fZ2wuVU5TSUdORURfQllURSx0KTt2YXIgcz10aGlzLl9nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5fcHJvZ3JhbSxcInVfcmVzb2x1dGlvblwiKTt0aGlzLl9nbC51bmlmb3JtMmYocyx0aGlzLl9pbnRlcm5hbENhbnZhcy53aWR0aCx0aGlzLl9pbnRlcm5hbENhbnZhcy5oZWlnaHQpO3ZhciBhPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO3RoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLGEpLHRoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpLHRoaXMuX2dsLnZlcnRleEF0dHJpYlBvaW50ZXIoaSwyLHRoaXMuX2dsLkZMT0FULCExLDAsMCksdGhpcy5fc2V0UmVjdGFuZ2xlKDAsMCx0LndpZHRoLHQuaGVpZ2h0KSx0aGlzLl9nbC5kcmF3QXJyYXlzKHRoaXMuX2dsLlRSSUFOR0xFUywwLDYpO3ZhciBjPW5ldyBVaW50OEFycmF5KHQud2lkdGgqdC5oZWlnaHQqNCk7dGhpcy5fZ2wucmVhZFBpeGVscygwLDAsdC53aWR0aCx0LmhlaWdodCx0aGlzLl9nbC5SR0JBLHRoaXMuX2dsLlVOU0lHTkVEX0JZVEUsYyksdC5kYXRhLnNldChjKSxlLnB1dEltYWdlRGF0YSh0LDAsMCl9LHR9KCksWWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX2VuZ2luZT10fXJldHVybiB0LnByb3RvdHlwZS5jb3JyZWN0PWZ1bmN0aW9uKHQpe3RoaXMuX2VuZ2luZS5wb3N0UHJvY2Vzc29ycy5wdXNoKG5ldyBLaSh0aGlzLl9lbmdpbmUsITEsdCkpfSx0LnByb3RvdHlwZS5zaW11bGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9lbmdpbmUucG9zdFByb2Nlc3NvcnMucHVzaChuZXcgS2kodGhpcy5fZW5naW5lLCEwLHQpKX0sdH0oKSxaaT1mdW5jdGlvbih0KXt0aGlzLnN0YXRzPXtjdXJyRnJhbWU6bmV3IFFpLHByZXZGcmFtZTpuZXcgUWl9LHRoaXMuX2VuZ2luZT10LHRoaXMuY29sb3JCbGluZE1vZGU9bmV3IFlpKHRoaXMuX2VuZ2luZSl9LFFpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX2lkPTAsdGhpcy5fZGVsdGE9MCx0aGlzLl9mcHM9MCx0aGlzLl9hY3RvclN0YXRzPXthbGl2ZTowLGtpbGxlZDowLHVpOjAsZ2V0IHJlbWFpbmluZygpe3JldHVybiB0aGlzLmFsaXZlLXRoaXMua2lsbGVkfSxnZXQgdG90YWwoKXtyZXR1cm4gdGhpcy5yZW1haW5pbmcrdGhpcy51aX19LHRoaXMuX2R1cmF0aW9uU3RhdHM9e3VwZGF0ZTowLGRyYXc6MCxnZXQgdG90YWwoKXtyZXR1cm4gdGhpcy51cGRhdGUrdGhpcy5kcmF3fX0sdGhpcy5fcGh5c2ljc1N0YXRzPW5ldyBKaX1yZXR1cm4gdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCl7dD8odGhpcy5pZD10LmlkLHRoaXMuZGVsdGE9dC5kZWx0YSx0aGlzLmZwcz10LmZwcyx0aGlzLmFjdG9ycy5hbGl2ZT10LmFjdG9ycy5hbGl2ZSx0aGlzLmFjdG9ycy5raWxsZWQ9dC5hY3RvcnMua2lsbGVkLHRoaXMuYWN0b3JzLnVpPXQuYWN0b3JzLnVpLHRoaXMuZHVyYXRpb24udXBkYXRlPXQuZHVyYXRpb24udXBkYXRlLHRoaXMuZHVyYXRpb24uZHJhdz10LmR1cmF0aW9uLmRyYXcsdGhpcy5fcGh5c2ljc1N0YXRzLnJlc2V0KHQucGh5c2ljcykpOih0aGlzLmlkPXRoaXMuZGVsdGE9dGhpcy5mcHM9MCx0aGlzLmFjdG9ycy5hbGl2ZT10aGlzLmFjdG9ycy5raWxsZWQ9dGhpcy5hY3RvcnMudWk9MCx0aGlzLmR1cmF0aW9uLnVwZGF0ZT10aGlzLmR1cmF0aW9uLmRyYXc9MCx0aGlzLl9waHlzaWNzU3RhdHMucmVzZXQoKSl9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHQ7cmV0dXJuIGUucmVzZXQodGhpcyksZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faWQ9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkZWx0YVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsdGF9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9kZWx0YT10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImZwc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnBzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZnBzPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYWN0b3JzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RvclN0YXRzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImR1cmF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kdXJhdGlvblN0YXRzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInBoeXNpY3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BoeXNpY3NTdGF0c30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0fSgpLEppPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX3BhaXJzPTAsdGhpcy5fY29sbGlzaW9ucz0wLHRoaXMuX2NvbGxpZGVyc0hhc2g9e30sdGhpcy5fZmFzdEJvZGllcz0wLHRoaXMuX2Zhc3RCb2R5Q29sbGlzaW9ucz0wLHRoaXMuX2Jyb2FkcGhhc2U9MCx0aGlzLl9uYXJyb3dwaGFzZT0wfXJldHVybiB0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0KXt0Pyh0aGlzLnBhaXJzPXQucGFpcnMsdGhpcy5jb2xsaXNpb25zPXQuY29sbGlzaW9ucyx0aGlzLmNvbGxpZGVyc0hhc2g9dC5jb2xsaWRlcnNIYXNoLHRoaXMuZmFzdEJvZGllcz10LmZhc3RCb2RpZXMsdGhpcy5mYXN0Qm9keUNvbGxpc2lvbnM9dC5mYXN0Qm9keUNvbGxpc2lvbnMsdGhpcy5icm9hZHBoYXNlPXQuYnJvYWRwaGFzZSx0aGlzLm5hcnJvd3BoYXNlPXQubmFycm93cGhhc2UpOih0aGlzLnBhaXJzPXRoaXMuY29sbGlzaW9ucz10aGlzLmZhc3RCb2RpZXM9MCx0aGlzLmZhc3RCb2R5Q29sbGlzaW9ucz10aGlzLmJyb2FkcGhhc2U9dGhpcy5uYXJyb3dwaGFzZT0wLHRoaXMuY29sbGlkZXJzSGFzaD17fSl9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHQ7cmV0dXJuIGUucmVzZXQodGhpcyksZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicGFpcnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhaXJzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcGFpcnM9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjb2xsaXNpb25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb2xsaXNpb25zfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY29sbGlzaW9ucz10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNvbGxpZGVyc0hhc2hcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbGxpZGVyc0hhc2h9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9jb2xsaWRlcnNIYXNoPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZmFzdEJvZGllc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmFzdEJvZGllc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Zhc3RCb2RpZXM9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJmYXN0Qm9keUNvbGxpc2lvbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zhc3RCb2R5Q29sbGlzaW9uc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Zhc3RCb2R5Q29sbGlzaW9ucz10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJyb2FkcGhhc2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Jyb2FkcGhhc2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9icm9hZHBoYXNlPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibmFycm93cGhhc2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25hcnJvd3BoYXNlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbmFycm93cGhhc2U9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0fSgpLCRpPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCk7IWZ1bmN0aW9uKHQpe3RbdC5OdW0xPTk3XT1cIk51bTFcIix0W3QuTnVtMj05OF09XCJOdW0yXCIsdFt0Lk51bTM9OTldPVwiTnVtM1wiLHRbdC5OdW00PTEwMF09XCJOdW00XCIsdFt0Lk51bTU9MTAxXT1cIk51bTVcIix0W3QuTnVtNj0xMDJdPVwiTnVtNlwiLHRbdC5OdW03PTEwM109XCJOdW03XCIsdFt0Lk51bTg9MTA0XT1cIk51bThcIix0W3QuTnVtOT0xMDVdPVwiTnVtOVwiLHRbdC5OdW0wPTk2XT1cIk51bTBcIix0W3QuTnVtbG9jaz0xNDRdPVwiTnVtbG9ja1wiLHRbdC5TZW1pY29sb249MTg2XT1cIlNlbWljb2xvblwiLHRbdC5BPTY1XT1cIkFcIix0W3QuQj02Nl09XCJCXCIsdFt0LkM9NjddPVwiQ1wiLHRbdC5EPTY4XT1cIkRcIix0W3QuRT02OV09XCJFXCIsdFt0LkY9NzBdPVwiRlwiLHRbdC5HPTcxXT1cIkdcIix0W3QuSD03Ml09XCJIXCIsdFt0Lkk9NzNdPVwiSVwiLHRbdC5KPTc0XT1cIkpcIix0W3QuSz03NV09XCJLXCIsdFt0Lkw9NzZdPVwiTFwiLHRbdC5NPTc3XT1cIk1cIix0W3QuTj03OF09XCJOXCIsdFt0Lk89NzldPVwiT1wiLHRbdC5QPTgwXT1cIlBcIix0W3QuUT04MV09XCJRXCIsdFt0LlI9ODJdPVwiUlwiLHRbdC5TPTgzXT1cIlNcIix0W3QuVD04NF09XCJUXCIsdFt0LlU9ODVdPVwiVVwiLHRbdC5WPTg2XT1cIlZcIix0W3QuVz04N109XCJXXCIsdFt0Llg9ODhdPVwiWFwiLHRbdC5ZPTg5XT1cIllcIix0W3QuWj05MF09XCJaXCIsdFt0LlNoaWZ0PTE2XT1cIlNoaWZ0XCIsdFt0LkFsdD0xOF09XCJBbHRcIix0W3QuVXA9MzhdPVwiVXBcIix0W3QuRG93bj00MF09XCJEb3duXCIsdFt0LkxlZnQ9MzddPVwiTGVmdFwiLHRbdC5SaWdodD0zOV09XCJSaWdodFwiLHRbdC5TcGFjZT0zMl09XCJTcGFjZVwiLHRbdC5Fc2M9MjddPVwiRXNjXCJ9KFhpfHwoWGk9e30pKTt2YXIgdG4sZW4sbm49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkua2V5PWUsaX1yZXR1cm4gJGkoZSx0KSxlfSh0dCkscm49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gZS5fa2V5cz1bXSxlLl9rZXlzVXA9W10sZS5fa2V5c0Rvd249W10sZX1yZXR1cm4gJGkoZSx0KSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLGkpe3QucHJvdG90eXBlLm9uLmNhbGwodGhpcyxlLGkpfSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXQpdHJ5e3ZhciBpPWZ1bmN0aW9uKCl7fTt3aW5kb3cudG9wLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsaSksd2luZG93LnRvcC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1clwiLGkpLHQ9d2luZG93LnRvcH1jYXRjaChlKXt0PXdpbmRvdyxSLmdldEluc3RhbmNlKCkud2FybihcIkZhaWxlZCB0byBiaW5kIHRvIGtleWJvYXJkIGV2ZW50cyB0byB0b3AgZnJhbWUuIElmIHlvdSBhcmUgdHJ5aW5nIHRvIGVtYmVkIEV4Y2FsaWJ1ciBpbiBhIGNyb3NzLW9yaWdpbiBpZnJhbWUsIGtleWJvYXJkIGV2ZW50cyB3aWxsIG5vdCBmaXJlLlwiKX10LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsKGZ1bmN0aW9uKCl7ZS5fa2V5cy5sZW5ndGg9MH0pKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLChmdW5jdGlvbih0KXt2YXIgaT1lLl9ub3JtYWxpemVLZXlDb2RlKHQua2V5Q29kZSksbj1lLl9rZXlzLmluZGV4T2YoaSk7ZS5fa2V5cy5zcGxpY2UobiwxKSxlLl9rZXlzVXAucHVzaChpKTt2YXIgcj1uZXcgbm4oaSk7ZS5ldmVudERpc3BhdGNoZXIuZW1pdChcInVwXCIsciksZS5ldmVudERpc3BhdGNoZXIuZW1pdChcInJlbGVhc2VcIixyKX0pKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsKGZ1bmN0aW9uKHQpe3ZhciBpPWUuX25vcm1hbGl6ZUtleUNvZGUodC5rZXlDb2RlKTtpZigtMT09PWUuX2tleXMuaW5kZXhPZihpKSl7ZS5fa2V5cy5wdXNoKGkpLGUuX2tleXNEb3duLnB1c2goaSk7dmFyIG49bmV3IG5uKGkpO2UuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJkb3duXCIsbiksZS5ldmVudERpc3BhdGNoZXIuZW1pdChcInByZXNzXCIsbil9fSkpfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLl9rZXlzRG93bi5sZW5ndGg9MCx0aGlzLl9rZXlzVXAubGVuZ3RoPTA7Zm9yKHZhciB0PTA7dDx0aGlzLl9rZXlzLmxlbmd0aDt0KyspdGhpcy5ldmVudERpc3BhdGNoZXIuZW1pdChcImhvbGRcIixuZXcgbm4odGhpcy5fa2V5c1t0XSkpfSxlLnByb3RvdHlwZS5nZXRLZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleXN9LGUucHJvdG90eXBlLndhc1ByZXNzZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2tleXNEb3duLmluZGV4T2YodCk+LTF9LGUucHJvdG90eXBlLmlzSGVsZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fa2V5cy5pbmRleE9mKHQpPi0xfSxlLnByb3RvdHlwZS53YXNSZWxlYXNlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fa2V5c1VwLmluZGV4T2YodCk+LTF9LGUucHJvdG90eXBlLl9ub3JtYWxpemVLZXlDb2RlPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIDU5OnJldHVybiBYaS5TZW1pY29sb247ZGVmYXVsdDpyZXR1cm4gdH19LGV9KFJ0KSxvbj1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLHNuPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wLGk9YXJndW1lbnRzLmxlbmd0aDtlPGk7ZSsrKXQrPWFyZ3VtZW50c1tlXS5sZW5ndGg7dmFyIG49QXJyYXkodCkscj0wO2ZvcihlPTA7ZTxpO2UrKylmb3IodmFyIG89YXJndW1lbnRzW2VdLHM9MCxhPW8ubGVuZ3RoO3M8YTtzKysscisrKW5bcl09b1tzXTtyZXR1cm4gbn07IWZ1bmN0aW9uKHQpe3QuVG91Y2g9XCJUb3VjaFwiLHQuTW91c2U9XCJNb3VzZVwiLHQuUGVuPVwiUGVuXCIsdC5Vbmtub3duPVwiVW5rbm93blwifSh0bnx8KHRuPXt9KSksZnVuY3Rpb24odCl7dC5DYW52YXM9XCJDYW52YXNcIix0LkRvY3VtZW50PVwiRG9jdW1lbnRcIn0oZW58fChlbj17fSkpO3ZhciBhbixjbixobix1bj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLmlkPWUuX01BWF9JRCsrLGkuX2lzRG93bj0hMSxpLl93YXNEb3duPSExLGkuX2FjdG9yc1VuZGVyUG9pbnRlcj17bGVuZ3RoOjB9LGkuX2FjdG9ycz1bXSxpLl9hY3RvcnNMYXN0RnJhbWU9W10saS5fYWN0b3JzTm9Mb25nZXJVbmRlclBvaW50ZXI9W10saS5sYXN0UGFnZVBvcz1udWxsLGkubGFzdFNjcmVlblBvcz1udWxsLGkubGFzdFdvcmxkUG9zPW51bGwsaS5kcmFnVGFyZ2V0PW51bGwsaS5vbihcIm1vdmVcIixpLl9vblBvaW50ZXJNb3ZlKSxpLm9uKFwiZG93blwiLGkuX29uUG9pbnRlckRvd24pLGkub24oXCJ1cFwiLGkuX29uUG9pbnRlclVwKSxpfXJldHVybiBvbihlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzRHJhZ2dpbmdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRG93bn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0RyYWdTdGFydFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fd2FzRG93biYmdGhpcy5faXNEb3dufSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzRHJhZ0VuZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2FzRG93biYmIXRoaXMuX2lzRG93bn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJoYXNBY3RvcnNVbmRlclBvaW50ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9hY3RvcnNVbmRlclBvaW50ZXIubGVuZ3RofSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsaSl7dC5wcm90b3R5cGUub24uY2FsbCh0aGlzLGUsaSl9LGUucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSxpKXt0LnByb3RvdHlwZS5vbmNlLmNhbGwodGhpcyxlLGkpfSxlLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSxpKXt0LnByb3RvdHlwZS5vZmYuY2FsbCh0aGlzLGUsaSl9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX3dhc0Rvd24mJiF0aGlzLl9pc0Rvd24/dGhpcy5fd2FzRG93bj0hMTohdGhpcy5fd2FzRG93biYmdGhpcy5faXNEb3duJiYodGhpcy5fd2FzRG93bj0hMCksdGhpcy5fYWN0b3JzTGFzdEZyYW1lPXNuKHRoaXMuX2FjdG9ycyksdGhpcy5fYWN0b3JzTm9Mb25nZXJVbmRlclBvaW50ZXI9W119LGUucHJvdG90eXBlLmFkZEFjdG9yVW5kZXJQb2ludGVyPWZ1bmN0aW9uKHQpe3RoaXMuaXNBY3RvclVuZGVyUG9pbnRlcih0KXx8KHRoaXMuX2FjdG9yc1VuZGVyUG9pbnRlclt0LmlkXT10LHRoaXMuX2FjdG9yc1VuZGVyUG9pbnRlci5sZW5ndGgrPTEsdGhpcy5fYWN0b3JzLnB1c2godCkpLHRoaXMuX2FjdG9ycy5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0Lno9PT1lLno/dC5pZC1lLmlkOnQuei1lLnp9KSl9LGUucHJvdG90eXBlLnJlbW92ZUFjdG9yVW5kZXJQb2ludGVyPWZ1bmN0aW9uKHQpe3RoaXMuaXNBY3RvclVuZGVyUG9pbnRlcih0KSYmKGRlbGV0ZSB0aGlzLl9hY3RvcnNVbmRlclBvaW50ZXJbdC5pZF0sdGhpcy5fYWN0b3JzVW5kZXJQb2ludGVyLmxlbmd0aC09MSxDKHQsdGhpcy5fYWN0b3JzKSx0aGlzLl9hY3RvcnNOb0xvbmdlclVuZGVyUG9pbnRlci5wdXNoKHQpKX0sZS5wcm90b3R5cGUuZ2V0QWN0b3JzVW5kZXJQb2ludGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdG9yc30sZS5wcm90b3R5cGUuZ2V0QWN0b3JzVW5kZXJQb2ludGVyTGFzdEZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdG9yc0xhc3RGcmFtZX0sZS5wcm90b3R5cGUuZ2V0QWN0b3JzRm9yRXZlbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdG9ycy5jb25jYXQodGhpcy5fYWN0b3JzTGFzdEZyYW1lKS5maWx0ZXIoKGZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaS5pbmRleE9mKHQpPT09ZX0pKX0sZS5wcm90b3R5cGUuY2hlY2tBY3RvclVuZGVyUG9pbnRlcj1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMubGFzdFdvcmxkUG9zJiZ0LmNvbnRhaW5zKHRoaXMubGFzdFdvcmxkUG9zLngsdGhpcy5sYXN0V29ybGRQb3MueSwhTmkodCkpfSxlLnByb3RvdHlwZS53YXNBY3RvclVuZGVyUG9pbnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWN0b3JzTGFzdEZyYW1lLmluZGV4T2YodCk+LTF9LGUucHJvdG90eXBlLmlzQWN0b3JVbmRlclBvaW50ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FjdG9yc1VuZGVyUG9pbnRlci5oYXNPd25Qcm9wZXJ0eSh0LmlkLnRvU3RyaW5nKCkpfSxlLnByb3RvdHlwZS5fb25Qb2ludGVyTW92ZT1mdW5jdGlvbih0KXt0aGlzLmxhc3RQYWdlUG9zPW5ldyBWKHQucGFnZVBvcy54LHQucGFnZVBvcy55KSx0aGlzLmxhc3RTY3JlZW5Qb3M9bmV3IFYodC5zY3JlZW5Qb3MueCx0LnNjcmVlblBvcy55KSx0aGlzLmxhc3RXb3JsZFBvcz1uZXcgVih0LndvcmxkUG9zLngsdC53b3JsZFBvcy55KX0sZS5wcm90b3R5cGUuX29uUG9pbnRlckRvd249ZnVuY3Rpb24odCl7dGhpcy5sYXN0UGFnZVBvcz1uZXcgVih0LnBhZ2VQb3MueCx0LnBhZ2VQb3MueSksdGhpcy5sYXN0U2NyZWVuUG9zPW5ldyBWKHQuc2NyZWVuUG9zLngsdC5zY3JlZW5Qb3MueSksdGhpcy5sYXN0V29ybGRQb3M9bmV3IFYodC53b3JsZFBvcy54LHQud29ybGRQb3MueSksdGhpcy5faXNEb3duPSEwfSxlLnByb3RvdHlwZS5fb25Qb2ludGVyVXA9ZnVuY3Rpb24odCl7dGhpcy5faXNEb3duPSExLHRoaXMuZHJhZ1RhcmdldD1udWxsfSxlLl9NQVhfSUQ9MCxlfShSdCksbG49ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGkpe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSkoZSxpKX07cmV0dXJuIGZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsaSksZS5wcm90b3R5cGU9bnVsbD09PWk/T2JqZWN0LmNyZWF0ZShpKToobi5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IG4pfX0oKTshZnVuY3Rpb24odCl7dFt0Lk5vQnV0dG9uPS0xXT1cIk5vQnV0dG9uXCIsdFt0LkxlZnQ9MF09XCJMZWZ0XCIsdFt0Lk1pZGRsZT0xXT1cIk1pZGRsZVwiLHRbdC5SaWdodD0yXT1cIlJpZ2h0XCIsdFt0LlVua25vd249M109XCJVbmtub3duXCJ9KGFufHwoYW49e30pKSxmdW5jdGlvbih0KXt0LkxlZnQ9XCJMZWZ0XCIsdC5NaWRkbGU9XCJNaWRkbGVcIix0LlJpZ2h0PVwiUmlnaHRcIix0LlVua25vd249XCJVbmtub3duXCIsdC5Ob0J1dHRvbj1cIk5vQnV0dG9uXCJ9KGNufHwoY249e30pKSxmdW5jdGlvbih0KXt0LlBpeGVsPVwiUGl4ZWxcIix0LkxpbmU9XCJMaW5lXCIsdC5QYWdlPVwiUGFnZVwifShobnx8KGhuPXt9KSk7dmFyIHBuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4scixvLHMpe3ZhciBhPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gYS5jb29yZGluYXRlcz1lLGEucG9pbnRlcj1pLGEuaW5kZXg9bixhLnBvaW50ZXJUeXBlPXIsYS5idXR0b249byxhLmV2PXMsYX1yZXR1cm4gbG4oZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJuYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uYW1lfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIndvcmxkUG9zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVzLndvcmxkUG9zLmNsb25lKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicGFnZVBvc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlcy5wYWdlUG9zLmNsb25lKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic2NyZWVuUG9zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVzLnNjcmVlblBvcy5jbG9uZSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInBvc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlcy53b3JsZFBvcy5jbG9uZSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnByb3BhZ2F0ZT1mdW5jdGlvbih0KXt0aGlzLmRvQWN0aW9uKHQpLHRoaXMuYnViYmxlcyYmdC5wYXJlbnQmJnRoaXMucHJvcGFnYXRlKHQucGFyZW50KX0sZS5wcm90b3R5cGUuZG9BY3Rpb249ZnVuY3Rpb24odCl7dCYmKHRoaXMuX29uQWN0aW9uU3RhcnQodCksdC5lbWl0KHRoaXMuX25hbWUsdGhpcyksdGhpcy5fb25BY3Rpb25FbmQodCkpfSxlLnByb3RvdHlwZS5fb25BY3Rpb25TdGFydD1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLl9vbkFjdGlvbkVuZD1mdW5jdGlvbih0KXt9LGV9KHR0KSxkbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcG9pbnRlckV2ZW50VHlwZT10fXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCxlLGksbixyLG8pe3JldHVybiBuZXcgdGhpcy5fcG9pbnRlckV2ZW50VHlwZSh0LGUsaSxuLHIsbyl9LHR9KCksZm49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGxuKGUsdCksZX0ocG4pLGduPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuX25hbWU9XCJwb2ludGVydXBcIixlfXJldHVybiBsbihlLHQpLGUucHJvdG90eXBlLl9vbkFjdGlvbkVuZD1mdW5jdGlvbih0KXt0aGlzLnBvaW50ZXIuaXNEcmFnRW5kJiZ0LmNhcHR1cmVQb2ludGVyLmNhcHR1cmVEcmFnRXZlbnRzJiZ0LmV2ZW50RGlzcGF0Y2hlci5lbWl0KFwicG9pbnRlcmRyYWdlbmRcIix0aGlzKX0sZX0ocG4pLHluPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuX25hbWU9XCJwb2ludGVyZG93blwiLGV9cmV0dXJuIGxuKGUsdCksZS5wcm90b3R5cGUuX29uQWN0aW9uRW5kPWZ1bmN0aW9uKHQpe3RoaXMucG9pbnRlci5pc0RyYWdTdGFydCYmdC5jYXB0dXJlUG9pbnRlci5jYXB0dXJlRHJhZ0V2ZW50cyYmdC5ldmVudERpc3BhdGNoZXIuZW1pdChcInBvaW50ZXJkcmFnc3RhcnRcIix0aGlzKX0sZX0ocG4pLF9uPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuX25hbWU9XCJwb2ludGVybW92ZVwiLGV9cmV0dXJuIGxuKGUsdCksZS5wcm90b3R5cGUucHJvcGFnYXRlPWZ1bmN0aW9uKHQpe3RoaXMucG9pbnRlci5pc0FjdG9yVW5kZXJQb2ludGVyKHQpJiYodGhpcy5kb0FjdGlvbih0KSx0aGlzLmJ1YmJsZXMmJnQucGFyZW50JiZ0aGlzLnByb3BhZ2F0ZSh0LnBhcmVudCkpfSxlLnByb3RvdHlwZS5fb25BY3Rpb25TdGFydD1mdW5jdGlvbih0KXt0LmNhcHR1cmVQb2ludGVyLmNhcHR1cmVNb3ZlRXZlbnRzJiZ0aGlzLnBvaW50ZXIuaXNEcmFnZ2luZyYmdC5jYXB0dXJlUG9pbnRlci5jYXB0dXJlRHJhZ0V2ZW50cyYmdC5ldmVudERpc3BhdGNoZXIuZW1pdChcInBvaW50ZXJkcmFnbW92ZVwiLHRoaXMpfSxlfShwbiksdm49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5fbmFtZT1cInBvaW50ZXJlbnRlclwiLGV9cmV0dXJuIGxuKGUsdCksZS5wcm90b3R5cGUuX29uQWN0aW9uU3RhcnQ9ZnVuY3Rpb24odCl7dC5jYXB0dXJlUG9pbnRlci5jYXB0dXJlTW92ZUV2ZW50c30sZS5wcm90b3R5cGUuX29uQWN0aW9uRW5kPWZ1bmN0aW9uKHQpe3RoaXMucG9pbnRlci5pc0RyYWdnaW5nJiZ0LmNhcHR1cmVQb2ludGVyLmNhcHR1cmVEcmFnRXZlbnRzJiZ0LmV2ZW50RGlzcGF0Y2hlci5lbWl0KFwicG9pbnRlcmRyYWdlbnRlclwiLHRoaXMpfSxlfShwbiksbW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5fbmFtZT1cInBvaW50ZXJsZWF2ZVwiLGV9cmV0dXJuIGxuKGUsdCksZS5wcm90b3R5cGUuX29uQWN0aW9uU3RhcnQ9ZnVuY3Rpb24odCl7dC5jYXB0dXJlUG9pbnRlci5jYXB0dXJlTW92ZUV2ZW50c30sZS5wcm90b3R5cGUuX29uQWN0aW9uRW5kPWZ1bmN0aW9uKHQpe3RoaXMucG9pbnRlci5pc0RyYWdnaW5nJiZ0LmNhcHR1cmVQb2ludGVyLmNhcHR1cmVEcmFnRXZlbnRzJiZ0LmV2ZW50RGlzcGF0Y2hlci5lbWl0KFwicG9pbnRlcmRyYWdsZWF2ZVwiLHRoaXMpfSxlfShwbiksYm49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5fbmFtZT1cInBvaW50ZXJjYW5jZWxcIixlfXJldHVybiBsbihlLHQpLGV9KHBuKSx3bj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuLHIsbyxzLGEsYyxoLHUsbCxwKXt2YXIgZD10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGQueD1lLGQueT1pLGQucGFnZVg9bixkLnBhZ2VZPXIsZC5zY3JlZW5YPW8sZC5zY3JlZW5ZPXMsZC5pbmRleD1hLGQuZGVsdGFYPWMsZC5kZWx0YVk9aCxkLmRlbHRhWj11LGQuZGVsdGFNb2RlPWwsZC5ldj1wLGR9cmV0dXJuIGxuKGUsdCksZX0odHQpO2Z1bmN0aW9uIHhuKHQsZSxpLG4scixvLHMpe3ZhciBhO3N3aXRjaCh0KXtjYXNlXCJ1cFwiOmE9bmV3IGRuKGduKTticmVhaztjYXNlXCJkb3duXCI6YT1uZXcgZG4oeW4pO2JyZWFrO2Nhc2VcIm1vdmVcIjphPW5ldyBkbihfbik7YnJlYWs7Y2FzZVwiY2FuY2VsXCI6YT1uZXcgZG4oYm4pO2JyZWFrO2Nhc2VcImVudGVyXCI6YT1uZXcgZG4odm4pO2JyZWFrO2Nhc2VcImxlYXZlXCI6YT1uZXcgZG4obW4pfXJldHVybiBhLmNyZWF0ZShlLGksbixyLG8scyl9dmFyIFBuLFNuLEVuPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCksQW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkuX3BvaW50ZXJEb3duPVtdLGkuX3BvaW50ZXJVcD1bXSxpLl9wb2ludGVyTW92ZT1bXSxpLl9wb2ludGVyQ2FuY2VsPVtdLGkuX3doZWVsPVtdLGkuX3BvaW50ZXJzPVtdLGkuX2FjdGl2ZVBvaW50ZXJzPVtdLGkuX2VuZ2luZT1lLGkuX3BvaW50ZXJzLnB1c2gobmV3IHVuKSxpLl9hY3RpdmVQb2ludGVycz1bLTFdLGkucHJpbWFyeT1pLl9wb2ludGVyc1swXSxpfXJldHVybiBFbihlLHQpLGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsaSl7dC5wcm90b3R5cGUub24uY2FsbCh0aGlzLGUsaSl9LGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCl7KHQ9dHx8dGhpcy5fZW5naW5lLmNhbnZhcykuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLl9oYW5kbGVUb3VjaEV2ZW50KFwiZG93blwiLHRoaXMuX3BvaW50ZXJEb3duKSksdC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLl9oYW5kbGVUb3VjaEV2ZW50KFwidXBcIix0aGlzLl9wb2ludGVyVXApKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLl9oYW5kbGVUb3VjaEV2ZW50KFwibW92ZVwiLHRoaXMuX3BvaW50ZXJNb3ZlKSksdC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIix0aGlzLl9oYW5kbGVUb3VjaEV2ZW50KFwiY2FuY2VsXCIsdGhpcy5fcG9pbnRlckNhbmNlbCkpLHdpbmRvdy5Qb2ludGVyRXZlbnQ/KHRoaXMuX2VuZ2luZS5jYW52YXMuc3R5bGUudG91Y2hBY3Rpb249XCJub25lXCIsdC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIix0aGlzLl9oYW5kbGVQb2ludGVyRXZlbnQoXCJkb3duXCIsdGhpcy5fcG9pbnRlckRvd24pKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIix0aGlzLl9oYW5kbGVQb2ludGVyRXZlbnQoXCJ1cFwiLHRoaXMuX3BvaW50ZXJVcCkpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsdGhpcy5faGFuZGxlUG9pbnRlckV2ZW50KFwibW92ZVwiLHRoaXMuX3BvaW50ZXJNb3ZlKSksdC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmNhbmNlbFwiLHRoaXMuX2hhbmRsZVBvaW50ZXJFdmVudChcImNhbmNlbFwiLHRoaXMuX3BvaW50ZXJDYW5jZWwpKSk6d2luZG93Lk1TUG9pbnRlckV2ZW50Pyh0aGlzLl9lbmdpbmUuY2FudmFzLnN0eWxlLm1zVG91Y2hBY3Rpb249XCJub25lXCIsdC5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyRG93blwiLHRoaXMuX2hhbmRsZVBvaW50ZXJFdmVudChcImRvd25cIix0aGlzLl9wb2ludGVyRG93bikpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIk1TUG9pbnRlclVwXCIsdGhpcy5faGFuZGxlUG9pbnRlckV2ZW50KFwidXBcIix0aGlzLl9wb2ludGVyVXApKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJNb3ZlXCIsdGhpcy5faGFuZGxlUG9pbnRlckV2ZW50KFwibW92ZVwiLHRoaXMuX3BvaW50ZXJNb3ZlKSksdC5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyQ2FuY2VsXCIsdGhpcy5faGFuZGxlUG9pbnRlckV2ZW50KFwiY2FuY2VsXCIsdGhpcy5fcG9pbnRlckNhbmNlbCkpKToodC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5faGFuZGxlTW91c2VFdmVudChcImRvd25cIix0aGlzLl9wb2ludGVyRG93bikpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLl9oYW5kbGVNb3VzZUV2ZW50KFwidXBcIix0aGlzLl9wb2ludGVyVXApKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9oYW5kbGVNb3VzZUV2ZW50KFwibW92ZVwiLHRoaXMuX3BvaW50ZXJNb3ZlKSkpO3ZhciBlPXtwYXNzaXZlOiEodGhpcy5fZW5naW5lLnBhZ2VTY3JvbGxQcmV2ZW50aW9uTW9kZT09PURuLkFsbHx8dGhpcy5fZW5naW5lLnBhZ2VTY3JvbGxQcmV2ZW50aW9uTW9kZT09PURuLkNhbnZhcyl9O1wib253aGVlbFwiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKT90LmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLHRoaXMuX2hhbmRsZVdoZWVsRXZlbnQoXCJ3aGVlbFwiLHRoaXMuX3doZWVsKSxlKTp2b2lkIDAhPT1kb2N1bWVudC5vbm1vdXNld2hlZWw/dC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLHRoaXMuX2hhbmRsZVdoZWVsRXZlbnQoXCJ3aGVlbFwiLHRoaXMuX3doZWVsKSxlKTp0LmFkZEV2ZW50TGlzdGVuZXIoXCJNb3pNb3VzZVBpeGVsU2Nyb2xsXCIsdGhpcy5faGFuZGxlV2hlZWxFdmVudChcIndoZWVsXCIsdGhpcy5fd2hlZWwpLGUpfSxlLnByb3RvdHlwZS50cmlnZ2VyRXZlbnQ9ZnVuY3Rpb24odCxlLGksbixyKXt2b2lkIDA9PT1pJiYoaT1hbi5MZWZ0KSx2b2lkIDA9PT1uJiYobj1cIm1vdXNlXCIpLHZvaWQgMD09PXImJihyPTApO3ZhciBvLHM9MCxhPTA7ZSBpbnN0YW5jZW9mIFk/KHM9ZS5wYWdlUG9zLngsYT1lLnBhZ2VQb3MueSxvPWUpOihzPWUueCxhPWUueSxvPW5ldyBZKGUuY2xvbmUoKSxlLmNsb25lKCksZS5jbG9uZSgpKSk7dmFyIGM9e3BhZ2VYOnMscGFnZVk6YSxwb2ludGVySWQ6cixwb2ludGVyVHlwZTpuLGJ1dHRvbjppLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7fX07c3dpdGNoKHQpe2Nhc2VcIm1vdmVcIjp0aGlzLl9oYW5kbGVQb2ludGVyRXZlbnQodCx0aGlzLl9wb2ludGVyTW92ZSxvKShjKTticmVhaztjYXNlXCJkb3duXCI6dGhpcy5faGFuZGxlUG9pbnRlckV2ZW50KHQsdGhpcy5fcG9pbnRlckRvd24sbykoYyk7YnJlYWs7Y2FzZVwidXBcIjp0aGlzLl9oYW5kbGVQb2ludGVyRXZlbnQodCx0aGlzLl9wb2ludGVyVXAsbykoYyk7YnJlYWs7Y2FzZVwiY2FuY2VsXCI6dGhpcy5faGFuZGxlUG9pbnRlckV2ZW50KHQsdGhpcy5fcG9pbnRlckNhbmNlbCxvKShjKX1mb3IodmFyIGg9MCx1PXRoaXMuX2VuZ2luZS5jdXJyZW50U2NlbmUuYWN0b3JzO2g8dS5sZW5ndGg7aCsrKXt2YXIgbD11W2hdLHA9bC50cmFpdHMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE5lfSkpWzBdO3AmJnAudXBkYXRlKGwsdGhpcy5fZW5naW5lLDEpfXRoaXMuZGlzcGF0Y2hQb2ludGVyRXZlbnRzKCksdGhpcy51cGRhdGUoKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5fcG9pbnRlclVwLmxlbmd0aD0wLHRoaXMuX3BvaW50ZXJEb3duLmxlbmd0aD0wLHRoaXMuX3BvaW50ZXJNb3ZlLmxlbmd0aD0wLHRoaXMuX3BvaW50ZXJDYW5jZWwubGVuZ3RoPTAsdGhpcy5fd2hlZWwubGVuZ3RoPTA7Zm9yKHZhciB0PTA7dDx0aGlzLl9wb2ludGVycy5sZW5ndGg7dCsrKXRoaXMuX3BvaW50ZXJzW3RdLnVwZGF0ZSgpfSxlLnByb3RvdHlwZS5hdD1mdW5jdGlvbih0KXtpZih0Pj10aGlzLl9wb2ludGVycy5sZW5ndGgpZm9yKHZhciBlPXRoaXMuX3BvaW50ZXJzLmxlbmd0aC0xLGk9dDtlPGk7ZSsrKXRoaXMuX3BvaW50ZXJzLnB1c2gobmV3IHVuKSx0aGlzLl9hY3RpdmVQb2ludGVycy5wdXNoKC0xKTtyZXR1cm4gdGhpcy5fcG9pbnRlcnNbdF19LGUucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJzLmxlbmd0aH0sZS5wcm90b3R5cGUuY2hlY2tBbmRVcGRhdGVBY3RvclVuZGVyUG9pbnRlcj1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxpPXRoaXMuX3BvaW50ZXJzO2U8aS5sZW5ndGg7ZSsrKXt2YXIgbj1pW2VdO24uY2hlY2tBY3RvclVuZGVyUG9pbnRlcih0KT9uLmFkZEFjdG9yVW5kZXJQb2ludGVyKHQpOm4ucmVtb3ZlQWN0b3JVbmRlclBvaW50ZXIodCl9fSxlLnByb3RvdHlwZS5fZGlzcGF0Y2hXaXRoQnViYmxlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9dDtlPGkubGVuZ3RoO2UrKylmb3IodmFyIG49aVtlXSxyPTAsbz1uLnBvaW50ZXIuZ2V0QWN0b3JzRm9yRXZlbnRzKCk7cjxvLmxlbmd0aDtyKyspe3ZhciBzPW9bcl07aWYobi5wcm9wYWdhdGUocyksIW4uYnViYmxlcylicmVha319LGUucHJvdG90eXBlLl9kaXNwYXRjaFBvaW50ZXJMZWF2ZUV2ZW50cz1mdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPVtdLGk9MCxuPXRoaXMuX3BvaW50ZXJNb3ZlO2k8bi5sZW5ndGg7aSsrKWZvcih2YXIgcj1uW2ldLG89MCxzPXIucG9pbnRlci5nZXRBY3RvcnNGb3JFdmVudHMoKTtvPHMubGVuZ3RoO28rKyl7dmFyIGE9c1tvXTtpZighdFtyLnBvaW50ZXIuaWQrXCIrXCIrYS5pZF0mJnIucG9pbnRlci53YXNBY3RvclVuZGVyUG9pbnRlcihhKSYmIXIucG9pbnRlci5pc0FjdG9yVW5kZXJQb2ludGVyKGEpKXt0W3IucG9pbnRlci5pZCtcIitcIithLmlkXT1yO3ZhciBjPXhuKFwibGVhdmVcIixuZXcgWShyLndvcmxkUG9zLHIucGFnZVBvcyxyLnNjcmVlblBvcyksci5wb2ludGVyLHIuaW5kZXgsci5wb2ludGVyVHlwZSxyLmJ1dHRvbixyLmV2KTtjLnByb3BhZ2F0ZShhKSxlLnB1c2goYyl9fXJldHVybiBlfSxlLnByb3RvdHlwZS5fZGlzcGF0Y2hQb2ludGVyRW50ZXJFdmVudHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9e30sZT1bXSxpPTAsbj10aGlzLl9wb2ludGVyTW92ZTtpPG4ubGVuZ3RoO2krKylmb3IodmFyIHI9bltpXSxvPTAscz1yLnBvaW50ZXIuZ2V0QWN0b3JzRm9yRXZlbnRzKCk7bzxzLmxlbmd0aDtvKyspe3ZhciBhPXNbb107aWYoIXRbci5wb2ludGVyLmlkXSYmIXIucG9pbnRlci53YXNBY3RvclVuZGVyUG9pbnRlcihhKSYmci5wb2ludGVyLmlzQWN0b3JVbmRlclBvaW50ZXIoYSkpe3Rbci5wb2ludGVyLmlkXT1yO3ZhciBjPXhuKFwiZW50ZXJcIixuZXcgWShyLndvcmxkUG9zLHIucGFnZVBvcyxyLnNjcmVlblBvcyksci5wb2ludGVyLHIuaW5kZXgsci5wb2ludGVyVHlwZSxyLmJ1dHRvbixyLmV2KTtjLnByb3BhZ2F0ZShhKSxlLnB1c2goYyksci5wb2ludGVyLmlzRHJhZ2dpbmcmJihyLnBvaW50ZXIuZHJhZ1RhcmdldD1hKX19cmV0dXJuIGV9LGUucHJvdG90eXBlLmRpc3BhdGNoUG9pbnRlckV2ZW50cz1mdW5jdGlvbigpe3RoaXMuX2Rpc3BhdGNoV2l0aEJ1YmJsZSh0aGlzLl9wb2ludGVyRG93biksdGhpcy5fZGlzcGF0Y2hXaXRoQnViYmxlKHRoaXMuX3BvaW50ZXJVcCksdGhpcy5fZGlzcGF0Y2hXaXRoQnViYmxlKHRoaXMuX3BvaW50ZXJNb3ZlKSx0aGlzLl9kaXNwYXRjaFBvaW50ZXJMZWF2ZUV2ZW50cygpLHRoaXMuX2Rpc3BhdGNoUG9pbnRlckVudGVyRXZlbnRzKCksdGhpcy5fZGlzcGF0Y2hXaXRoQnViYmxlKHRoaXMuX3BvaW50ZXJDYW5jZWwpO2Zvcih2YXIgdD0wLGU9dGhpcy5fd2hlZWw7dDxlLmxlbmd0aDt0KyspZm9yKHZhciBpPWVbdF0sbj0wLHI9dGhpcy5fcG9pbnRlcnNbaS5pbmRleF0uZ2V0QWN0b3JzVW5kZXJQb2ludGVyKCk7bjxyLmxlbmd0aDtuKyspe3ZhciBvPXJbbl07aWYodGhpcy5fcHJvcGFnYXRlV2hlZWxQb2ludGVyRXZlbnQobyxpKSwhaS5idWJibGVzKWJyZWFrfX0sZS5wcm90b3R5cGUuX3Byb3BhZ2F0ZVdoZWVsUG9pbnRlckV2ZW50PWZ1bmN0aW9uKHQsZSl7dC5lbWl0KFwicG9pbnRlcndoZWVsXCIsZSksZS5idWJibGVzJiZ0LnBhcmVudCYmdGhpcy5fcHJvcGFnYXRlV2hlZWxQb2ludGVyRXZlbnQodC5wYXJlbnQsZSl9LGUucHJvdG90eXBlLl9oYW5kbGVNb3VzZUV2ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpO3ZhciByPWkuYXQoMCksbz1ZLmZyb21QYWdlUG9zaXRpb24obi5wYWdlWCxuLnBhZ2VZLGkuX2VuZ2luZSkscz14bih0LG8sciwwLHRuLk1vdXNlLGkuX25hdGl2ZUJ1dHRvblRvUG9pbnRlckJ1dHRvbihuLmJ1dHRvbiksbik7ZS5wdXNoKHMpLHIuZXZlbnREaXNwYXRjaGVyLmVtaXQodCxzKX19LGUucHJvdG90eXBlLl9oYW5kbGVUb3VjaEV2ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpO2Zvcih2YXIgcj0wLG89bi5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7cjxvO3IrKyl7dmFyIHM9aS5fcG9pbnRlcnMubGVuZ3RoPjE/aS5fZ2V0UG9pbnRlckluZGV4KG4uY2hhbmdlZFRvdWNoZXNbcl0uaWRlbnRpZmllcik6MDtpZigtMSE9PXMpe3ZhciBhPWkuYXQocyksYz1ZLmZyb21QYWdlUG9zaXRpb24obi5jaGFuZ2VkVG91Y2hlc1tyXS5wYWdlWCxuLmNoYW5nZWRUb3VjaGVzW3JdLnBhZ2VZLGkuX2VuZ2luZSksaD14bih0LGMsYSxzLHRuLlRvdWNoLGNuLlVua25vd24sbik7ZS5wdXNoKGgpLGEuZXZlbnREaXNwYXRjaGVyLmVtaXQodCxoKSxpLl9wb2ludGVycy5sZW5ndGg+MSYmKFwidXBcIj09PXQ/aS5fYWN0aXZlUG9pbnRlcnNbc109LTE6XCJkb3duXCI9PT10JiYoaS5fYWN0aXZlUG9pbnRlcnNbc109bi5jaGFuZ2VkVG91Y2hlc1tyXS5pZGVudGlmaWVyKSl9fX19LGUucHJvdG90eXBlLl9oYW5kbGVQb2ludGVyRXZlbnQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3IucHJldmVudERlZmF1bHQoKTt2YXIgbz1uLl9wb2ludGVycy5sZW5ndGg+MT9uLl9nZXRQb2ludGVySW5kZXgoci5wb2ludGVySWQpOjA7aWYoLTEhPT1vKXt2YXIgcz1uLmF0KG8pLGE9aXx8WS5mcm9tUGFnZVBvc2l0aW9uKHIucGFnZVgsci5wYWdlWSxuLl9lbmdpbmUpLGM9eG4odCxhLHMsbyxuLl9zdHJpbmdUb1BvaW50ZXJUeXBlKHIucG9pbnRlclR5cGUpLG4uX25hdGl2ZUJ1dHRvblRvUG9pbnRlckJ1dHRvbihyLmJ1dHRvbikscik7ZS5wdXNoKGMpLHMuZXZlbnREaXNwYXRjaGVyLmVtaXQodCxjKSxuLl9wb2ludGVycy5sZW5ndGg+MSYmKFwidXBcIj09PXQ/bi5fYWN0aXZlUG9pbnRlcnNbb109LTE6XCJkb3duXCI9PT10JiYobi5fYWN0aXZlUG9pbnRlcnNbb109ci5wb2ludGVySWQpKX19fSxlLnByb3RvdHlwZS5faGFuZGxlV2hlZWxFdmVudD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4peyhpLl9lbmdpbmUucGFnZVNjcm9sbFByZXZlbnRpb25Nb2RlPT09RG4uQWxsfHxpLl9lbmdpbmUucGFnZVNjcm9sbFByZXZlbnRpb25Nb2RlPT09RG4uQ2FudmFzJiZuLnRhcmdldD09PWkuX2VuZ2luZS5jYW52YXMpJiZuLnByZXZlbnREZWZhdWx0KCk7dmFyIHI9bi5wYWdlWC1FKGkuX2VuZ2luZS5jYW52YXMpLngsbz1uLnBhZ2VZLUUoaS5fZW5naW5lLmNhbnZhcykueSxzPWkuX2VuZ2luZS5zY3JlZW5Ub1dvcmxkQ29vcmRpbmF0ZXMobmV3IFYocixvKSksYT1uLmRlbHRhWHx8LS4wMjUqbi53aGVlbERlbHRhWHx8MCxjPW4uZGVsdGFZfHwtLjAyNSpuLndoZWVsRGVsdGFZfHwtLjAyNSpuLndoZWVsRGVsdGF8fG4uZGV0YWlsfHwwLGg9bi5kZWx0YVp8fDAsdT1obi5QaXhlbDtuLmRlbHRhTW9kZSYmKDE9PT1uLmRlbHRhTW9kZT91PWhuLkxpbmU6Mj09PW4uZGVsdGFNb2RlJiYodT1obi5QYWdlKSk7dmFyIGw9bmV3IHduKHMueCxzLnksbi5wYWdlWCxuLnBhZ2VZLHIsbywwLGEsYyxoLHUsbik7ZS5wdXNoKGwpLGkuYXQoMCkuZXZlbnREaXNwYXRjaGVyLmVtaXQodCxsKX19LGUucHJvdG90eXBlLl9nZXRQb2ludGVySW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU7aWYoKGU9dGhpcy5fYWN0aXZlUG9pbnRlcnMuaW5kZXhPZih0KSk+LTEpcmV0dXJuIGU7Zm9yKHZhciBpPTA7aTx0aGlzLl9hY3RpdmVQb2ludGVycy5sZW5ndGg7aSsrKWlmKC0xPT09dGhpcy5fYWN0aXZlUG9pbnRlcnNbaV0pcmV0dXJuIGk7cmV0dXJuLTF9LGUucHJvdG90eXBlLl9uYXRpdmVCdXR0b25Ub1BvaW50ZXJCdXR0b249ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgYW4uTm9CdXR0b246cmV0dXJuIGNuLk5vQnV0dG9uO2Nhc2UgYW4uTGVmdDpyZXR1cm4gY24uTGVmdDtjYXNlIGFuLk1pZGRsZTpyZXR1cm4gY24uTWlkZGxlO2Nhc2UgYW4uUmlnaHQ6cmV0dXJuIGNuLlJpZ2h0O2Nhc2UgYW4uVW5rbm93bjpyZXR1cm4gY24uVW5rbm93bjtkZWZhdWx0OnJldHVybiBCKHQpfX0sZS5wcm90b3R5cGUuX3N0cmluZ1RvUG9pbnRlclR5cGU9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2VcInRvdWNoXCI6cmV0dXJuIHRuLlRvdWNoO2Nhc2VcIm1vdXNlXCI6cmV0dXJuIHRuLk1vdXNlO2Nhc2VcInBlblwiOnJldHVybiB0bi5QZW47ZGVmYXVsdDpyZXR1cm4gdG4uVW5rbm93bn19LGV9KFJ0KSxDbj1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLE9uPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGUuZW5hYmxlZD0hMSxlLnN1cHBvcnRlZD0hIW5hdmlnYXRvci5nZXRHYW1lcGFkcyxlLl9nYW1lUGFkVGltZVN0YW1wcz1bMCwwLDAsMF0sZS5fb2xkUGFkcz1bXSxlLl9wYWRzPVtdLGUuX2luaXRTdWNjZXNzPSExLGUuX25hdmlnYXRvcj1uYXZpZ2F0b3IsZS5fbWluaW11bUNvbmZpZ3VyYXRpb249bnVsbCxlfXJldHVybiBDbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLnN1cHBvcnRlZCYmKHRoaXMuX2luaXRTdWNjZXNzfHwodGhpcy5fb2xkUGFkcz10aGlzLl9jbG9uZVBhZHModGhpcy5fbmF2aWdhdG9yLmdldEdhbWVwYWRzKCkpLHRoaXMuX29sZFBhZHMubGVuZ3RoJiZ0aGlzLl9vbGRQYWRzWzBdJiYodGhpcy5faW5pdFN1Y2Nlc3M9ITApKSl9LGUucHJvdG90eXBlLnNldE1pbmltdW1HYW1lcGFkQ29uZmlndXJhdGlvbj1mdW5jdGlvbih0KXt0aGlzLl9lbmFibGVBbmRVcGRhdGUoKSx0aGlzLl9taW5pbXVtQ29uZmlndXJhdGlvbj10fSxlLnByb3RvdHlwZS5fZW5hYmxlQW5kVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkfHwodGhpcy5lbmFibGVkPSEwLHRoaXMudXBkYXRlKCkpfSxlLnByb3RvdHlwZS5faXNHYW1lcGFkVmFsaWQ9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX21pbmltdW1Db25maWd1cmF0aW9uKXJldHVybiEwO2lmKCF0KXJldHVybiExO3ZhciBlPXQuYXhlcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10eXBlb2YgdH0pKS5sZW5ndGgsaT10LmJ1dHRvbnMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dHlwZW9mIHR9KSkubGVuZ3RoO3JldHVybiBlPj10aGlzLl9taW5pbXVtQ29uZmlndXJhdGlvbi5heGlzJiZpPj10aGlzLl9taW5pbXVtQ29uZmlndXJhdGlvbi5idXR0b25zJiZ0LmNvbm5lY3RlZH0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSxpKXt0aGlzLl9lbmFibGVBbmRVcGRhdGUoKSx0LnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsZSxpKX0sZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsaSl7dGhpcy5fZW5hYmxlQW5kVXBkYXRlKCksdC5wcm90b3R5cGUub2ZmLmNhbGwodGhpcyxlLGkpfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmVuYWJsZWQmJnRoaXMuc3VwcG9ydGVkKXt0aGlzLmluaXQoKTtmb3IodmFyIHQ9dGhpcy5fbmF2aWdhdG9yLmdldEdhbWVwYWRzKCksZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV0pe2lmKCF0aGlzLmF0KGUpLmNvbm5lY3RlZCYmdGhpcy5faXNHYW1lcGFkVmFsaWQodFtlXSkmJnRoaXMuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJjb25uZWN0XCIsbmV3IGZ0KGUsdGhpcy5hdChlKSkpLHRoaXMuYXQoZSkuY29ubmVjdGVkPSEwLCF0W2VdLnRpbWVzdGFtcHx8dFtlXS50aW1lc3RhbXAhPT10aGlzLl9nYW1lUGFkVGltZVN0YW1wc1tlXSl7dGhpcy5fZ2FtZVBhZFRpbWVTdGFtcHNbZV09dFtlXS50aW1lc3RhbXAsdGhpcy5hdChlKS5uYXZpZ2F0b3JHYW1lcGFkPXRbZV07dmFyIGk9dm9pZCAwLG49dm9pZCAwLHI9dm9pZCAwLG89dm9pZCAwLHM9dm9pZCAwO2ZvcihpIGluIFBuKVwibnVtYmVyXCI9PXR5cGVvZihuPVBuW2ldKSYmdFtlXS5idXR0b25zW25dJiYocz10W2VdLmJ1dHRvbnNbbl0udmFsdWUpIT09dGhpcy5fb2xkUGFkc1tlXS5nZXRCdXR0b24obikmJih0W2VdLmJ1dHRvbnNbbl0ucHJlc3NlZD8odGhpcy5hdChlKS51cGRhdGVCdXR0b24obixzKSx0aGlzLmF0KGUpLmV2ZW50RGlzcGF0Y2hlci5lbWl0KFwiYnV0dG9uXCIsbmV3IHl0KG4scyx0aGlzLmF0KGUpKSkpOnRoaXMuYXQoZSkudXBkYXRlQnV0dG9uKG4sMCkpO2ZvcihyIGluIFNuKVwibnVtYmVyXCI9PXR5cGVvZihvPVNuW3JdKSYmKHM9dFtlXS5heGVzW29dKSE9PXRoaXMuX29sZFBhZHNbZV0uZ2V0QXhlcyhvKSYmKHRoaXMuYXQoZSkudXBkYXRlQXhlcyhvLHMpLHRoaXMuYXQoZSkuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJheGlzXCIsbmV3IF90KG8scyx0aGlzLmF0KGUpKSkpO3RoaXMuX29sZFBhZHNbZV09dGhpcy5fY2xvbmVQYWQodFtlXSl9fWVsc2V7dmFyIGE9dGhpcy5hdChlKTthLmNvbm5lY3RlZCYmdGhpcy5ldmVudERpc3BhdGNoZXIuZW1pdChcImRpc2Nvbm5lY3RcIixuZXcgZ3QoZSxhKSksYS5jb25uZWN0ZWQ9ITF9fX0sZS5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5fZW5hYmxlQW5kVXBkYXRlKCksdD49dGhpcy5fcGFkcy5sZW5ndGgpZm9yKHZhciBlPXRoaXMuX3BhZHMubGVuZ3RoLTEsaT10O2U8aTtlKyspdGhpcy5fcGFkcy5wdXNoKG5ldyBUbiksdGhpcy5fb2xkUGFkcy5wdXNoKG5ldyBUbik7cmV0dXJuIHRoaXMuX3BhZHNbdF19LGUucHJvdG90eXBlLmdldFZhbGlkR2FtZXBhZHM9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVBbmRVcGRhdGUoKTtmb3IodmFyIHQ9W10sZT0wO2U8dGhpcy5fcGFkcy5sZW5ndGg7ZSsrKXRoaXMuX2lzR2FtZXBhZFZhbGlkKHRoaXMuYXQoZSkubmF2aWdhdG9yR2FtZXBhZCkmJnRoaXMuYXQoZSkuY29ubmVjdGVkJiZ0LnB1c2godGhpcy5hdChlKSk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhZHMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb25uZWN0ZWR9KSkubGVuZ3RofSxlLnByb3RvdHlwZS5fY2xvbmVQYWRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxpPTAsbj10Lmxlbmd0aDtpPG47aSsrKWUucHVzaCh0aGlzLl9jbG9uZVBhZCh0W2ldKSk7cmV0dXJuIGV9LGUucHJvdG90eXBlLl9jbG9uZVBhZD1mdW5jdGlvbih0KXt2YXIgZSxpLG49bmV3IFRuO2lmKCF0KXJldHVybiBuO2ZvcihlPTAsaT10LmJ1dHRvbnMubGVuZ3RoO2U8aTtlKyspdC5idXR0b25zW2VdJiZuLnVwZGF0ZUJ1dHRvbihlLHQuYnV0dG9uc1tlXS52YWx1ZSk7Zm9yKGU9MCxpPXQuYXhlcy5sZW5ndGg7ZTxpO2UrKyluLnVwZGF0ZUF4ZXMoZSx0LmF4ZXNbZV0pO3JldHVybiBufSxlLk1pbkF4aXNNb3ZlVGhyZXNob2xkPS4wNSxlfShSdCksVG49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPXQuY2FsbCh0aGlzKXx8dGhpcztlLmNvbm5lY3RlZD0hMSxlLl9idXR0b25zPW5ldyBBcnJheSgxNiksZS5fYXhlcz1uZXcgQXJyYXkoNCk7Zm9yKHZhciBpPTA7aTxlLl9idXR0b25zLmxlbmd0aDtpKyspZS5fYnV0dG9uc1tpXT0wO2ZvcihpPTA7aTxlLl9heGVzLmxlbmd0aDtpKyspZS5fYXhlc1tpXT0wO3JldHVybiBlfXJldHVybiBDbihlLHQpLGUucHJvdG90eXBlLmlzQnV0dG9uUHJlc3NlZD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xKSx0aGlzLl9idXR0b25zW3RdPj1lfSxlLnByb3RvdHlwZS5nZXRCdXR0b249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2J1dHRvbnNbdF19LGUucHJvdG90eXBlLmdldEF4ZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYXhlc1t0XTtyZXR1cm4gTWF0aC5hYnMoZSk8T24uTWluQXhpc01vdmVUaHJlc2hvbGQ/MDplfSxlLnByb3RvdHlwZS51cGRhdGVCdXR0b249ZnVuY3Rpb24odCxlKXt0aGlzLl9idXR0b25zW3RdPWV9LGUucHJvdG90eXBlLnVwZGF0ZUF4ZXM9ZnVuY3Rpb24odCxlKXt0aGlzLl9heGVzW3RdPWV9LGV9KFJ0KTshZnVuY3Rpb24odCl7dFt0LkZhY2UxPTBdPVwiRmFjZTFcIix0W3QuRmFjZTI9MV09XCJGYWNlMlwiLHRbdC5GYWNlMz0yXT1cIkZhY2UzXCIsdFt0LkZhY2U0PTNdPVwiRmFjZTRcIix0W3QuTGVmdEJ1bXBlcj00XT1cIkxlZnRCdW1wZXJcIix0W3QuUmlnaHRCdW1wZXI9NV09XCJSaWdodEJ1bXBlclwiLHRbdC5MZWZ0VHJpZ2dlcj02XT1cIkxlZnRUcmlnZ2VyXCIsdFt0LlJpZ2h0VHJpZ2dlcj03XT1cIlJpZ2h0VHJpZ2dlclwiLHRbdC5TZWxlY3Q9OF09XCJTZWxlY3RcIix0W3QuU3RhcnQ9OV09XCJTdGFydFwiLHRbdC5MZWZ0U3RpY2s9MTBdPVwiTGVmdFN0aWNrXCIsdFt0LlJpZ2h0U3RpY2s9MTFdPVwiUmlnaHRTdGlja1wiLHRbdC5EcGFkVXA9MTJdPVwiRHBhZFVwXCIsdFt0LkRwYWREb3duPTEzXT1cIkRwYWREb3duXCIsdFt0LkRwYWRMZWZ0PTE0XT1cIkRwYWRMZWZ0XCIsdFt0LkRwYWRSaWdodD0xNV09XCJEcGFkUmlnaHRcIn0oUG58fChQbj17fSkpLGZ1bmN0aW9uKHQpe3RbdC5MZWZ0U3RpY2tYPTBdPVwiTGVmdFN0aWNrWFwiLHRbdC5MZWZ0U3RpY2tZPTFdPVwiTGVmdFN0aWNrWVwiLHRbdC5SaWdodFN0aWNrWD0yXT1cIlJpZ2h0U3RpY2tYXCIsdFt0LlJpZ2h0U3RpY2tZPTNdPVwiUmlnaHRTdGlja1lcIn0oU258fChTbj17fSkpO3ZhciBNbixEbixrbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5uYXRpdmVDb21wb25lbnQ9dCx0aGlzLl9wYXVzZWQ9ITEsdGhpcy5fbmF0aXZlSGFuZGxlcnM9e319cmV0dXJuIHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSl7dGhpcy5fbmF0aXZlSGFuZGxlcnNbdF0mJnRoaXMub2ZmKHQsdGhpcy5fbmF0aXZlSGFuZGxlcnNbdF0pLHRoaXMuX25hdGl2ZUhhbmRsZXJzW3RdPXRoaXMuX2RlY29yYXRlKGUpLHRoaXMubmF0aXZlQ29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIodCx0aGlzLl9uYXRpdmVIYW5kbGVyc1t0XSl9LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe2V8fChlPXRoaXMuX25hdGl2ZUhhbmRsZXJzW3RdKSx0aGlzLm5hdGl2ZUNvbXBvbmVudC5yZW1vdmVFdmVudExpc3RlbmVyKHQsZSksdGhpcy5fbmF0aXZlSGFuZGxlcnNbdF09bnVsbH0sdC5wcm90b3R5cGUuX2RlY29yYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGkpe2UuX3BhdXNlZHx8dChpKX19LHQucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkPSEwfSx0LnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWQ9ITF9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuX25hdGl2ZUhhbmRsZXJzKXRoaXMub2ZmKHQpfSx0fSgpLEJuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX3dpbmRvd0dsb2JhbD10LHRoaXMuX2RvY3VtZW50R2xvYmFsPWUsdGhpcy5fd2luZG93Q29tcG9uZW50PW5ldyBrbih0aGlzLl93aW5kb3dHbG9iYWwpLHRoaXMuX2RvY3VtZW50Q29tcG9uZW50PW5ldyBrbih0aGlzLl9kb2N1bWVudEdsb2JhbCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIndpbmRvd1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2luZG93Q29tcG9uZW50fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRvY3VtZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb2N1bWVudENvbXBvbmVudH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMud2luZG93LnBhdXNlKCksdGhpcy5kb2N1bWVudC5wYXVzZSgpfSx0LnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt0aGlzLndpbmRvdy5yZXN1bWUoKSx0aGlzLmRvY3VtZW50LnJlc3VtZSgpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMud2luZG93LmNsZWFyKCksdGhpcy5kb2N1bWVudC5jbGVhcigpfSx0fSgpLFJuPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCksam49ZnVuY3Rpb24oKXtyZXR1cm4oam49T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHIgaW4gZT1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtsKCksZnVuY3Rpb24odCl7dFt0LkZ1bGxTY3JlZW49MF09XCJGdWxsU2NyZWVuXCIsdFt0LkNvbnRhaW5lcj0xXT1cIkNvbnRhaW5lclwiLHRbdC5GaXhlZD0yXT1cIkZpeGVkXCIsdFt0LlBvc2l0aW9uPTNdPVwiUG9zaXRpb25cIn0oTW58fChNbj17fSkpLGZ1bmN0aW9uKHQpe3RbdC5Ob25lPTBdPVwiTm9uZVwiLHRbdC5DYW52YXM9MV09XCJDYW52YXNcIix0W3QuQWxsPTJdPVwiQWxsXCJ9KERufHwoRG49e30pKTt2YXIgRm4sSW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShpKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7bi5faGFzU3RhcnRlZD0hMSxuLnBvc3RQcm9jZXNzb3JzPVtdLG4uc2NlbmVzPXt9LG4uX2FuaW1hdGlvbnM9W10sbi5pc0Z1bGxzY3JlZW49ITEsbi5kaXNwbGF5TW9kZT1Nbi5GdWxsU2NyZWVuLG4uX3N1cHByZXNzSGlEUElTY2FsaW5nPSExLG4uX3N1cHByZXNzUGxheUJ1dHRvbj0hMSxuLnBhdXNlQXVkaW9XaGVuSGlkZGVuPSEwLG4uaXNEZWJ1Zz0hMSxuLmRlYnVnQ29sb3I9bmV3IEx0KDI1NSwyNTUsMjU1KSxuLmVuYWJsZUNhbnZhc1RyYW5zcGFyZW5jeT0hMCxuLm9uRmF0YWxFeGNlcHRpb249ZnVuY3Rpb24odCl7Ui5nZXRJbnN0YW5jZSgpLmZhdGFsKHQpfSxuLl9pc1Ntb290aGluZ0VuYWJsZWQ9ITAsbi5fdGltZXNjYWxlPTEsbi5faXNMb2FkaW5nPSExLG4uX2lzSW5pdGlhbGl6ZWQ9ITEsaT1qbihqbih7fSxlLl9EZWZhdWx0RW5naW5lT3B0aW9ucyksaSksbi5icm93c2VyPW5ldyBCbih3aW5kb3csZG9jdW1lbnQpO3ZhciByPW5ldyBiaTtpZighaS5zdXBwcmVzc01pbmltdW1Ccm93c2VyRmVhdHVyZURldGVjdGlvbiYmIShuLl9jb21wYXRpYmxlPXIudGVzdCgpKSl7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZihvLmlubmVyVGV4dD1cIlNvcnJ5LCB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBhbGwgdGhlIGZlYXR1cmVzIG5lZWRlZCBmb3IgRXhjYWxpYnVyXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvKSxyLmZhaWxlZFRlc3RzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5pbm5lclRleHQ9XCJCcm93c2VyIGZlYXR1cmUgbWlzc2luZyBcIit0LGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSl9KSksaS5jYW52YXNFbGVtZW50SWQpe3ZhciBzPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkuY2FudmFzRWxlbWVudElkKTtzJiZzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQocyl9cmV0dXJuIG59cmV0dXJuIG4uX2NvbXBhdGlibGU9ITAsY29uc29sZS5sb2cmJiFpLnN1cHByZXNzQ29uc29sZUJvb3RNZXNzYWdlJiYoY29uc29sZS5sb2coXCIlY1Bvd2VyZWQgYnkgRXhjYWxpYnVyLmpzICh2XCIrYnIrXCIpXCIsXCJiYWNrZ3JvdW5kOiAjMTc2QkFBOyBjb2xvcjogd2hpdGU7IGJvcmRlci1yYWRpdXM6IDVweDsgcGFkZGluZzogMTVweDsgZm9udC1zaXplOiAxLjVlbTsgbGluZS1oZWlnaHQ6IDgwcHg7XCIpLGNvbnNvbGUubG9nKFwiXFxuICAgICAgL3wgX19fX19fX19fX19fX19fX1xcbk98PT09fCogPl9fX19fX19fX19fX19fX18+XFxuICAgICAgXFxcXHxcIiksY29uc29sZS5sb2coXCJWaXNpdFwiLFwiaHR0cDovL2V4Y2FsaWJ1cmpzLmNvbVwiLFwiZm9yIG1vcmUgaW5mb3JtYXRpb25cIikpLGkuc3VwcHJlc3NQbGF5QnV0dG9uJiYobi5fc3VwcHJlc3NQbGF5QnV0dG9uPSEwKSxuLl9sb2dnZXI9Ui5nZXRJbnN0YW5jZSgpLG4uX2xvZ2dlci5kZWZhdWx0TGV2ZWw9PT1ELkRlYnVnJiZyLmxvZ0Jyb3dzZXJGZWF0dXJlcygpLG4uX2xvZ2dlci5kZWJ1ZyhcIkJ1aWxkaW5nIGVuZ2luZS4uLlwiKSxuLmNhbnZhc0VsZW1lbnRJZD1pLmNhbnZhc0VsZW1lbnRJZCxpLmNhbnZhc0VsZW1lbnRJZD8obi5fbG9nZ2VyLmRlYnVnKFwiVXNpbmcgQ2FudmFzIGVsZW1lbnQgc3BlY2lmaWVkOiBcIitpLmNhbnZhc0VsZW1lbnRJZCksbi5jYW52YXM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaS5jYW52YXNFbGVtZW50SWQpKTppLmNhbnZhc0VsZW1lbnQ/KG4uX2xvZ2dlci5kZWJ1ZyhcIlVzaW5nIENhbnZhcyBlbGVtZW50IHNwZWNpZmllZDpcIixpLmNhbnZhc0VsZW1lbnQpLG4uY2FudmFzPWkuY2FudmFzRWxlbWVudCk6KG4uX2xvZ2dlci5kZWJ1ZyhcIlVzaW5nIGdlbmVyYXRlZCBjYW52YXMgZWxlbWVudFwiKSxuLmNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpKSxpLndpZHRoJiZpLmhlaWdodD8odm9pZCAwPT09aS5kaXNwbGF5TW9kZSYmKG4uZGlzcGxheU1vZGU9TW4uRml4ZWQpLG4uX2xvZ2dlci5kZWJ1ZyhcIkVuZ2luZSB2aWV3cG9ydCBpcyBzaXplIFwiK2kud2lkdGgrXCIgeCBcIitpLmhlaWdodCksbi5jYW52YXMud2lkdGg9aS53aWR0aCxuLmNhbnZhcy5oZWlnaHQ9aS5oZWlnaHQpOmkuZGlzcGxheU1vZGV8fChuLl9sb2dnZXIuZGVidWcoXCJFbmdpbmUgdmlld3BvcnQgaXMgZnVsbHNjcmVlblwiKSxuLmRpc3BsYXlNb2RlPU1uLkZ1bGxTY3JlZW4pLGkuYmFja2dyb3VuZENvbG9yJiYobi5iYWNrZ3JvdW5kQ29sb3I9aS5iYWNrZ3JvdW5kQ29sb3IuY2xvbmUoKSksbi5lbmFibGVDYW52YXNUcmFuc3BhcmVuY3k9aS5lbmFibGVDYW52YXNUcmFuc3BhcmVuY3ksbi5fbG9hZGVyPW5ldyB2aSxuLmRlYnVnPW5ldyBaaShuKSxuLl9pbml0aWFsaXplKGkpLG4ucm9vdFNjZW5lPW4uY3VycmVudFNjZW5lPW5ldyBHaShuKSxuLmFkZFNjZW5lKFwicm9vdFwiLG4ucm9vdFNjZW5lKSxuLmdvVG9TY2VuZShcInJvb3RcIiksbn1yZXR1cm4gUm4oZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjYW52YXNXaWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXMud2lkdGh9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaGFsZkNhbnZhc1dpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhcy53aWR0aC8yfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImNhbnZhc0hlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXMuaGVpZ2h0fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImhhbGZDYW52YXNIZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodC8yfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImRyYXdXaWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50U2NlbmUmJnRoaXMuY3VycmVudFNjZW5lLmNhbWVyYT90aGlzLmNhbnZhc1dpZHRoL3RoaXMuY3VycmVudFNjZW5lLmNhbWVyYS5nZXRab29tKCkvdGhpcy5waXhlbFJhdGlvOnRoaXMuY2FudmFzV2lkdGgvdGhpcy5waXhlbFJhdGlvfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImhhbGZEcmF3V2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhd1dpZHRoLzJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZHJhd0hlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50U2NlbmUmJnRoaXMuY3VycmVudFNjZW5lLmNhbWVyYT90aGlzLmNhbnZhc0hlaWdodC90aGlzLmN1cnJlbnRTY2VuZS5jYW1lcmEuZ2V0Wm9vbSgpL3RoaXMucGl4ZWxSYXRpbzp0aGlzLmNhbnZhc0hlaWdodC90aGlzLnBpeGVsUmF0aW99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaGFsZkRyYXdIZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhd0hlaWdodC8yfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzSGlEcGlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDEhPT10aGlzLnBpeGVsUmF0aW99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic3RhdHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVidWcuc3RhdHN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicGl4ZWxSYXRpb1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3VwcHJlc3NIaURQSVNjYWxpbmc/MTp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbzwxPzE6d2luZG93LmRldmljZVBpeGVsUmF0aW98fDF9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSxpKXt0LnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsZSxpKX0sZS5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLGkpe3QucHJvdG90eXBlLm9uY2UuY2FsbCh0aGlzLGUsaSl9LGUucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLGkpe3QucHJvdG90eXBlLm9mZi5jYWxsKHRoaXMsZSxpKX0sZS5wcm90b3R5cGUuZ2V0V29ybGRCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNjcmVlblRvV29ybGRDb29yZGluYXRlcyhWLlplcm8pLngsZT10aGlzLnNjcmVlblRvV29ybGRDb29yZGluYXRlcyhWLlplcm8pLnksaT10K3RoaXMuZHJhd1dpZHRoLG49ZSt0aGlzLmRyYXdIZWlnaHQ7cmV0dXJuIG5ldyBNZSh0LGUsaSxuKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidGltZXNjYWxlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90aW1lc2NhbGV9LHNldDpmdW5jdGlvbih0KXt0PD0wP1IuZ2V0SW5zdGFuY2UoKS5lcnJvcihcIkNhbm5vdCBzZXQgZW5naW5lLnRpbWVzY2FsZSB0byBhIHZhbHVlIG9mIDAgb3IgbGVzcyB0aGFuIDAuXCIpOnRoaXMuX3RpbWVzY2FsZT10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnBsYXlBbmltYXRpb249ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2FuaW1hdGlvbnMucHVzaChuZXcgTG4odCxlLGkpKX0sZS5wcm90b3R5cGUuYWRkVGlsZU1hcD1mdW5jdGlvbih0KXt0aGlzLmN1cnJlbnRTY2VuZS5hZGRUaWxlTWFwKHQpfSxlLnByb3RvdHlwZS5yZW1vdmVUaWxlTWFwPWZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudFNjZW5lLnJlbW92ZVRpbGVNYXAodCl9LGUucHJvdG90eXBlLmFkZFRpbWVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmN1cnJlbnRTY2VuZS5hZGRUaW1lcih0KX0sZS5wcm90b3R5cGUucmVtb3ZlVGltZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY3VycmVudFNjZW5lLnJlbW92ZVRpbWVyKHQpfSxlLnByb3RvdHlwZS5hZGRTY2VuZT1mdW5jdGlvbih0LGUpe3RoaXMuc2NlbmVzW3RdJiZ0aGlzLl9sb2dnZXIud2FybihcIlNjZW5lXCIsdCxcImFscmVhZHkgZXhpc3RzIG92ZXJ3cml0aW5nXCIpLHRoaXMuc2NlbmVzW3RdPWV9LGUucHJvdG90eXBlLnJlbW92ZVNjZW5lPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBHaSlmb3IodmFyIGUgaW4gdGhpcy5zY2VuZXMpdGhpcy5zY2VuZXMuaGFzT3duUHJvcGVydHkoZSkmJnRoaXMuc2NlbmVzW2VdPT09dCYmZGVsZXRlIHRoaXMuc2NlbmVzW2VdO1wic3RyaW5nXCI9PXR5cGVvZiB0JiZkZWxldGUgdGhpcy5zY2VuZXNbdF19LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0IGluc3RhbmNlb2Ygb2k/dGhpcy5jdXJyZW50U2NlbmUuYWRkU2NyZWVuRWxlbWVudCh0KToodCBpbnN0YW5jZW9mIGlpJiZ0aGlzLl9hZGRDaGlsZCh0KSx0IGluc3RhbmNlb2YgYWkmJnRoaXMuYWRkVGltZXIodCksdCBpbnN0YW5jZW9mIGhpJiZ0aGlzLmFkZFRpbGVNYXAodCksMj09PWFyZ3VtZW50cy5sZW5ndGgmJnRoaXMuYWRkU2NlbmUoYXJndW1lbnRzWzBdLGFyZ3VtZW50c1sxXSkpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIG9pP3RoaXMuY3VycmVudFNjZW5lLnJlbW92ZVNjcmVlbkVsZW1lbnQodCk6KHQgaW5zdGFuY2VvZiBpaSYmdGhpcy5fcmVtb3ZlQ2hpbGQodCksdCBpbnN0YW5jZW9mIGFpJiZ0aGlzLnJlbW92ZVRpbWVyKHQpLHQgaW5zdGFuY2VvZiBoaSYmdGhpcy5yZW1vdmVUaWxlTWFwKHQpLHQgaW5zdGFuY2VvZiBHaSYmdGhpcy5yZW1vdmVTY2VuZSh0KSxcInN0cmluZ1wiPT10eXBlb2YgdCYmdGhpcy5yZW1vdmVTY2VuZSh0KSl9LGUucHJvdG90eXBlLl9hZGRDaGlsZD1mdW5jdGlvbih0KXt0aGlzLmN1cnJlbnRTY2VuZS5hZGQodCl9LGUucHJvdG90eXBlLl9yZW1vdmVDaGlsZD1mdW5jdGlvbih0KXt0aGlzLmN1cnJlbnRTY2VuZS5yZW1vdmUodCl9LGUucHJvdG90eXBlLmdvVG9TY2VuZT1mdW5jdGlvbih0KXtpZih0aGlzLnNjZW5lc1t0XSl7dmFyIGU9dGhpcy5jdXJyZW50U2NlbmUsaT10aGlzLnNjZW5lc1t0XTt0aGlzLl9sb2dnZXIuZGVidWcoXCJHb2luZyB0byBzY2VuZTpcIix0KSx0aGlzLmN1cnJlbnRTY2VuZS5pc0luaXRpYWxpemVkJiYodGhpcy5jdXJyZW50U2NlbmUuX2RlYWN0aXZhdGUuY2FsbCh0aGlzLmN1cnJlbnRTY2VuZSxbZSxpXSksdGhpcy5jdXJyZW50U2NlbmUuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJkZWFjdGl2YXRlXCIsbmV3IE90KGksdGhpcy5jdXJyZW50U2NlbmUpKSksdGhpcy5jdXJyZW50U2NlbmU9aSx0aGlzLmN1cnJlbnRTY2VuZS5faW5pdGlhbGl6ZSh0aGlzKSx0aGlzLmN1cnJlbnRTY2VuZS5fYWN0aXZhdGUuY2FsbCh0aGlzLmN1cnJlbnRTY2VuZSxbZSxpXSksdGhpcy5jdXJyZW50U2NlbmUuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJhY3RpdmF0ZVwiLG5ldyBDdChlLHRoaXMuY3VycmVudFNjZW5lKSl9ZWxzZSB0aGlzLl9sb2dnZXIuZXJyb3IoXCJTY2VuZVwiLHQsXCJkb2VzIG5vdCBleGlzdCFcIil9LGUucHJvdG90eXBlLnNjcmVlblRvV29ybGRDb29yZGluYXRlcz1mdW5jdGlvbih0KXt2YXIgZT10LngsaT10Lnk7aWYoZT1lL3RoaXMuY2FudmFzLmNsaWVudFdpZHRoKnRoaXMuZHJhd1dpZHRoLGk9aS90aGlzLmNhbnZhcy5jbGllbnRIZWlnaHQqdGhpcy5kcmF3SGVpZ2h0LGUtPXRoaXMuaGFsZkRyYXdXaWR0aCxpLT10aGlzLmhhbGZEcmF3SGVpZ2h0LHRoaXMuY3VycmVudFNjZW5lJiZ0aGlzLmN1cnJlbnRTY2VuZS5jYW1lcmEpe3ZhciBuPXRoaXMuY3VycmVudFNjZW5lLmNhbWVyYS5nZXRGb2N1cygpO2UrPW4ueCxpKz1uLnl9cmV0dXJuIG5ldyBWKE1hdGguZmxvb3IoZSksTWF0aC5mbG9vcihpKSl9LGUucHJvdG90eXBlLndvcmxkVG9TY3JlZW5Db29yZGluYXRlcz1mdW5jdGlvbih0KXt2YXIgZT10LngsaT10Lnk7aWYodGhpcy5jdXJyZW50U2NlbmUmJnRoaXMuY3VycmVudFNjZW5lLmNhbWVyYSl7dmFyIG49dGhpcy5jdXJyZW50U2NlbmUuY2FtZXJhLmdldEZvY3VzKCk7ZS09bi54LGktPW4ueX1yZXR1cm4gZSs9dGhpcy5oYWxmRHJhd1dpZHRoLGkrPXRoaXMuaGFsZkRyYXdIZWlnaHQsZT1lKnRoaXMuY2FudmFzLmNsaWVudFdpZHRoL3RoaXMuZHJhd1dpZHRoLGk9aSp0aGlzLmNhbnZhcy5jbGllbnRIZWlnaHQvdGhpcy5kcmF3SGVpZ2h0LG5ldyBWKE1hdGguZmxvb3IoZSksTWF0aC5mbG9vcihpKSl9LGUucHJvdG90eXBlLl9zZXRIZWlnaHRCeURpc3BsYXlNb2RlPWZ1bmN0aW9uKHQpe3RoaXMuZGlzcGxheU1vZGU9PT1Nbi5Db250YWluZXImJih0aGlzLmNhbnZhcy53aWR0aD10LmNsaWVudFdpZHRoLHRoaXMuY2FudmFzLmhlaWdodD10LmNsaWVudEhlaWdodCksdGhpcy5kaXNwbGF5TW9kZT09PU1uLkZ1bGxTY3JlZW4mJihkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbj1cIjBweFwiLGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIix0aGlzLmNhbnZhcy53aWR0aD10LmlubmVyV2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0PXQuaW5uZXJIZWlnaHQpfSxlLnByb3RvdHlwZS5faW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZSxpLG49dGhpcztpZih0LmRpc3BsYXlNb2RlJiYodGhpcy5kaXNwbGF5TW9kZT10LmRpc3BsYXlNb2RlKSx0aGlzLmRpc3BsYXlNb2RlPT09TW4uRnVsbFNjcmVlbnx8dGhpcy5kaXNwbGF5TW9kZT09PU1uLkNvbnRhaW5lcil7dmFyIHI9dGhpcy5kaXNwbGF5TW9kZT09PU1uLkNvbnRhaW5lcj90aGlzLmNhbnZhcy5wYXJlbnRFbGVtZW50fHxkb2N1bWVudC5ib2R5OndpbmRvdzt0aGlzLl9zZXRIZWlnaHRCeURpc3BsYXlNb2RlKHIpLHRoaXMuYnJvd3Nlci53aW5kb3cub24oXCJyZXNpemVcIiwoZnVuY3Rpb24oKXtuLl9sb2dnZXIuZGVidWcoXCJWaWV3IHBvcnQgcmVzaXplZFwiKSxuLl9zZXRIZWlnaHRCeURpc3BsYXlNb2RlKHIpLG4uX2xvZ2dlci5pbmZvKFwicGFyZW50LmNsaWVudEhlaWdodCBcIityLmNsaWVudEhlaWdodCksbi5zZXRBbnRpYWxpYXNpbmcobi5faXNTbW9vdGhpbmdFbmFibGVkKX0pKX1lbHNlIHRoaXMuZGlzcGxheU1vZGU9PT1Nbi5Qb3NpdGlvbiYmdGhpcy5faW5pdGlhbGl6ZURpc3BsYXlNb2RlUG9zaXRpb24odCk7dGhpcy5wYWdlU2Nyb2xsUHJldmVudGlvbk1vZGU9dC5zY3JvbGxQcmV2ZW50aW9uTW9kZSx0aGlzLmlucHV0PXtrZXlib2FyZDpuZXcgcm4scG9pbnRlcnM6bmV3IEFuKHRoaXMpLGdhbWVwYWRzOm5ldyBPbn0sdGhpcy5pbnB1dC5rZXlib2FyZC5pbml0KCksdGhpcy5pbnB1dC5wb2ludGVycy5pbml0KHQmJnQucG9pbnRlclNjb3BlPT09ZW4uRG9jdW1lbnQ/ZG9jdW1lbnQ6dGhpcy5jYW52YXMpLHRoaXMuaW5wdXQuZ2FtZXBhZHMuaW5pdCgpLHZvaWQgMCE9PWRvY3VtZW50LmhpZGRlbj8oZT1cImhpZGRlblwiLGk9XCJ2aXNpYmlsaXR5Y2hhbmdlXCIpOlwibXNIaWRkZW5cImluIGRvY3VtZW50PyhlPVwibXNIaWRkZW5cIixpPVwibXN2aXNpYmlsaXR5Y2hhbmdlXCIpOlwid2Via2l0SGlkZGVuXCJpbiBkb2N1bWVudCYmKGU9XCJ3ZWJraXRIaWRkZW5cIixpPVwid2Via2l0dmlzaWJpbGl0eWNoYW5nZVwiKSx0aGlzLmJyb3dzZXIuZG9jdW1lbnQub24oaSwoZnVuY3Rpb24oKXtkb2N1bWVudFtlXT8obi5ldmVudERpc3BhdGNoZXIuZW1pdChcImhpZGRlblwiLG5ldyB3dChuKSksbi5fbG9nZ2VyLmRlYnVnKFwiV2luZG93IGhpZGRlblwiKSk6KG4uZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJ2aXNpYmxlXCIsbmV3IGJ0KG4pKSxuLl9sb2dnZXIuZGVidWcoXCJXaW5kb3cgdmlzaWJsZVwiKSl9KSksdGhpcy5jdHg9dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIse2FscGhhOnRoaXMuZW5hYmxlQ2FudmFzVHJhbnNwYXJlbmN5fSksdGhpcy5fc3VwcHJlc3NIaURQSVNjYWxpbmc9ISF0LnN1cHByZXNzSGlEUElTY2FsaW5nLHQuc3VwcHJlc3NIaURQSVNjYWxpbmd8fHRoaXMuX2luaXRpYWxpemVIaURwaSgpLHRoaXMuY2FudmFzRWxlbWVudElkfHx0LmNhbnZhc0VsZW1lbnR8fGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpfSxlLnByb3RvdHlwZS5vbkluaXRpYWxpemU9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5faW5pdGlhbGl6ZURpc3BsYXlNb2RlUG9zaXRpb249ZnVuY3Rpb24odCl7aWYoIXQucG9zaXRpb24pdGhyb3cgbmV3IEVycm9yKFwiRGlzcGxheU1vZGUgb2YgUG9zaXRpb24gd2FzIHNlbGVjdGVkIGJ1dCBubyBwb3NpdGlvbiBvcHRpb24gd2FzIGdpdmVuXCIpO2lmKHRoaXMuY2FudmFzLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuY2FudmFzLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixcInN0cmluZ1wiPT10eXBlb2YgdC5wb3NpdGlvbil7dmFyIGU9dC5wb3NpdGlvbi5zcGxpdChcIiBcIik7c3dpdGNoKGVbMF0pe2Nhc2VcInRvcFwiOnRoaXMuY2FudmFzLnN0eWxlLnRvcD1cIjBweFwiO2JyZWFrO2Nhc2VcImJvdHRvbVwiOnRoaXMuY2FudmFzLnN0eWxlLmJvdHRvbT1cIjBweFwiO2JyZWFrO2Nhc2VcIm1pZGRsZVwiOnRoaXMuY2FudmFzLnN0eWxlLnRvcD1cIjUwJVwiO3ZhciBpPS10aGlzLmhhbGZEcmF3SGVpZ2h0O3RoaXMuY2FudmFzLnN0eWxlLm1hcmdpblRvcD1pLnRvU3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFBvc2l0aW9uIEdpdmVuXCIpfWlmKGVbMV0pc3dpdGNoKGVbMV0pe2Nhc2VcImxlZnRcIjp0aGlzLmNhbnZhcy5zdHlsZS5sZWZ0PVwiMHB4XCI7YnJlYWs7Y2FzZVwicmlnaHRcIjp0aGlzLmNhbnZhcy5zdHlsZS5yaWdodD1cIjBweFwiO2JyZWFrO2Nhc2VcImNlbnRlclwiOnRoaXMuY2FudmFzLnN0eWxlLmxlZnQ9XCI1MCVcIjt2YXIgbj0tdGhpcy5oYWxmRHJhd1dpZHRoO3RoaXMuY2FudmFzLnN0eWxlLm1hcmdpbkxlZnQ9bi50b1N0cmluZygpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBQb3NpdGlvbiBHaXZlblwiKX19ZWxzZSB0LnBvc2l0aW9uLnRvcCYmKFwibnVtYmVyXCI9PXR5cGVvZiB0LnBvc2l0aW9uLnRvcD90aGlzLmNhbnZhcy5zdHlsZS50b3A9dC5wb3NpdGlvbi50b3AudG9TdHJpbmcoKStcInB4XCI6dGhpcy5jYW52YXMuc3R5bGUudG9wPXQucG9zaXRpb24udG9wKSx0LnBvc2l0aW9uLnJpZ2h0JiYoXCJudW1iZXJcIj09dHlwZW9mIHQucG9zaXRpb24ucmlnaHQ/dGhpcy5jYW52YXMuc3R5bGUucmlnaHQ9dC5wb3NpdGlvbi5yaWdodC50b1N0cmluZygpK1wicHhcIjp0aGlzLmNhbnZhcy5zdHlsZS5yaWdodD10LnBvc2l0aW9uLnJpZ2h0KSx0LnBvc2l0aW9uLmJvdHRvbSYmKFwibnVtYmVyXCI9PXR5cGVvZiB0LnBvc2l0aW9uLmJvdHRvbT90aGlzLmNhbnZhcy5zdHlsZS5ib3R0b209dC5wb3NpdGlvbi5ib3R0b20udG9TdHJpbmcoKStcInB4XCI6dGhpcy5jYW52YXMuc3R5bGUuYm90dG9tPXQucG9zaXRpb24uYm90dG9tKSx0LnBvc2l0aW9uLmxlZnQmJihcIm51bWJlclwiPT10eXBlb2YgdC5wb3NpdGlvbi5sZWZ0P3RoaXMuY2FudmFzLnN0eWxlLmxlZnQ9dC5wb3NpdGlvbi5sZWZ0LnRvU3RyaW5nKCkrXCJweFwiOnRoaXMuY2FudmFzLnN0eWxlLmxlZnQ9dC5wb3NpdGlvbi5sZWZ0KX0sZS5wcm90b3R5cGUuX2luaXRpYWxpemVIaURwaT1mdW5jdGlvbigpe2lmKHRoaXMuaXNIaURwaSl7dmFyIHQ9dGhpcy5jYW52YXMud2lkdGgsZT10aGlzLmNhbnZhcy5oZWlnaHQ7dGhpcy5jYW52YXMud2lkdGg9dCp0aGlzLnBpeGVsUmF0aW8sdGhpcy5jYW52YXMuaGVpZ2h0PWUqdGhpcy5waXhlbFJhdGlvLHRoaXMuY2FudmFzLnN0eWxlLndpZHRoPXQrXCJweFwiLHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodD1lK1wicHhcIix0aGlzLl9sb2dnZXIud2FybihcIkhpIERQSSBzY3JlZW4gZGV0ZWN0ZWQsIHJlc2V0dGluZyBjYW52YXMgcmVzb2x1dGlvbiBmcm9tIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiK3QrXCJ4XCIrZStcIiB0byBcIit0aGlzLmNhbnZhcy53aWR0aCtcInhcIit0aGlzLmNhbnZhcy5oZWlnaHQrXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzIHNpemUgd2lsbCByZW1haW4gXCIrdCtcInhcIitlKSx0aGlzLmN0eC5zY2FsZSh0aGlzLnBpeGVsUmF0aW8sdGhpcy5waXhlbFJhdGlvKSx0aGlzLl9sb2dnZXIud2FybihcIkNhbnZhcyBkcmF3aW5nIGNvbnRleHQgd2FzIHNjYWxlZCBieSBcIit0aGlzLnBpeGVsUmF0aW8pfX0sZS5wcm90b3R5cGUuc2V0QW50aWFsaWFzaW5nPWZ1bmN0aW9uKHQpe3RoaXMuX2lzU21vb3RoaW5nRW5hYmxlZD10O3ZhciBlPXRoaXMuY3R4O2UuaW1hZ2VTbW9vdGhpbmdFbmFibGVkPXQ7Zm9yKHZhciBpPTAsbj1bXCJ3ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWRcIixcIm1vekltYWdlU21vb3RoaW5nRW5hYmxlZFwiLFwibXNJbWFnZVNtb290aGluZ0VuYWJsZWRcIl07aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07ciBpbiBlJiYoZVtyXT10KX19LGUucHJvdG90eXBlLmdldEFudGlhbGlhc2luZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWR8fHRoaXMuY3R4LndlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZHx8dGhpcy5jdHgubW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkfHx0aGlzLmN0eC5tc0ltYWdlU21vb3RoaW5nRW5hYmxlZH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNJbml0aWFsaXplZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNJbml0aWFsaXplZH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fb3ZlcnJpZGVJbml0aWFsaXplPWZ1bmN0aW9uKGUpe3RoaXMuaXNJbml0aWFsaXplZHx8KHRoaXMub25Jbml0aWFsaXplKGUpLHQucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLFwiaW5pdGlhbGl6ZVwiLG5ldyBBdChlLHRoaXMpKSx0aGlzLl9pc0luaXRpYWxpemVkPSEwKX0sZS5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbih0KXtpZih0aGlzLl9pc0xvYWRpbmcpcmV0dXJuIHRoaXMuX2xvYWRlci51cGRhdGUodGhpcyx0KSx0aGlzLmlucHV0LmtleWJvYXJkLnVwZGF0ZSgpLHRoaXMuaW5wdXQucG9pbnRlcnMudXBkYXRlKCksdm9pZCB0aGlzLmlucHV0LmdhbWVwYWRzLnVwZGF0ZSgpO3RoaXMuX292ZXJyaWRlSW5pdGlhbGl6ZSh0aGlzKSx0aGlzLl9wcmV1cGRhdGUodCksdGhpcy5jdXJyZW50U2NlbmUudXBkYXRlKHRoaXMsdCksdGhpcy5fYW5pbWF0aW9ucz10aGlzLl9hbmltYXRpb25zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIXQuYW5pbWF0aW9uLmlzRG9uZSgpfSkpLHRoaXMuaW5wdXQua2V5Ym9hcmQudXBkYXRlKCksdGhpcy5pbnB1dC5wb2ludGVycy51cGRhdGUoKSx0aGlzLmlucHV0LmdhbWVwYWRzLnVwZGF0ZSgpLHRoaXMuX3Bvc3R1cGRhdGUodCl9LGUucHJvdG90eXBlLl9wcmV1cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5lbWl0KFwicHJldXBkYXRlXCIsbmV3IHV0KHRoaXMsdCx0aGlzKSksdGhpcy5vblByZVVwZGF0ZSh0aGlzLHQpfSxlLnByb3RvdHlwZS5vblByZVVwZGF0ZT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUuX3Bvc3R1cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5lbWl0KFwicG9zdHVwZGF0ZVwiLG5ldyBsdCh0aGlzLHQsdGhpcykpLHRoaXMub25Qb3N0VXBkYXRlKHRoaXMsdCl9LGUucHJvdG90eXBlLm9uUG9zdFVwZGF0ZT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUuX2RyYXc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdHg7aWYodGhpcy5fcHJlZHJhdyhlLHQpLHRoaXMuX2lzTG9hZGluZyl0aGlzLl9sb2FkZXIuZHJhdyhlLHQpO2Vsc2V7ZS5jbGVhclJlY3QoMCwwLHRoaXMuY2FudmFzV2lkdGgsdGhpcy5jYW52YXNIZWlnaHQpLGUuZmlsbFN0eWxlPXRoaXMuYmFja2dyb3VuZENvbG9yLnRvU3RyaW5nKCksZS5maWxsUmVjdCgwLDAsdGhpcy5jYW52YXNXaWR0aCx0aGlzLmNhbnZhc0hlaWdodCksdGhpcy5jdXJyZW50U2NlbmUuZHJhdyh0aGlzLmN0eCx0KTtmb3IodmFyIGk9MCxuPXRoaXMuX2FuaW1hdGlvbnMubGVuZ3RoO2k8bjtpKyspdGhpcy5fYW5pbWF0aW9uc1tpXS5hbmltYXRpb24uZHJhdyhlLHRoaXMuX2FuaW1hdGlvbnNbaV0ueCx0aGlzLl9hbmltYXRpb25zW2ldLnkpO2lmKHRoaXMuaXNEZWJ1Zyl7dGhpcy5jdHguZm9udD1cIkNvbnNvbGFzXCIsdGhpcy5jdHguZmlsbFN0eWxlPXRoaXMuZGVidWdDb2xvci50b1N0cmluZygpO2Zvcih2YXIgcj10aGlzLmlucHV0LmtleWJvYXJkLmdldEtleXMoKSxvPTA7bzxyLmxlbmd0aDtvKyspdGhpcy5jdHguZmlsbFRleHQocltvXS50b1N0cmluZygpK1wiIDogXCIrKFhpW3Jbb11dP1hpW3Jbb11dOlwiTm90IE1hcHBlZFwiKSwxMDAsMTAqbysxMCk7dGhpcy5jdHguZmlsbFRleHQoXCJGUFM6XCIrdGhpcy5zdGF0cy5jdXJyRnJhbWUuZnBzLnRvRml4ZWQoMikudG9TdHJpbmcoKSwxMCwxMCl9Zm9yKHZhciBzPTA7czx0aGlzLnBvc3RQcm9jZXNzb3JzLmxlbmd0aDtzKyspdGhpcy5wb3N0UHJvY2Vzc29yc1tzXS5wcm9jZXNzKHRoaXMuY3R4LmdldEltYWdlRGF0YSgwLDAsdGhpcy5jYW52YXNXaWR0aCx0aGlzLmNhbnZhc0hlaWdodCksdGhpcy5jdHgpO3RoaXMuX3Bvc3RkcmF3KGUsdCl9fSxlLnByb3RvdHlwZS5fcHJlZHJhdz1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInByZWRyYXdcIixuZXcgc3QodCxlLHRoaXMpKSx0aGlzLm9uUHJlRHJhdyh0LGUpfSxlLnByb3RvdHlwZS5vblByZURyYXc9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLl9wb3N0ZHJhdz1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInBvc3RkcmF3XCIsbmV3IGF0KHQsZSx0aGlzKSksdGhpcy5vblBvc3REcmF3KHQsZSl9LGUucHJvdG90eXBlLm9uUG9zdERyYXc9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKHQpe3ZhciBpLG49dGhpcztyZXR1cm4gdGhpcy5fY29tcGF0aWJsZT8odD8odGhpcy5fbG9hZGVyPXQsdGhpcy5fbG9hZGVyLnN1cHByZXNzUGxheUJ1dHRvbj10aGlzLl9zdXBwcmVzc1BsYXlCdXR0b258fHRoaXMuX2xvYWRlci5zdXBwcmVzc1BsYXlCdXR0b24sdGhpcy5fbG9hZGVyLndpcmVFbmdpbmUodGhpcyksaT10aGlzLmxvYWQodGhpcy5fbG9hZGVyKSk6aT1kLnJlc29sdmUoKSxpLnRoZW4oKGZ1bmN0aW9uKCl7bi5lbWl0KFwic3RhcnRcIixuZXcgcnQobikpfSkpLHRoaXMuX2hhc1N0YXJ0ZWR8fCh0aGlzLl9oYXNTdGFydGVkPSEwLHRoaXMuX2xvZ2dlci5kZWJ1ZyhcIlN0YXJ0aW5nIGdhbWUuLi5cIiksdGhpcy5icm93c2VyLnJlc3VtZSgpLGUuY3JlYXRlTWFpbkxvb3AodGhpcyx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLERhdGUubm93KSgpLHRoaXMuX2xvZ2dlci5kZWJ1ZyhcIkdhbWUgc3RhcnRlZFwiKSksaSk6KG5ldyBkKS5yZWplY3QoXCJFeGNhbGlidXIgaXMgaW5jb21wYXRpYmxlIHdpdGggeW91ciBicm93c2VyXCIpfSxlLmNyZWF0ZU1haW5Mb29wPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKCk7cmV0dXJuIGZ1bmN0aW9uIHIoKXtpZih0Ll9oYXNTdGFydGVkKXRyeXt0Ll9yZXF1ZXN0SWQ9ZShyKSx0LmVtaXQoXCJwcmVmcmFtZVwiLG5ldyBwdCh0LHQuc3RhdHMucHJldkZyYW1lKSk7dmFyIG89aSgpLHM9TWF0aC5mbG9vcihvLW4pfHwxO3M+MjAwJiYocz0xKTt2YXIgYT1zKnQudGltZXNjYWxlLGM9dC5zdGF0cy5wcmV2RnJhbWUuaWQrMTt0LnN0YXRzLnByZXZGcmFtZS5yZXNldCh0LnN0YXRzLmN1cnJGcmFtZSksdC5zdGF0cy5jdXJyRnJhbWUucmVzZXQoKSx0LnN0YXRzLmN1cnJGcmFtZS5pZD1jLHQuc3RhdHMuY3VyckZyYW1lLmRlbHRhPWEsdC5zdGF0cy5jdXJyRnJhbWUuZnBzPTEvKGEvMWUzKTt2YXIgaD1pKCk7dC5fdXBkYXRlKGEpO3ZhciB1PWkoKTt0Ll9kcmF3KGEpO3ZhciBsPWkoKTt0LnN0YXRzLmN1cnJGcmFtZS5kdXJhdGlvbi51cGRhdGU9dS1oLHQuc3RhdHMuY3VyckZyYW1lLmR1cmF0aW9uLmRyYXc9bC11LG49byx0LmVtaXQoXCJwb3N0ZnJhbWVcIixuZXcgZHQodCx0LnN0YXRzLmN1cnJGcmFtZSkpfWNhdGNoKGUpe3dpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0Ll9yZXF1ZXN0SWQpLHQuc3RvcCgpLHQub25GYXRhbEV4Y2VwdGlvbihlKX19fSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5faGFzU3RhcnRlZCYmKHRoaXMuZW1pdChcInN0b3BcIixuZXcgb3QodGhpcykpLHRoaXMuYnJvd3Nlci5wYXVzZSgpLHRoaXMuX2hhc1N0YXJ0ZWQ9ITEsdGhpcy5fbG9nZ2VyLmRlYnVnKFwiR2FtZSBzdG9wcGVkXCIpKX0sZS5wcm90b3R5cGUuaXNQYXVzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5faGFzU3RhcnRlZH0sZS5wcm90b3R5cGUuc2NyZWVuc2hvdD1mdW5jdGlvbigpe3ZhciB0PW5ldyBJbWFnZSxlPXRoaXMuY2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtyZXR1cm4gdC5zcmM9ZSx0fSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1uZXcgZDtyZXR1cm4gdGhpcy5faXNMb2FkaW5nPSEwLHQubG9hZCgpLnRoZW4oKGZ1bmN0aW9uKCl7ZS5fc3VwcHJlc3NQbGF5QnV0dG9uP3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5faXNMb2FkaW5nPSExLGkucmVzb2x2ZSgpfSksNTAwKTooZS5faXNMb2FkaW5nPSExLGkucmVzb2x2ZSgpKX0pKSxpfSxlLl9EZWZhdWx0RW5naW5lT3B0aW9ucz17d2lkdGg6MCxoZWlnaHQ6MCxlbmFibGVDYW52YXNUcmFuc3BhcmVuY3k6ITAsY2FudmFzRWxlbWVudElkOlwiXCIsY2FudmFzRWxlbWVudDp2b2lkIDAscG9pbnRlclNjb3BlOmVuLkRvY3VtZW50LHN1cHByZXNzQ29uc29sZUJvb3RNZXNzYWdlOm51bGwsc3VwcHJlc3NNaW5pbXVtQnJvd3NlckZlYXR1cmVEZXRlY3Rpb246bnVsbCxzdXBwcmVzc0hpRFBJU2NhbGluZzpudWxsLHN1cHByZXNzUGxheUJ1dHRvbjpudWxsLHNjcm9sbFByZXZlbnRpb25Nb2RlOkRuLkNhbnZhcyxiYWNrZ3JvdW5kQ29sb3I6THQuZnJvbUhleChcIiMyMTg1ZDBcIil9LGV9KFJ0KSxMbj1mdW5jdGlvbih0LGUsaSl7dGhpcy5hbmltYXRpb249dCx0aGlzLng9ZSx0aGlzLnk9aX0sem49ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGkpe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSkoZSxpKX07cmV0dXJuIGZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsaSksZS5wcm90b3R5cGU9bnVsbD09PWk/T2JqZWN0LmNyZWF0ZShpKToobi5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IG4pfX0oKSxIbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dm9pZCAwPT09aSYmKGk9XCJNZWRpYUV2ZW50XCIpO3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi50YXJnZXQ9ZSxuLl9uYW1lPWksbn1yZXR1cm4gem4oZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJidWJibGVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiExfSxzZXQ6ZnVuY3Rpb24odCl7fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIl9wYXRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxzZXQ6ZnVuY3Rpb24odCl7fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuYWN0aW9uPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5wcm9wYWdhdGU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmxheVBhdGg9ZnVuY3Rpb24odCl7fSxlfSh0dCksV249ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGkpe3ZhciBuPXQuY2FsbCh0aGlzLGUsXCJOYXRpdmVTb3VuZEV2ZW50XCIpfHx0aGlzO3JldHVybiBuLnRyYWNrPWksbn1yZXR1cm4gem4oZSx0KSxlfShIbiksVW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGkpe3ZhciBuPXQuY2FsbCh0aGlzLGUsXCJOYXRpdmVTb3VuZFByb2Nlc3NlZEV2ZW50XCIpfHx0aGlzO3JldHVybiBuLnByb2Nlc3NlZERhdGE9aSxuLmRhdGE9bi5wcm9jZXNzZWREYXRhLG59cmV0dXJuIHpuKGUsdCksZX0oSG4pLE5uPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCk7IWZ1bmN0aW9uKHQpe3RbdC5DaXJjbGU9MF09XCJDaXJjbGVcIix0W3QuUmVjdGFuZ2xlPTFdPVwiUmVjdGFuZ2xlXCJ9KEZufHwoRm49e30pKTt2YXIgcW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbixyLG8scyxhLGMsaCx1KXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxpLG4scixvLHMsYSxjLGgsdSl8fHRoaXN9cmV0dXJuIE5uKGUsdCksZX0oWnQoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4scixvLHMsYSxjLGgpe3RoaXMucG9zaXRpb249bmV3IFYoMCwwKSx0aGlzLnZlbG9jaXR5PW5ldyBWKDAsMCksdGhpcy5hY2NlbGVyYXRpb249bmV3IFYoMCwwKSx0aGlzLnBhcnRpY2xlUm90YXRpb25hbFZlbG9jaXR5PTAsdGhpcy5jdXJyZW50Um90YXRpb249MCx0aGlzLmZvY3VzPW51bGwsdGhpcy5mb2N1c0FjY2VsPTAsdGhpcy5vcGFjaXR5PTEsdGhpcy5iZWdpbkNvbG9yPUx0LldoaXRlLHRoaXMuZW5kQ29sb3I9THQuV2hpdGUsdGhpcy5saWZlPTMwMCx0aGlzLmZhZGVGbGFnPSExLHRoaXMuX3JSYXRlPTEsdGhpcy5fZ1JhdGU9MSx0aGlzLl9iUmF0ZT0xLHRoaXMuX2FSYXRlPTAsdGhpcy5fY3VycmVudENvbG9yPUx0LldoaXRlLHRoaXMuZW1pdHRlcj1udWxsLHRoaXMucGFydGljbGVTaXplPTUsdGhpcy5wYXJ0aWNsZVNwcml0ZT1udWxsLHRoaXMuc2l6ZVJhdGU9MCx0aGlzLmVsYXBzZWRNdWx0aXBsaWVyPTA7dmFyIHU9dDtpZih1JiYhKHQgaW5zdGFuY2VvZiBWbikpe3ZhciBsPXQ7dT1sLmVtaXR0ZXIsZT1sLmxpZmUsaT1sLm9wYWNpdHkscj1sLmVuZENvbG9yLG49bC5iZWdpbkNvbG9yLG89bC5wb3NpdGlvbixzPWwudmVsb2NpdHksYT1sLmFjY2VsZXJhdGlvbixjPWwuc3RhcnRTaXplLGg9bC5lbmRTaXplfXRoaXMuZW1pdHRlcj11LHRoaXMubGlmZT1lfHx0aGlzLmxpZmUsdGhpcy5vcGFjaXR5PWl8fHRoaXMub3BhY2l0eSx0aGlzLmVuZENvbG9yPXJ8fHRoaXMuZW5kQ29sb3IuY2xvbmUoKSx0aGlzLmJlZ2luQ29sb3I9bnx8dGhpcy5iZWdpbkNvbG9yLmNsb25lKCksdGhpcy5fY3VycmVudENvbG9yPXRoaXMuYmVnaW5Db2xvci5jbG9uZSgpLHRoaXMucG9zaXRpb249b3x8dGhpcy5wb3NpdGlvbix0aGlzLnZlbG9jaXR5PXN8fHRoaXMudmVsb2NpdHksdGhpcy5hY2NlbGVyYXRpb249YXx8dGhpcy5hY2NlbGVyYXRpb24sdGhpcy5fclJhdGU9KHRoaXMuZW5kQ29sb3Iuci10aGlzLmJlZ2luQ29sb3IucikvdGhpcy5saWZlLHRoaXMuX2dSYXRlPSh0aGlzLmVuZENvbG9yLmctdGhpcy5iZWdpbkNvbG9yLmcpL3RoaXMubGlmZSx0aGlzLl9iUmF0ZT0odGhpcy5lbmRDb2xvci5iLXRoaXMuYmVnaW5Db2xvci5iKS90aGlzLmxpZmUsdGhpcy5fYVJhdGU9dGhpcy5vcGFjaXR5L3RoaXMubGlmZSx0aGlzLnN0YXJ0U2l6ZT1jfHwwLHRoaXMuZW5kU2l6ZT1ofHwwLHRoaXMuZW5kU2l6ZT4wJiZ0aGlzLnN0YXJ0U2l6ZT4wJiYodGhpcy5zaXplUmF0ZT0odGhpcy5lbmRTaXplLXRoaXMuc3RhcnRTaXplKS90aGlzLmxpZmUsdGhpcy5wYXJ0aWNsZVNpemU9dGhpcy5zdGFydFNpemUpfXJldHVybiB0LnByb3RvdHlwZS5raWxsPWZ1bmN0aW9uKCl7dGhpcy5lbWl0dGVyLnJlbW92ZVBhcnRpY2xlKHRoaXMpfSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7aWYodGhpcy5saWZlPXRoaXMubGlmZS10LHRoaXMuZWxhcHNlZE11bHRpcGxpZXI9dGhpcy5lbGFwc2VkTXVsdGlwbGllcit0LHRoaXMubGlmZTwwJiZ0aGlzLmtpbGwoKSx0aGlzLmZhZGVGbGFnJiYodGhpcy5vcGFjaXR5PW0odGhpcy5fYVJhdGUqdGhpcy5saWZlLDFlLTQsMSkpLHRoaXMuc3RhcnRTaXplPjAmJnRoaXMuZW5kU2l6ZT4wJiYodGhpcy5wYXJ0aWNsZVNpemU9bSh0aGlzLnNpemVSYXRlKnQrdGhpcy5wYXJ0aWNsZVNpemUsTWF0aC5taW4odGhpcy5zdGFydFNpemUsdGhpcy5lbmRTaXplKSxNYXRoLm1heCh0aGlzLnN0YXJ0U2l6ZSx0aGlzLmVuZFNpemUpKSksdGhpcy5fY3VycmVudENvbG9yLnI9bSh0aGlzLl9jdXJyZW50Q29sb3Iucit0aGlzLl9yUmF0ZSp0LDAsMjU1KSx0aGlzLl9jdXJyZW50Q29sb3IuZz1tKHRoaXMuX2N1cnJlbnRDb2xvci5nK3RoaXMuX2dSYXRlKnQsMCwyNTUpLHRoaXMuX2N1cnJlbnRDb2xvci5iPW0odGhpcy5fY3VycmVudENvbG9yLmIrdGhpcy5fYlJhdGUqdCwwLDI1NSksdGhpcy5fY3VycmVudENvbG9yLmE9bSh0aGlzLm9wYWNpdHksMWUtNCwxKSx0aGlzLmZvY3VzKXt2YXIgZT10aGlzLmZvY3VzLnN1Yih0aGlzLnBvc2l0aW9uKS5ub3JtYWxpemUoKS5zY2FsZSh0aGlzLmZvY3VzQWNjZWwpLnNjYWxlKHQvMWUzKTt0aGlzLnZlbG9jaXR5PXRoaXMudmVsb2NpdHkuYWRkKGUpfWVsc2UgdGhpcy52ZWxvY2l0eT10aGlzLnZlbG9jaXR5LmFkZCh0aGlzLmFjY2VsZXJhdGlvbi5zY2FsZSh0LzFlMykpO3RoaXMucG9zaXRpb249dGhpcy5wb3NpdGlvbi5hZGQodGhpcy52ZWxvY2l0eS5zY2FsZSh0LzFlMykpLHRoaXMucGFydGljbGVSb3RhdGlvbmFsVmVsb2NpdHkmJih0aGlzLmN1cnJlbnRSb3RhdGlvbj0odGhpcy5jdXJyZW50Um90YXRpb24rdGhpcy5wYXJ0aWNsZVJvdGF0aW9uYWxWZWxvY2l0eSp0LzFlMyklKDIqTWF0aC5QSSkpfSx0LnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQpe2lmKHRoaXMucGFydGljbGVTcHJpdGUpcmV0dXJuIHRoaXMucGFydGljbGVTcHJpdGUucm90YXRpb249dGhpcy5jdXJyZW50Um90YXRpb24sdGhpcy5wYXJ0aWNsZVNwcml0ZS5zY2FsZS5zZXRUbyh0aGlzLnBhcnRpY2xlU2l6ZSx0aGlzLnBhcnRpY2xlU2l6ZSksdm9pZCB0aGlzLnBhcnRpY2xlU3ByaXRlLmRyYXcodCx0aGlzLnBvc2l0aW9uLngsdGhpcy5wb3NpdGlvbi55KTt0aGlzLl9jdXJyZW50Q29sb3IuYT1tKHRoaXMub3BhY2l0eSwxZS00LDEpLHQuZmlsbFN0eWxlPXRoaXMuX2N1cnJlbnRDb2xvci50b1N0cmluZygpLHQuYmVnaW5QYXRoKCksdC5hcmModGhpcy5wb3NpdGlvbi54LHRoaXMucG9zaXRpb24ueSx0aGlzLnBhcnRpY2xlU2l6ZSwwLDIqTWF0aC5QSSksdC5maWxsKCksdC5jbG9zZVBhdGgoKX0sdH0oKSkpLFZuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4scil7cmV0dXJuIHQuY2FsbCh0aGlzLGUsaSxuLHIpfHx0aGlzfXJldHVybiBObihlLHQpLGV9KFp0KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4scil7dmFyIG89dC5jYWxsKHRoaXMsXCJudW1iZXJcIj09dHlwZW9mIGU/e3BvczpuZXcgVihlLGkpLHdpZHRoOm4saGVpZ2h0OnJ9OmUpfHx0aGlzO28ubnVtUGFydGljbGVzPTAsby5pc0VtaXR0aW5nPSEwLG8ucGFydGljbGVzPW51bGwsby5kZWFkUGFydGljbGVzPW51bGwsby5taW5WZWw9MCxvLm1heFZlbD0wLG8uYWNjZWxlcmF0aW9uPW5ldyBWKDAsMCksby5taW5BbmdsZT0wLG8ubWF4QW5nbGU9MCxvLmVtaXRSYXRlPTEsby5wYXJ0aWNsZUxpZmU9MmUzLG8ub3BhY2l0eT0xLG8uZmFkZUZsYWc9ITEsby5mb2N1cz1udWxsLG8uZm9jdXNBY2NlbD0xLG8uc3RhcnRTaXplPW51bGwsby5lbmRTaXplPW51bGwsby5taW5TaXplPTUsby5tYXhTaXplPTUsby5iZWdpbkNvbG9yPUx0LldoaXRlLG8uZW5kQ29sb3I9THQuV2hpdGUsby5wYXJ0aWNsZVNwcml0ZT1udWxsLG8uZW1pdHRlclR5cGU9Rm4uUmVjdGFuZ2xlLG8ucmFkaXVzPTAsby5wYXJ0aWNsZVJvdGF0aW9uYWxWZWxvY2l0eT0wLG8ucmFuZG9tUm90YXRpb249ITEsby5fcGFydGljbGVzVG9FbWl0PTAsby5ib2R5LmNvbGxpZGVyLnR5cGU9bmUuUHJldmVudENvbGxpc2lvbixvLnBhcnRpY2xlcz1uZXcgayxvLmRlYWRQYXJ0aWNsZXM9bmV3IGssby5yYW5kb209bmV3IGY7Zm9yKHZhciBzPTA7czxvLnRyYWl0cy5sZW5ndGg7cysrKW8udHJhaXRzW3NdaW5zdGFuY2VvZiBVZSYmby50cmFpdHMuc3BsaWNlKHMsMSk7cmV0dXJuIG99cmV0dXJuIE5uKGUsdCksZS5wcm90b3R5cGUucmVtb3ZlUGFydGljbGU9ZnVuY3Rpb24odCl7dGhpcy5kZWFkUGFydGljbGVzLnB1c2godCl9LGUucHJvdG90eXBlLmVtaXRQYXJ0aWNsZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0O2UrKyl0aGlzLnBhcnRpY2xlcy5wdXNoKHRoaXMuX2NyZWF0ZVBhcnRpY2xlKCkpfSxlLnByb3RvdHlwZS5jbGVhclBhcnRpY2xlcz1mdW5jdGlvbigpe3RoaXMucGFydGljbGVzLmNsZWFyKCl9LGUucHJvdG90eXBlLl9jcmVhdGVQYXJ0aWNsZT1mdW5jdGlvbigpe3ZhciB0PTAsZT0wLGk9Yih0aGlzLm1pbkFuZ2xlLHRoaXMubWF4QW5nbGUsdGhpcy5yYW5kb20pLG49Yih0aGlzLm1pblZlbCx0aGlzLm1heFZlbCx0aGlzLnJhbmRvbSkscj10aGlzLnN0YXJ0U2l6ZXx8Yih0aGlzLm1pblNpemUsdGhpcy5tYXhTaXplLHRoaXMucmFuZG9tKSxvPW4qTWF0aC5jb3MoaSkscz1uKk1hdGguc2luKGkpO2lmKHRoaXMuZW1pdHRlclR5cGU9PT1Gbi5SZWN0YW5nbGUpdD1iKHRoaXMucG9zLngsdGhpcy5wb3MueCt0aGlzLndpZHRoLHRoaXMucmFuZG9tKSxlPWIodGhpcy5wb3MueSx0aGlzLnBvcy55K3RoaXMuaGVpZ2h0LHRoaXMucmFuZG9tKTtlbHNlIGlmKHRoaXMuZW1pdHRlclR5cGU9PT1Gbi5DaXJjbGUpe3ZhciBhPWIoMCx0aGlzLnJhZGl1cyx0aGlzLnJhbmRvbSk7dD1hKk1hdGguY29zKGkpK3RoaXMucG9zLngsZT1hKk1hdGguc2luKGkpK3RoaXMucG9zLnl9dmFyIGM9bmV3IHFuKHRoaXMsdGhpcy5wYXJ0aWNsZUxpZmUsdGhpcy5vcGFjaXR5LHRoaXMuYmVnaW5Db2xvcix0aGlzLmVuZENvbG9yLG5ldyBWKHQsZSksbmV3IFYobyxzKSx0aGlzLmFjY2VsZXJhdGlvbix0aGlzLnN0YXJ0U2l6ZSx0aGlzLmVuZFNpemUpO3JldHVybiBjLmZhZGVGbGFnPXRoaXMuZmFkZUZsYWcsYy5wYXJ0aWNsZVNpemU9cix0aGlzLnBhcnRpY2xlU3ByaXRlJiYoYy5wYXJ0aWNsZVNwcml0ZT10aGlzLnBhcnRpY2xlU3ByaXRlKSxjLnBhcnRpY2xlUm90YXRpb25hbFZlbG9jaXR5PXRoaXMucGFydGljbGVSb3RhdGlvbmFsVmVsb2NpdHksdGhpcy5yYW5kb21Sb3RhdGlvbiYmKGMuY3VycmVudFJvdGF0aW9uPWIoMCwyKk1hdGguUEksdGhpcy5yYW5kb20pKSx0aGlzLmZvY3VzJiYoYy5mb2N1cz10aGlzLmZvY3VzLmFkZChuZXcgVih0aGlzLnBvcy54LHRoaXMucG9zLnkpKSxjLmZvY3VzQWNjZWw9dGhpcy5mb2N1c0FjY2VsKSxjfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSxpKXt2YXIgbj10aGlzO3QucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsZSxpKSx0aGlzLmlzRW1pdHRpbmcmJih0aGlzLl9wYXJ0aWNsZXNUb0VtaXQrPXRoaXMuZW1pdFJhdGUqKGkvMWUzKSx0aGlzLl9wYXJ0aWNsZXNUb0VtaXQ+MSYmKHRoaXMuZW1pdFBhcnRpY2xlcyhNYXRoLmZsb29yKHRoaXMuX3BhcnRpY2xlc1RvRW1pdCkpLHRoaXMuX3BhcnRpY2xlc1RvRW1pdD10aGlzLl9wYXJ0aWNsZXNUb0VtaXQtTWF0aC5mbG9vcih0aGlzLl9wYXJ0aWNsZXNUb0VtaXQpKSksdGhpcy5wYXJ0aWNsZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudXBkYXRlKGkpfSkpLHRoaXMuZGVhZFBhcnRpY2xlcy5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gbi5wYXJ0aWNsZXMucmVtb3ZlRWxlbWVudCh0KX0pKSx0aGlzLmRlYWRQYXJ0aWNsZXMuY2xlYXIoKX0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0KXt0aGlzLnBhcnRpY2xlcy5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kcmF3KHQpfSkpfSxlLnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuZGVidWdEcmF3LmNhbGwodGhpcyxlKSxlLmZpbGxTdHlsZT1MdC5CbGFjay50b1N0cmluZygpLGUuZmlsbFRleHQoXCJQYXJ0aWNsZXM6IFwiK3RoaXMucGFydGljbGVzLmNvdW50KCksdGhpcy5wb3MueCx0aGlzLnBvcy55KzIwKSx0aGlzLmZvY3VzJiYoZS5maWxsUmVjdCh0aGlzLmZvY3VzLngrdGhpcy5wb3MueCx0aGlzLmZvY3VzLnkrdGhpcy5wb3MueSwzLDMpLHFlKGUsTHQuWWVsbG93LHRoaXMuZm9jdXMueCt0aGlzLnBvcy54LHRoaXMuZm9jdXMueSt0aGlzLnBvcy55LHRoaXMuY2VudGVyLngsdGhpcy5jZW50ZXIueSksZS5maWxsVGV4dChcIkZvY3VzXCIsdGhpcy5mb2N1cy54K3RoaXMucG9zLngsdGhpcy5mb2N1cy55K3RoaXMucG9zLnkpKX0sZX0oaWkpKSksR249e0FjdGlvbnM6b30sWG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LmNyZWF0ZT1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2N1cnJlbnRHcm91cD50aGlzLl9NQVhfR1JPVVBTKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBoYXZlIG1vcmUgdGhhbiBcIit0aGlzLl9NQVhfR1JPVVBTK1wiIGNvbGxpc2lvbiBncm91cHNcIik7aWYodGhpcy5fZ3JvdXBzLmdldCh0KSl0aHJvdyBuZXcgRXJyb3IoXCJDb2xsaXNpb24gZ3JvdXAgXCIrdCtcIiBhbHJlYWR5IGV4aXN0c1wiKTt2YXIgaT1uZXcgWWUodCx0aGlzLl9jdXJyZW50Qml0LHZvaWQgMCE9PWU/ZTp+dGhpcy5fY3VycmVudEJpdCk7cmV0dXJuIHRoaXMuX2N1cnJlbnRCaXQ9dGhpcy5fY3VycmVudEJpdDw8MXwwLHRoaXMuX2N1cnJlbnRHcm91cCsrLHRoaXMuX2dyb3Vwcy5zZXQodCxpKSxpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImdyb3Vwc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9ncm91cHMudmFsdWVzKCkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQuZ3JvdXBCeU5hbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dyb3Vwcy5nZXQodCl9LHQucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9ncm91cHM9bmV3IE1hcCx0aGlzLl9jdXJyZW50Qml0PXRoaXMuX1NUQVJUSU5HX0JJVCx0aGlzLl9jdXJyZW50R3JvdXA9MX0sdC5fU1RBUlRJTkdfQklUPTEsdC5fTUFYX0dST1VQUz0zMix0Ll9jdXJyZW50R3JvdXA9MSx0Ll9jdXJyZW50Qml0PXQuX1NUQVJUSU5HX0JJVCx0Ll9ncm91cHM9bmV3IE1hcCx0fSgpLEtuPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCksWW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbixyKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxpLG4scil8fHRoaXN9cmV0dXJuIEtuKGUsdCksZX0oWnQoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4pe3RoaXMuc3ByaXRlcz1bXSx0aGlzLmN1cnJlbnRGcmFtZT0wLHRoaXMuX29sZFRpbWU9RGF0ZS5ub3coKSx0aGlzLmFuY2hvcj1WLlplcm8sdGhpcy5yb3RhdGlvbj0wLHRoaXMuc2NhbGU9Vi5PbmUsdGhpcy5sb29wPSEwLHRoaXMuZnJlZXplRnJhbWU9LTEsdGhpcy5mbGlwVmVydGljYWw9ITEsdGhpcy5mbGlwSG9yaXpvbnRhbD0hMSx0aGlzLmRyYXdXaWR0aD0wLHRoaXMuZHJhd0hlaWdodD0wLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wO3ZhciByPXQ7aWYodCYmISh0IGluc3RhbmNlb2YgSW4pKXt2YXIgbz10O3I9by5lbmdpbmUsZT1vLnNwcml0ZXMsaT1vLnNwZWVkLG49by5sb29wfXRoaXMuc3ByaXRlcz1lLHRoaXMuc3BlZWQ9aSx0aGlzLl9lbmdpbmU9cixudWxsIT1uJiYodGhpcy5sb29wPW4pLGUmJmVbMF0mJih0aGlzLmRyYXdIZWlnaHQ9ZVswXT9lWzBdLmRyYXdIZWlnaHQ6MCx0aGlzLmRyYXdXaWR0aD1lWzBdP2VbMF0uZHJhd1dpZHRoOjAsdGhpcy53aWR0aD1lWzBdP2VbMF0ud2lkdGg6MCx0aGlzLmhlaWdodD1lWzBdP2VbMF0uaGVpZ2h0OjAsdGhpcy5mcmVlemVGcmFtZT1lLmxlbmd0aC0xKX1yZXR1cm4gdC5wcm90b3R5cGUub3BhY2l0eT1mdW5jdGlvbih0KXt0aGlzLmFkZEVmZmVjdChuZXcgVXQodCkpfSx0LnByb3RvdHlwZS5ncmF5c2NhbGU9ZnVuY3Rpb24oKXt0aGlzLmFkZEVmZmVjdChuZXcgSHQpfSx0LnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXt0aGlzLmFkZEVmZmVjdChuZXcgV3QpfSx0LnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKHQpe3RoaXMuYWRkRWZmZWN0KG5ldyBLdCh0KSl9LHQucHJvdG90eXBlLmNvbG9yaXplPWZ1bmN0aW9uKHQpe3RoaXMuYWRkRWZmZWN0KG5ldyBOdCh0KSl9LHQucHJvdG90eXBlLmxpZ2h0ZW49ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9LjEpLHRoaXMuYWRkRWZmZWN0KG5ldyBxdCh0KSl9LHQucHJvdG90eXBlLmRhcmtlbj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5hZGRFZmZlY3QobmV3IFZ0KHQpKX0sdC5wcm90b3R5cGUuc2F0dXJhdGU9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9LjEpLHRoaXMuYWRkRWZmZWN0KG5ldyBHdCh0KSl9LHQucHJvdG90eXBlLmRlc2F0dXJhdGU9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9LjEpLHRoaXMuYWRkRWZmZWN0KG5ldyBYdCh0KSl9LHQucHJvdG90eXBlLmFkZEVmZmVjdD1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5zcHJpdGVzKXRoaXMuc3ByaXRlc1tlXS5hZGRFZmZlY3QodCl9LHQucHJvdG90eXBlLnJlbW92ZUVmZmVjdD1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5zcHJpdGVzKXRoaXMuc3ByaXRlc1tlXS5yZW1vdmVFZmZlY3QodCl9LHQucHJvdG90eXBlLmNsZWFyRWZmZWN0cz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnNwcml0ZXMpdGhpcy5zcHJpdGVzW3RdLmNsZWFyRWZmZWN0cygpfSx0LnByb3RvdHlwZS5fc2V0QW5jaG9yPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnNwcml0ZXMpdGhpcy5zcHJpdGVzW2VdLmFuY2hvci5zZXRUbyh0LngsdC55KX0sdC5wcm90b3R5cGUuX3NldFJvdGF0aW9uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnNwcml0ZXMpdGhpcy5zcHJpdGVzW2VdLnJvdGF0aW9uPXR9LHQucHJvdG90eXBlLl9zZXRTY2FsZT1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5zcHJpdGVzKXRoaXMuc3ByaXRlc1tlXS5zY2FsZT10fSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuY3VycmVudEZyYW1lPTB9LHQucHJvdG90eXBlLmlzRG9uZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmxvb3AmJnRoaXMuY3VycmVudEZyYW1lPj10aGlzLnNwcml0ZXMubGVuZ3RofSx0LnByb3RvdHlwZS50aWNrPWZ1bmN0aW9uKCl7dmFyIHQ9RGF0ZS5ub3coKTt0LXRoaXMuX29sZFRpbWU+dGhpcy5zcGVlZCYmKHRoaXMuY3VycmVudEZyYW1lPXRoaXMubG9vcD8odGhpcy5jdXJyZW50RnJhbWUrMSkldGhpcy5zcHJpdGVzLmxlbmd0aDp0aGlzLmN1cnJlbnRGcmFtZSsxLHRoaXMuX29sZFRpbWU9dCl9LHQucHJvdG90eXBlLl91cGRhdGVWYWx1ZXM9ZnVuY3Rpb24oKXt0aGlzLl9zZXRBbmNob3IodGhpcy5hbmNob3IpLHRoaXMuX3NldFJvdGF0aW9uKHRoaXMucm90YXRpb24pLHRoaXMuX3NldFNjYWxlKHRoaXMuc2NhbGUpfSx0LnByb3RvdHlwZS5za2lwPWZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudEZyYW1lPSh0aGlzLmN1cnJlbnRGcmFtZSt0KSV0aGlzLnNwcml0ZXMubGVuZ3RofSx0LnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQsZSxpKXt0IGluc3RhbmNlb2YgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEP3RoaXMuX2RyYXdXaXRoT3B0aW9ucyh7Y3R4OnQseDplLHk6aSxmbGlwSG9yaXpvbnRhbDp0aGlzLmZsaXBIb3Jpem9udGFsLGZsaXBWZXJ0aWNhbDp0aGlzLmZsaXBWZXJ0aWNhbH0pOnRoaXMuX2RyYXdXaXRoT3B0aW9ucyh0KX0sdC5wcm90b3R5cGUuX2RyYXdXaXRoT3B0aW9ucz1mdW5jdGlvbih0KXt2YXIgZTt0aGlzLnRpY2soKSx0aGlzLl91cGRhdGVWYWx1ZXMoKSx0aGlzLmN1cnJlbnRGcmFtZTx0aGlzLnNwcml0ZXMubGVuZ3RoJiYoZT10aGlzLnNwcml0ZXNbdGhpcy5jdXJyZW50RnJhbWVdKS5kcmF3KHQpLC0xIT09dGhpcy5mcmVlemVGcmFtZSYmdGhpcy5jdXJyZW50RnJhbWU+PXRoaXMuc3ByaXRlcy5sZW5ndGgmJihlPXRoaXMuc3ByaXRlc1ttKHRoaXMuZnJlZXplRnJhbWUsMCx0aGlzLnNwcml0ZXMubGVuZ3RoLTEpXSkuZHJhdyh0KSxlJiYodGhpcy5kcmF3V2lkdGg9ZS5kcmF3V2lkdGgsdGhpcy5kcmF3SGVpZ2h0PWUuZHJhd0hlaWdodCl9LHQucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24odCxlKXt0aGlzLnJlc2V0KCksdGhpcy5fZW5naW5lLnBsYXlBbmltYXRpb24odGhpcyx0LGUpfSx0fSgpKSksWm49ZnVuY3Rpb24oKXtyZXR1cm4oWm49T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHIgaW4gZT1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxRbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5saW5lV2lkdGg9NSx0aGlzLmZpbGxlZD0hMSx0aGlzLl9wb2ludHM9W10sdGhpcy5hbmNob3I9Vi5aZXJvLHRoaXMub2Zmc2V0PVYuWmVybyx0aGlzLnJvdGF0aW9uPTAsdGhpcy5zY2FsZT1WLk9uZSx0aGlzLm9wYWNpdHk9MSx0aGlzLl9wb2ludHM9dDt2YXIgZT10aGlzLl9wb2ludHMucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLm1pbih0LGUueCl9KSwwKSxpPXRoaXMuX3BvaW50cy5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWF4KHQsZS54KX0pLDApO3RoaXMuZHJhd1dpZHRoPWktZTt2YXIgbj10aGlzLl9wb2ludHMucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLm1pbih0LGUueSl9KSwwKSxyPXRoaXMuX3BvaW50cy5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWF4KHQsZS55KX0pLDApO3RoaXMuZHJhd0hlaWdodD1yLW4sdGhpcy5oZWlnaHQ9dGhpcy5kcmF3SGVpZ2h0LHRoaXMud2lkdGg9dGhpcy5kcmF3V2lkdGh9cmV0dXJuIHQucHJvdG90eXBlLmFkZEVmZmVjdD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucmVtb3ZlRWZmZWN0PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5jbGVhckVmZmVjdHM9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQsZSxpKXt0IGluc3RhbmNlb2YgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEP3RoaXMuX2RyYXdXaXRoT3B0aW9ucyh7Y3R4OnQseDplLHk6aX0pOnRoaXMuX2RyYXdXaXRoT3B0aW9ucyh0KX0sdC5wcm90b3R5cGUuX2RyYXdXaXRoT3B0aW9ucz1mdW5jdGlvbih0KXt2YXIgZT1abihabih7fSx0KSx7cm90YXRpb246dih0LnJvdGF0aW9uLHRoaXMucm90YXRpb24pLGRyYXdXaWR0aDp2KHQuZHJhd1dpZHRoLHRoaXMuZHJhd1dpZHRoKSxkcmF3SGVpZ2h0OnYodC5kcmF3SGVpZ2h0LHRoaXMuZHJhd0hlaWdodCksZmxpcEhvcml6b250YWw6dih0LmZsaXBIb3Jpem9udGFsLHRoaXMuZmxpcEhvcml6b250YWwpLGZsaXBWZXJ0aWNhbDp2KHQuZmxpcFZlcnRpY2FsLHRoaXMuZmxpcFZlcnRpY2FsKSxhbmNob3I6dih0LmFuY2hvcix0aGlzLmFuY2hvciksb2Zmc2V0OnYodC5vZmZzZXQsdGhpcy5vZmZzZXQpLG9wYWNpdHk6dih0Lm9wYWNpdHksdGhpcy5vcGFjaXR5KX0pLGk9ZS5jdHgsbj1lLngscj1lLnksbz1lLnJvdGF0aW9uLHM9ZS5kcmF3V2lkdGgsYT1lLmRyYXdIZWlnaHQsYz1lLmFuY2hvcixoPWUub2Zmc2V0LHU9ZS5vcGFjaXR5LGw9ZS5mbGlwSG9yaXpvbnRhbCxwPWUuZmxpcFZlcnRpY2FsLGQ9cypjLngraC54K24sZj1hKmMueStoLnkrcjtpLnNhdmUoKSxpLnRyYW5zbGF0ZShkLGYpLGkuc2NhbGUodGhpcy5zY2FsZS54LHRoaXMuc2NhbGUueSksaS5yb3RhdGUobyksaS5iZWdpblBhdGgoKSxpLmxpbmVXaWR0aD10aGlzLmxpbmVXaWR0aDt2YXIgZz10aGlzLl9wb2ludHNbMF07aS5tb3ZlVG8oZy54LGcueSk7Zm9yKHZhciB5PTAsXz10aGlzLl9wb2ludHMubGVuZ3RoO3k8Xzt5KyspaS5saW5lVG8odGhpcy5fcG9pbnRzW3ldLngsdGhpcy5fcG9pbnRzW3ldLnkpO2kubGluZVRvKGcueCxnLnkpLGkuY2xvc2VQYXRoKCksdGhpcy5maWxsZWQmJihpLmZpbGxTdHlsZT10aGlzLmZpbGxDb2xvci50b1N0cmluZygpLGkuZmlsbCgpKSxpLnN0cm9rZVN0eWxlPXRoaXMubGluZUNvbG9yLnRvU3RyaW5nKCksbCYmKGkudHJhbnNsYXRlKHMsMCksaS5zY2FsZSgtMSwxKSkscCYmKGkudHJhbnNsYXRlKDAsYSksaS5zY2FsZSgxLC0xKSk7dmFyIG09aS5nbG9iYWxBbHBoYTtpLmdsb2JhbEFscGhhPXYodSwxKSxpLnN0cm9rZSgpLGkuZ2xvYmFsQWxwaGE9bSxpLnJlc3RvcmUoKX0sdH0oKSxKbj1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLCRuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4scixvLHMpe3JldHVybiB0LmNhbGwodGhpcyxlLGksbixyLG8scyl8fHRoaXN9cmV0dXJuIEpuKGUsdCksZX0oWnQoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4scixvKXt2YXIgcz10aGlzO3RoaXMuc3ByaXRlcz1bXSx0aGlzLmltYWdlPW51bGwsdGhpcy5jb2x1bW5zPTAsdGhpcy5yb3dzPTAsdGhpcy5zcFdpZHRoPTAsdGhpcy5zcEhlaWdodD0wLHRoaXMuc3BhY2luZz0wO3ZhciBhPSExO2lmKHQgaW5zdGFuY2VvZiBBcnJheT90aGlzLnNwcml0ZXM9dDooIXR8fHQgaW5zdGFuY2VvZiBpZT8odGhpcy5pbWFnZT10LHRoaXMuY29sdW1ucz1lLHRoaXMucm93cz1pLHRoaXMuc3BXaWR0aD1uLHRoaXMuc3BIZWlnaHQ9cix0aGlzLnNwYWNpbmc9b3x8MCk6KHRoaXMuY29sdW1ucz10LmNvbHVtbnMsdGhpcy5yb3dzPXQucm93cyx0aGlzLnNwV2lkdGg9dC5zcFdpZHRoLHRoaXMuc3BIZWlnaHQ9dC5zcEhlaWdodCx0aGlzLmltYWdlPXQuaW1hZ2UsdGhpcy5zcGFjaW5nPXQuc3BhY2luZ3x8MCksdGhpcy5zcHJpdGVzPW5ldyBBcnJheSh0aGlzLmNvbHVtbnMqdGhpcy5yb3dzKSxhPSEwKSx0aGlzLmltYWdlIGluc3RhbmNlb2YgaWUpe3ZhciBjPSExLGg9ITE7aWYodGhpcy5pbWFnZS5sb2FkZWQudGhlbigoZnVuY3Rpb24odCl7Yz1zLnNwV2lkdGgqcy5jb2x1bW5zPnQubmF0dXJhbFdpZHRoLGg9cy5zcEhlaWdodCpzLnJvd3M+dC5uYXR1cmFsSGVpZ2h0fSkpLGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJTcHJpdGVTaGVldCBzcGVjaWZpZWQgaXMgd2lkZXIsIFwiK3RoaXMuY29sdW1ucytcIiBjb2xzIHggXCIrdGhpcy5zcFdpZHRoK1wiIHBpeGVscyA+IFwiK3RoaXMuaW1hZ2UuaW1hZ2UubmF0dXJhbFdpZHRoK1wiIHBpeGVscyB0aGFuIGltYWdlIHdpZHRoXCIpO2lmKGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJTcHJpdGVTaGVldCBzcGVjaWZpZWQgaXMgdGFsbGVyLCBcIit0aGlzLnJvd3MrXCIgcm93cyB4IFwiK3RoaXMuc3BIZWlnaHQrXCIgcGl4ZWxzID4gXCIrdGhpcy5pbWFnZS5pbWFnZS5uYXR1cmFsSGVpZ2h0K1wiIHBpeGVscyB0aGFuIGltYWdlIGhlaWdodFwiKX1pZihhKWZvcih2YXIgdT0wO3U8dGhpcy5yb3dzO3UrKylmb3IodmFyIGw9MDtsPHRoaXMuY29sdW1ucztsKyspdGhpcy5zcHJpdGVzW2wrdSp0aGlzLmNvbHVtbnNdPW5ldyB0ZSh0aGlzLmltYWdlLGwqdGhpcy5zcFdpZHRoK3RoaXMuc3BhY2luZypsK3RoaXMuc3BhY2luZyx1KnRoaXMuc3BIZWlnaHQrdGhpcy5zcGFjaW5nKnUrdGhpcy5zcGFjaW5nLHRoaXMuc3BXaWR0aCx0aGlzLnNwSGVpZ2h0KX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uQnlJbmRpY2VzPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLHI9ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBuLnNwcml0ZXNbdF19KSk7cmV0dXJuIHI9ci5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNsb25lKCl9KSksbmV3IFluKHQscixpKX0sdC5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uQmV0d2Vlbj1mdW5jdGlvbih0LGUsaSxuKXt2YXIgcj10aGlzLnNwcml0ZXMuc2xpY2UoZSxpKTtyZXR1cm4gcj1yLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2xvbmUoKX0pKSxuZXcgWW4odCxyLG4pfSx0LnByb3RvdHlwZS5nZXRBbmltYXRpb25Gb3JBbGw9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnNwcml0ZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jbG9uZSgpfSkpO3JldHVybiBuZXcgWW4odCxpLGUpfSx0LnByb3RvdHlwZS5nZXRTcHJpdGU9ZnVuY3Rpb24odCl7aWYodD49MCYmdDx0aGlzLnNwcml0ZXMubGVuZ3RoKXJldHVybiB0aGlzLnNwcml0ZXNbdF07dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbmRleDogXCIrdCl9LHQucHJvdG90eXBlLmdldEFuaW1hdGlvbkJ5Q29vcmRzPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49MCxyPTAsbz1uZXcgQXJyYXkoZS5sZW5ndGgpLHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIGE9ZVtzXTthLmltYWdlPWEuaW1hZ2V8fHRoaXMuaW1hZ2Usbj1NYXRoLm1heChuLGEuZHJhd1dpZHRoKSxyPU1hdGgubWF4KHIsYS5kcmF3SGVpZ2h0KSxvW3NdPW5ldyB0ZShhKX12YXIgYz1uZXcgWW4odCxvLGkpO3JldHVybiBjLmRyYXdXaWR0aD1uLGMuZHJhd0hlaWdodD1yLGN9LHR9KCkpKSx0cj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuLHIsbyxzLGEsYyl7cmV0dXJuIHQuY2FsbCh0aGlzLGUsaSxuLHIsbyxzLGEsYyl8fHRoaXN9cmV0dXJuIEpuKGUsdCksZX0oWnQoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbixyLG8scyxhLGMpe3ZhciBoPXQuY2FsbCh0aGlzLGUgaW5zdGFuY2VvZiBpZT97aW1hZ2U6ZSxzcFdpZHRoOnMsc3BIZWlnaHQ6YSxyb3dzOm8sY29sdW1uczpyLHNwYWNpbmc6Y3x8MH06ZSl8fHRoaXM7cmV0dXJuIGguX2N1cnJlbnRDb2xvcj1MdC5CbGFjayxoLl9jdXJyZW50T3BhY2l0eT0xLGguX3Nwcml0ZXM9e30saC5fdGV4dFNoYWRvd09uPSExLGguX3RleHRTaGFkb3dEaXJ0eT0hMCxoLl90ZXh0U2hhZG93Q29sb3I9THQuQmxhY2ssaC5fdGV4dFNoYWRvd1Nwcml0ZXM9e30saC5fc2hhZG93T2Zmc2V0WD01LGguX3NoYWRvd09mZnNldFk9NSwhZXx8ZSBpbnN0YW5jZW9mIGllfHwoaT1lLmFscGhhYmV0LG49ZS5jYXNlSW5zZW5zaXRpdmUpLGguX2FscGhhYmV0PWksaC5fY2FzZUluc2Vuc2l0aXZlPW4saC5fc3ByaXRlcz1oLmdldFRleHRTcHJpdGVzKCksaH1yZXR1cm4gSm4oZSx0KSxlLnByb3RvdHlwZS5nZXRUZXh0U3ByaXRlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPTA7ZTx0aGlzLl9hbHBoYWJldC5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLl9hbHBoYWJldFtlXTt0aGlzLl9jYXNlSW5zZW5zaXRpdmUmJihpPWkudG9Mb3dlckNhc2UoKSksdFtpXT10aGlzLnNwcml0ZXNbZV0uY2xvbmUoKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuc2V0VGV4dFNoYWRvdz1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuIGluIHRoaXMuX3RleHRTaGFkb3dPbj0hMCx0aGlzLl9zaGFkb3dPZmZzZXRYPXQsdGhpcy5fc2hhZG93T2Zmc2V0WT1lLHRoaXMuX3RleHRTaGFkb3dDb2xvcj1pLmNsb25lKCksdGhpcy5fdGV4dFNoYWRvd0RpcnR5PSEwLHRoaXMuX3Nwcml0ZXMpdGhpcy5fdGV4dFNoYWRvd1Nwcml0ZXNbbl09dGhpcy5fc3ByaXRlc1tuXS5jbG9uZSgpfSxlLnByb3RvdHlwZS51c2VUZXh0U2hhZG93PWZ1bmN0aW9uKHQpe3RoaXMuX3RleHRTaGFkb3dPbj10LHQmJnRoaXMuc2V0VGV4dFNoYWRvdyg1LDUsdGhpcy5fdGV4dFNoYWRvd0NvbG9yKX0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0LGUsaSxuLHIpe2lmKHI9dGhpcy5fcGFyc2VPcHRpb25zKHIpLHRoaXMuX2N1cnJlbnRDb2xvci50b1N0cmluZygpIT09ci5jb2xvci50b1N0cmluZygpfHx0aGlzLl9jdXJyZW50T3BhY2l0eSE9PXIub3BhY2l0eSlmb3IodmFyIG8gaW4gdGhpcy5fY3VycmVudE9wYWNpdHk9ci5vcGFjaXR5LHRoaXMuX2N1cnJlbnRDb2xvcj1yLmNvbG9yLHRoaXMuX3Nwcml0ZXMpdGhpcy5fc3ByaXRlc1tvXS5jbGVhckVmZmVjdHMoKSx0aGlzLl9zcHJpdGVzW29dLmZpbGwoci5jb2xvciksdGhpcy5fc3ByaXRlc1tvXS5vcGFjaXR5KHIub3BhY2l0eSk7aWYodGhpcy5fdGV4dFNoYWRvd09uJiZ0aGlzLl90ZXh0U2hhZG93RGlydHkmJnRoaXMuX3RleHRTaGFkb3dDb2xvcil7Zm9yKHZhciBzIGluIHRoaXMuX3RleHRTaGFkb3dTcHJpdGVzKXRoaXMuX3RleHRTaGFkb3dTcHJpdGVzW3NdLmNsZWFyRWZmZWN0cygpLHRoaXMuX3RleHRTaGFkb3dTcHJpdGVzW3NdLmFkZEVmZmVjdChuZXcgS3QodGhpcy5fdGV4dFNoYWRvd0NvbG9yLmNsb25lKCkpKTt0aGlzLl90ZXh0U2hhZG93RGlydHk9ITF9dmFyIGE9dGhpcy5zcHJpdGVzWzBdLGM9YS5kcmF3SGVpZ2h0LGg9ci5mb250U2l6ZS9jLHU9ZS5sZW5ndGgqYS5kcmF3V2lkdGgqaCtlLmxlbmd0aCpyLmxldHRlclNwYWNpbmcsbD1pO3IudGV4dEFsaWduPT09TWkuTGVmdHx8ci50ZXh0QWxpZ249PT1NaS5TdGFydD9sPWk6ci50ZXh0QWxpZ249PT1NaS5SaWdodHx8ci50ZXh0QWxpZ249PT1NaS5FbmQ/bD1pLXU6ci50ZXh0QWxpZ249PT1NaS5DZW50ZXImJihsPWktdS8yKTt2YXIgcD1uLWMqaDtyLmJhc2VBbGlnbj09PURpLlRvcHx8ci5iYXNlQWxpZ249PT1EaS5IYW5naW5nP3A9bjpyLmJhc2VBbGlnbj09PURpLklkZW9ncmFwaGljfHxyLmJhc2VBbGlnbj09PURpLkJvdHRvbXx8ci5iYXNlQWxpZ249PT1EaS5BbHBoYWJldGljP3A9bi1jKmg6ci5iYXNlQWxpZ249PT1EaS5NaWRkbGUmJihwPW4tYypoLzIpO2Zvcih2YXIgZD0wO2Q8ZS5sZW5ndGg7ZCsrKXt2YXIgZj1lW2RdO3RoaXMuX2Nhc2VJbnNlbnNpdGl2ZSYmKGY9Zi50b0xvd2VyQ2FzZSgpKTt0cnl7dGhpcy5fdGV4dFNoYWRvd09uJiYodGhpcy5fdGV4dFNoYWRvd1Nwcml0ZXNbZl0uc2NhbGUueD1oLHRoaXMuX3RleHRTaGFkb3dTcHJpdGVzW2ZdLnNjYWxlLnk9aCx0aGlzLl90ZXh0U2hhZG93U3ByaXRlc1tmXS5kcmF3KHQsbCt0aGlzLl9zaGFkb3dPZmZzZXRYLHArdGhpcy5fc2hhZG93T2Zmc2V0WSkpO3ZhciBnPXRoaXMuX3Nwcml0ZXNbZl07Zy5zY2FsZS54PWgsZy5zY2FsZS55PWgsZy5kcmF3KHQsbCxwKSxsKz1nLmRyYXdXaWR0aCtyLmxldHRlclNwYWNpbmd9Y2F0Y2godCl7Ui5nZXRJbnN0YW5jZSgpLmVycm9yKFwiU3ByaXRlRm9udCBFcnJvciBkcmF3aW5nIGNoYXIgXCIrZil9fX0sZS5wcm90b3R5cGUuX3BhcnNlT3B0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm57Zm9udFNpemU6dC5mb250U2l6ZXx8MTAsbGV0dGVyU3BhY2luZzp0LmxldHRlclNwYWNpbmd8fDAsY29sb3I6dC5jb2xvcnx8THQuQmxhY2ssdGV4dEFsaWduOnZvaWQgMD09PXR5cGVvZiB0LnRleHRBbGlnbj9NaS5MZWZ0OnQudGV4dEFsaWduLGJhc2VBbGlnbjp2b2lkIDA9PT10eXBlb2YgdC5iYXNlQWxpZ24/RGkuQm90dG9tOnQuYmFzZUFsaWduLG1heFdpZHRoOnQubWF4V2lkdGh8fC0xLG9wYWNpdHk6dC5vcGFjaXR5fHwwfX0sZX0oJG4pKSksZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnR5cGU9e2FueTpcIlwiLGJsb2I6XCJibG9iXCIsanNvbjpcImpzb25cIix0ZXh0OlwidGV4dFwiLGRvY3VtZW50OlwiZG9jdW1lbnRcIixhcnJheWJ1ZmZlcjpcImFycmF5YnVmZmVyXCJ9LHR9KCk7ZnVuY3Rpb24gaXIodCxlLGkpe3JldHVybiBlK3QqKGktZSl9ZnVuY3Rpb24gbnIodCl7cmV0dXJuIHQqdCp0Kih0Kig2KnQtMTUpKzEwKX12YXIgcnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3Blcm09WzE1MSwxNjAsMTM3LDkxLDkwLDE1LDEzMSwxMywyMDEsOTUsOTYsNTMsMTk0LDIzMyw3LDIyNSwxNDAsMzYsMTAzLDMwLDY5LDE0Miw4LDk5LDM3LDI0MCwyMSwxMCwyMywxOTAsNiwxNDgsMjQ3LDEyMCwyMzQsNzUsMCwyNiwxOTcsNjIsOTQsMjUyLDIxOSwyMDMsMTE3LDM1LDExLDMyLDU3LDE3NywzMyw4OCwyMzcsMTQ5LDU2LDg3LDE3NCwyMCwxMjUsMTM2LDE3MSwxNjgsNjgsMTc1LDc0LDE2NSw3MSwxMzQsMTM5LDQ4LDI3LDE2Niw3NywxNDYsMTU4LDIzMSw4MywxMTEsMjI5LDEyMiw2MCwyMTEsMTMzLDIzMCwyMjAsMTA1LDkyLDQxLDU1LDQ2LDI0NSw0MCwyNDQsMTAyLDE0Myw1NCw2NSwyNSw2MywxNjEsMSwyMTYsODAsNzMsMjA5LDc2LDEzMiwxODcsMjA4LDg5LDE4LDE2OSwyMDAsMTk2LDEzNSwxMzAsMTE2LDE4OCwxNTksODYsMTY0LDEwMCwxMDksMTk4LDE3MywxODYsMyw2NCw1MiwyMTcsMjI2LDI1MCwxMjQsMTIzLDUsMjAyLDM4LDE0NywxMTgsMTI2LDI1NSw4Miw4NSwyMTIsMjA3LDIwNiw1OSwyMjcsNDcsMTYsNTgsMTcsMTgyLDE4OSwyOCw0MiwyMjMsMTgzLDE3MCwyMTMsMTE5LDI0OCwxNTIsMiw0NCwxNTQsMTYzLDcwLDIyMSwxNTMsMTAxLDE1NSwxNjcsNDMsMTcyLDksMTI5LDIyLDM5LDI1MywxOSw5OCwxMDgsMTEwLDc5LDExMywyMjQsMjMyLDE3OCwxODUsMTEyLDEwNCwyMTgsMjQ2LDk3LDIyOCwyNTEsMzQsMjQyLDE5MywyMzgsMjEwLDE0NCwxMiwxOTEsMTc5LDE2MiwyNDEsODEsNTEsMTQ1LDIzNSwyNDksMTQsMjM5LDEwNyw0OSwxOTIsMjE0LDMxLDE4MSwxOTksMTA2LDE1NywxODQsODQsMjA0LDE3NiwxMTUsMTIxLDUwLDQ1LDEyNyw0LDE1MCwyNTQsMTM4LDIzNiwyMDUsOTMsMjIyLDExNCw2NywyOSwyNCw3MiwyNDMsMTQxLDEyOCwxOTUsNzgsNjYsMjE1LDYxLDE1NiwxODBdLHRoaXMuX3A9bmV3IFVpbnQ4QXJyYXkoNTEyKSx0aGlzLl9kZWZhdWx0UGVybGluT3B0aW9ucz17b2N0YXZlczoxLGZyZXF1ZW5jeToxLGFtcGxpdHVkZToxLHBlcnNpc3RhbmNlOi41fSx0PXkoe30sdGhpcy5fZGVmYXVsdFBlcmxpbk9wdGlvbnMsdCksdGhpcy5wZXJzaXN0YW5jZT10LnBlcnNpc3RhbmNlLHRoaXMuYW1wbGl0dWRlPXQuYW1wbGl0dWRlLHRoaXMuZnJlcXVlbmN5PXQuZnJlcXVlbmN5LHRoaXMub2N0YXZlcz10Lm9jdGF2ZXMsdC5zZWVkP3RoaXMuX3JhbmRvbT1uZXcgZih0LnNlZWQpOnRoaXMuX3JhbmRvbT1uZXcgZix0aGlzLl9wZXJtPXRoaXMuX3JhbmRvbS5zaHVmZmxlKHRoaXMuX3Blcm0pO2Zvcih2YXIgZT0wO2U8NTEyO2UrKyl0aGlzLl9wW2VdPTI1NSZ0aGlzLl9wZXJtW2UlMjU2XX1yZXR1cm4gdC5wcm90b3R5cGUubm9pc2U9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5hbXBsaXR1ZGUsZT10aGlzLmZyZXF1ZW5jeSxpPTAsbj0wLHI9MDtyPHRoaXMub2N0YXZlcztyKyspe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDE6aSs9dGhpcy5fbm9pc2UxZChhcmd1bWVudHNbMF0qZSkqdDticmVhaztjYXNlIDI6aSs9dGhpcy5fbm9pc2UyZChhcmd1bWVudHNbMF0qZSxhcmd1bWVudHNbMV0qZSkqdDticmVhaztjYXNlIDM6aSs9dGhpcy5fbm9pc2UzZChhcmd1bWVudHNbMF0qZSxhcmd1bWVudHNbMV0qZSxhcmd1bWVudHNbMl0qZSkqdDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIGZvciBwZXJsaW4gbm9pc2VcIil9bis9dCx0Kj10aGlzLnBlcnNpc3RhbmNlLGUqPTJ9cmV0dXJuIGkvbn0sdC5wcm90b3R5cGUuc2VxdWVuY2U9ZnVuY3Rpb24odCxlKXtlfHwoZT0xL3QpO2Zvcih2YXIgaT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspaVtuXT10aGlzLm5vaXNlKG4qZSk7cmV0dXJuIGl9LHQucHJvdG90eXBlLmdyaWQ9ZnVuY3Rpb24odCxlLGkpe2l8fChpPTEvTWF0aC5taW4odCxlKSk7Zm9yKHZhciBuPW5ldyBBcnJheSh0KmUpLHI9MDtyPGU7cisrKWZvcih2YXIgbz0wO288dDtvKyspbltvK3IqdF09dGhpcy5ub2lzZShvKmkscippKTtyZXR1cm4gbn0sdC5wcm90b3R5cGUuX2dyYWRpZW50M2Q9ZnVuY3Rpb24odCxlLGksbil7dmFyIHI9MTUmdCxvPXI8OD9lOmkscz1yPDQ/aToxMj09PXJ8fDE0PT09cj9lOm47cmV0dXJuKDA9PSgxJnIpP286LW8pKygwPT0oMiZyKT9zOi1zKX0sdC5wcm90b3R5cGUuX2dyYWRpZW50MmQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPTA9PSgxJnQpP2U6aTtyZXR1cm4gMD09KDImdCk/LW46bn0sdC5wcm90b3R5cGUuX2dyYWRpZW50MWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09KDEmdCk/LWU6ZX0sdC5wcm90b3R5cGUuX25vaXNlMWQ9ZnVuY3Rpb24odCl7dmFyIGU9MjU1Jk1hdGguZmxvb3IodCk7cmV0dXJuKGlyKG5yKHQtPU1hdGguZmxvb3IodCkpLHRoaXMuX2dyYWRpZW50MWQodGhpcy5fcFtlXSx0KSx0aGlzLl9ncmFkaWVudDFkKHRoaXMuX3BbZSsxXSx0LTEpKSsxKS8yfSx0LnByb3RvdHlwZS5fbm9pc2UyZD1mdW5jdGlvbih0LGUpe3ZhciBpPTI1NSZNYXRoLmZsb29yKHQpLG49MjU1Jk1hdGguZmxvb3IoZSk7dC09TWF0aC5mbG9vcih0KSxlLT1NYXRoLmZsb29yKGUpO3ZhciByPW5yKHQpLG89bnIoZSkscz10aGlzLl9wW2ldK24sYT10aGlzLl9wW2krMV0rbjtyZXR1cm4oaXIobyxpcihyLHRoaXMuX2dyYWRpZW50MmQodGhpcy5fcFtzXSx0LGUpLHRoaXMuX2dyYWRpZW50MmQodGhpcy5fcFthXSx0LTEsZSkpLGlyKHIsdGhpcy5fZ3JhZGllbnQyZCh0aGlzLl9wW3MrMV0sdCxlLTEpLHRoaXMuX2dyYWRpZW50MmQodGhpcy5fcFthKzFdLHQtMSxlLTEpKSkrMSkvMn0sdC5wcm90b3R5cGUuX25vaXNlM2Q9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPTI1NSZNYXRoLmZsb29yKHQpLHI9MjU1Jk1hdGguZmxvb3IoZSksbz0yNTUmTWF0aC5mbG9vcihpKTt0LT1NYXRoLmZsb29yKHQpLGUtPU1hdGguZmxvb3IoZSksaS09TWF0aC5mbG9vcihpKTt2YXIgcz1ucih0KSxhPW5yKGUpLGM9bnIoaSksaD10aGlzLl9wW25dK3IsdT10aGlzLl9wW24rMV0rcixsPXRoaXMuX3BbaF0rbyxwPXRoaXMuX3BbdV0rbyxkPXRoaXMuX3BbaCsxXStvLGY9dGhpcy5fcFt1KzFdK287cmV0dXJuKGlyKGMsaXIoYSxpcihzLHRoaXMuX2dyYWRpZW50M2QodGhpcy5fcFtsXSx0LGUsaSksdGhpcy5fZ3JhZGllbnQzZCh0aGlzLl9wW3BdLHQtMSxlLGkpKSxpcihzLHRoaXMuX2dyYWRpZW50M2QodGhpcy5fcFtkXSx0LGUtMSxpKSx0aGlzLl9ncmFkaWVudDNkKHRoaXMuX3BbZl0sdC0xLGUtMSxpKSkpLGlyKGEsaXIocyx0aGlzLl9ncmFkaWVudDNkKHRoaXMuX3BbbCsxXSx0LGUsaS0xKSx0aGlzLl9ncmFkaWVudDNkKHRoaXMuX3BbcCsxXSx0LTEsZSxpLTEpKSxpcihzLHRoaXMuX2dyYWRpZW50M2QodGhpcy5fcFtkKzFdLHQsZS0xLGktMSksdGhpcy5fZ3JhZGllbnQzZCh0aGlzLl9wW2YrMV0sdC0xLGUtMSxpLTEpKSkpKzEpLzJ9LHR9KCksb3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5nZW5lcmF0b3I9dCx0aGlzLmNvbG9yRmNuPWUsZXx8KHRoaXMuY29sb3JGY249ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MTI1P0x0LkJsYWNrOkx0LldoaXRlfSl9cmV0dXJuIHQucHJvdG90eXBlLmltYWdlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7bi53aWR0aD10LG4uaGVpZ2h0PWU7dmFyIHI9bi5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIHRoaXMuZHJhdyhyLDAsMCx0LGUpLGkuc3JjPW4udG9EYXRhVVJMKCksaX0sdC5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0LGUsaSxuLHIpe2Zvcih2YXIgbz10aGlzLmdlbmVyYXRvci5ncmlkKG4scikscz10LmdldEltYWdlRGF0YShlLGksbixyKSxhPTA7YTxyO2ErKylmb3IodmFyIGM9MDtjPG47YysrKXt2YXIgaD1vW2MrbiphXSx1PTI1NSZNYXRoLmZsb29yKDI1NSpoKSxsPTQqKGMrYSpzLndpZHRoKSxwPXRoaXMuY29sb3JGY24odSk7cy5kYXRhW2xdPXAucixzLmRhdGFbbCsxXT1wLmcscy5kYXRhW2wrMl09cC5iLHMuZGF0YVtsKzNdPU1hdGguZmxvb3IoMjU1KnAuYSl9dC5wdXRJbWFnZURhdGEocyxlLGkpfSx0fSgpLHNyPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCksYXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD9uZXcgaHIodCk6dCBpbnN0YW5jZW9mIEF1ZGlvQnVmZmVyP25ldyB1cih0KTpuZXcgY3IodCl9LHR9KCksY3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3NyYz10LHRoaXMuX3ZvbHVtZT0xLHRoaXMuX2R1cmF0aW9uPXZvaWQgMCx0aGlzLl9sb29wPSExLHRoaXMuX2lzUGxheWluZz0hMSx0aGlzLl9pc1BhdXNlZD0hMX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibG9vcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9vcH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xvb3A9dCx0aGlzLl9pbnN0YW5jZSYmKHRoaXMuX2luc3RhbmNlLmxvb3A9dCx0aGlzLl93aXJlVXBPbkVuZGVkKCkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInZvbHVtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdm9sdW1lfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdm9sdW1lPW0odCwwLDEpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImR1cmF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kdXJhdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2R1cmF0aW9uPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuaXNQbGF5aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzUGxheWluZ30sdC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9pc1BsYXlpbmcmJih0aGlzLl9pc1BhdXNlZD0hMCx0aGlzLl9pc1BsYXlpbmc9ITEpfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5faXNQbGF5aW5nJiYodGhpcy5faXNQbGF5aW5nPSExLHRoaXMuX2lzUGF1c2VkPSExKX0sdC5wcm90b3R5cGUucGxheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1BhdXNlZCYmdGhpcy5fcmVzdW1lUGxheUJhY2soKSx0aGlzLl9pc1BsYXlpbmd8fHRoaXMuX3N0YXJ0UGxheUJhY2soKSx0aGlzLl9wbGF5aW5nUHJvbWlzZX0sdC5wcm90b3R5cGUuX3N0YXJ0UGxheUJhY2s9ZnVuY3Rpb24oKXt0aGlzLl9pc1BsYXlpbmc9ITAsdGhpcy5faXNQYXVzZWQ9ITEsdGhpcy5fcGxheWluZ1Byb21pc2U9bmV3IGR9LHQucHJvdG90eXBlLl9yZXN1bWVQbGF5QmFjaz1mdW5jdGlvbigpe3RoaXMuX2lzUGF1c2VkJiYodGhpcy5faXNQYXVzZWQ9ITEsdGhpcy5faXNQbGF5aW5nPSEwKX0sdC5wcm90b3R5cGUuX3dpcmVVcE9uRW5kZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMubG9vcHx8KHRoaXMuX2luc3RhbmNlLm9uZW5kZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5faGFuZGxlT25FbmRlZCgpfSl9LHQucHJvdG90eXBlLl9oYW5kbGVPbkVuZGVkPWZ1bmN0aW9uKCl7fSx0fSgpLGhyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIGkuX2luc3RhbmNlPW5ldyBBdWRpbyhlKSxpfXJldHVybiBzcihlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInZvbHVtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdm9sdW1lfSxzZXQ6ZnVuY3Rpb24odCl7dD1tKHQsMCwxKSx0aGlzLl92b2x1bWU9dCx0aGlzLl9pbnN0YW5jZS52b2x1bWU9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuX2lzUGxheWluZyYmKHRoaXMuX2luc3RhbmNlLnBhdXNlKCksdGhpcy5faXNQYXVzZWQ9ITAsdGhpcy5faXNQbGF5aW5nPSExKX0sZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3QucHJvdG90eXBlLnN0b3AuY2FsbCh0aGlzKSx0aGlzLl9pbnN0YW5jZS5wYXVzZSgpLHRoaXMuX2luc3RhbmNlLmN1cnJlbnRUaW1lPTAsdGhpcy5faGFuZGxlT25FbmRlZCgpfSxlLnByb3RvdHlwZS5fc3RhcnRQbGF5QmFjaz1mdW5jdGlvbigpe3QucHJvdG90eXBlLl9zdGFydFBsYXlCYWNrLmNhbGwodGhpcyksdGhpcy5faW5zdGFuY2UubG9hZCgpLHRoaXMuX2luc3RhbmNlLmxvb3A9dGhpcy5sb29wLHRoaXMuX2luc3RhbmNlLnBsYXkoKSx0aGlzLl93aXJlVXBPbkVuZGVkKCl9LGUucHJvdG90eXBlLl9yZXN1bWVQbGF5QmFjaz1mdW5jdGlvbigpe3QucHJvdG90eXBlLl9yZXN1bWVQbGF5QmFjay5jYWxsKHRoaXMpLHRoaXMuX2luc3RhbmNlLnBsYXkoKSx0aGlzLl93aXJlVXBPbkVuZGVkKCl9LGUucHJvdG90eXBlLl9oYW5kbGVPbkVuZGVkPWZ1bmN0aW9uKCl7dGhpcy5faXNQbGF5aW5nPSExLHRoaXMuX2lzUGF1c2VkPSExLHRoaXMuX3BsYXlpbmdQcm9taXNlLnJlc29sdmUoITApfSxlfShjciksdXI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgaT10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gaS5fYXVkaW9Db250ZXh0PXBpLmNyZWF0ZSgpLGkuX3ZvbHVtZU5vZGU9aS5fYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKSxpLl9jdXJyZW50T2Zmc2V0PTAsaS5fY3JlYXRlTmV3QnVmZmVyU291cmNlKCksaX1yZXR1cm4gc3IoZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ2b2x1bWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZvbHVtZX0sc2V0OmZ1bmN0aW9uKHQpe3Q9bSh0LDAsMSksdGhpcy5fdm9sdW1lPXQsdGhpcy5faXNQbGF5aW5nJiZ0aGlzLl92b2x1bWVOb2RlLmdhaW4uc2V0VGFyZ2V0QXRUaW1lP3RoaXMuX3ZvbHVtZU5vZGUuZ2Fpbi5zZXRUYXJnZXRBdFRpbWUodCx0aGlzLl9hdWRpb0NvbnRleHQuY3VycmVudFRpbWUsLjEpOnRoaXMuX3ZvbHVtZU5vZGUuZ2Fpbi52YWx1ZT10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIl9wbGF5YmFja1JhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlPzEvKHRoaXMuX2luc3RhbmNlLnBsYXliYWNrUmF0ZS52YWx1ZXx8MSk6bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3QucHJvdG90eXBlLnBhdXNlLmNhbGwodGhpcyksdGhpcy5faW5zdGFuY2Uuc3RvcCgwKSx0aGlzLl9zZXRQYXVzZU9mZnNldCgpfSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuc3RvcC5jYWxsKHRoaXMpLHRoaXMuX2N1cnJlbnRPZmZzZXQ9MCx0aGlzLl9pbnN0YW5jZS5zdG9wKDApLHRoaXMuX2luc3RhbmNlLm9uZW5kZWR8fHRoaXMuX2hhbmRsZU9uRW5kZWQoKX0sZS5wcm90b3R5cGUuX3N0YXJ0UGxheUJhY2s9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5fc3RhcnRQbGF5QmFjay5jYWxsKHRoaXMpLHRoaXMuX2luc3RhbmNlfHx0aGlzLl9jcmVhdGVOZXdCdWZmZXJTb3VyY2UoKSx0aGlzLl9yZW1lbWJlclN0YXJ0VGltZSgpLHRoaXMuX3ZvbHVtZU5vZGUuY29ubmVjdCh0aGlzLl9hdWRpb0NvbnRleHQuZGVzdGluYXRpb24pLHRoaXMuX2luc3RhbmNlLnN0YXJ0KDAsMCksdGhpcy5fY3VycmVudE9mZnNldD0wLHRoaXMuX3BsYXlpbmdQcm9taXNlPW5ldyBkLHRoaXMuX3dpcmVVcE9uRW5kZWQoKX0sZS5wcm90b3R5cGUuX3Jlc3VtZVBsYXlCYWNrPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuX3Jlc3VtZVBsYXlCYWNrLmNhbGwodGhpcyksdGhpcy5faW5zdGFuY2Uub25lbmRlZD1udWxsLHRoaXMuX2NyZWF0ZU5ld0J1ZmZlclNvdXJjZSgpO3ZhciBlPXRoaXMuX3BsYXliYWNrUmF0ZSp0aGlzLl9zcmMuZHVyYXRpb24saT10aGlzLl9jdXJyZW50T2Zmc2V0JWU7dGhpcy5fcmVtZW1iZXJTdGFydFRpbWUoLTFlMyppKSx0aGlzLl9pbnN0YW5jZS5zdGFydCgwLGkpLHRoaXMuX3dpcmVVcE9uRW5kZWQoKX0sZS5wcm90b3R5cGUuX2hhbmRsZU9uRW5kZWQ9ZnVuY3Rpb24oKXt0aGlzLl9pc1BhdXNlZHx8KHRoaXMuX2lzUGxheWluZz0hMSx0aGlzLl9wbGF5aW5nUHJvbWlzZS5yZXNvbHZlKCEwKSl9LGUucHJvdG90eXBlLl9yZW1lbWJlclN0YXJ0VGltZT1mdW5jdGlvbih0KXt0aGlzLl9zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCkrKDB8dCl9LGUucHJvdG90eXBlLl9zZXRQYXVzZU9mZnNldD1mdW5jdGlvbigpe3RoaXMuX2N1cnJlbnRPZmZzZXQ9KChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuX3N0YXJ0VGltZSkqdGhpcy5fcGxheWJhY2tSYXRlLzFlM30sZS5wcm90b3R5cGUuX2NyZWF0ZU5ld0J1ZmZlclNvdXJjZT1mdW5jdGlvbigpe3RoaXMuX2luc3RhbmNlPXRoaXMuX2F1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKSx0aGlzLl9pbnN0YW5jZS5idWZmZXI9dGhpcy5fc3JjLHRoaXMuX2luc3RhbmNlLmxvb3A9dGhpcy5sb29wLHRoaXMuX2luc3RhbmNlLnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZSgxLDApLHRoaXMuX2luc3RhbmNlLmNvbm5lY3QodGhpcy5fdm9sdW1lTm9kZSl9LGV9KGNyKTtmdW5jdGlvbiBscih0KXt0cnl7dmFyIGU9bmV3IEF1ZGlvLGk9dC5tYXRjaCgvLipcXC4oW0EtWmEtejAtOV0rKSQvKVsxXTtyZXR1cm4hIWUuY2FuUGxheVR5cGUoXCJhdWRpby9cIitpKX1jYXRjaCh0KXtyZXR1cm4gUi5nZXRJbnN0YW5jZSgpLndhcm4oXCJDYW5ub3QgZGV0ZXJtaW5lIGF1ZGlvIHN1cHBvcnQsIGFzc3VtaW5nIG5vIHN1cHBvcnQgZm9yIHRoZSBBdWRpbyBUYWdcIix0KSwhMX19dmFyIHByPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCksZHI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe2Zvcih2YXIgZT1bXSxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKyllW2ldPWFyZ3VtZW50c1tpXTt2YXIgbj10LmNhbGwodGhpcyxcIlwiLFwiXCIpfHx0aGlzO24uX2xvb3A9ITEsbi5fdm9sdW1lPTEsbi5fZHVyYXRpb249dm9pZCAwLG4uX2lzU3RvcHBlZD0hMSxuLl9pc1BhdXNlZD0hMSxuLl90cmFja3M9W10sbi5fd2FzUGxheWluZ09uSGlkZGVuPSExLG4uX3Byb2Nlc3NlZERhdGE9bmV3IGQsbi5fYXVkaW9Db250ZXh0PXBpLmNyZWF0ZSgpLG4uX2RldGVjdFJlc3BvbnNlVHlwZSgpO2Zvcih2YXIgcj0wLG89ZTtyPG8ubGVuZ3RoO3IrKyl7dmFyIHM9b1tyXTtpZihscihzKSl7bi5wYXRoPXM7YnJlYWt9fXJldHVybiBuLnBhdGh8fChuLmxvZ2dlci53YXJuKFwiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYW55IG9mIHRoZSBhdWRpbyBmaWxlcyBzcGVjaWZpZWQ6XCIsZS5qb2luKFwiLCBcIikpLG4ubG9nZ2VyLndhcm4oXCJBdHRlbXB0aW5nIHRvIHVzZVwiLGVbMF0pLG4ucGF0aD1lWzBdKSxufXJldHVybiBwcihlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImxvb3BcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvb3B9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9sb29wPXQ7Zm9yKHZhciBlPTAsaT10aGlzLl90cmFja3M7ZTxpLmxlbmd0aDtlKyspe2lbZV0ubG9vcD10aGlzLl9sb29wfXRoaXMubG9nZ2VyLmRlYnVnKFwiU2V0IGxvb3AgZm9yIGFsbCBpbnN0YW5jZXMgb2Ygc291bmRcIix0aGlzLnBhdGgsXCJ0b1wiLHRoaXMuX2xvb3ApfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInZvbHVtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdm9sdW1lfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdm9sdW1lPXQ7Zm9yKHZhciBlPTAsaT10aGlzLl90cmFja3M7ZTxpLmxlbmd0aDtlKyspe2lbZV0udm9sdW1lPXRoaXMuX3ZvbHVtZX10aGlzLmVtaXQoXCJ2b2x1bWVjaGFuZ2VcIixuZXcgV24odGhpcykpLHRoaXMubG9nZ2VyLmRlYnVnKFwiU2V0IGxvb3AgZm9yIGFsbCBpbnN0YW5jZXMgb2Ygc291bmRcIix0aGlzLnBhdGgsXCJ0b1wiLHRoaXMuX3ZvbHVtZSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZHVyYXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2R1cmF0aW9ufSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImluc3RhbmNlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhY2tzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLndpcmVFbmdpbmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0JiYodGhpcy5fZW5naW5lPXQsdGhpcy5fZW5naW5lLm9uKFwiaGlkZGVuXCIsKGZ1bmN0aW9uKCl7dC5wYXVzZUF1ZGlvV2hlbkhpZGRlbiYmZS5pc1BsYXlpbmcoKSYmKGUuX3dhc1BsYXlpbmdPbkhpZGRlbj0hMCxlLnBhdXNlKCkpfSkpLHRoaXMuX2VuZ2luZS5vbihcInZpc2libGVcIiwoZnVuY3Rpb24oKXt0LnBhdXNlQXVkaW9XaGVuSGlkZGVuJiZlLl93YXNQbGF5aW5nT25IaWRkZW4mJihlLnBsYXkoKSxlLl93YXNQbGF5aW5nT25IaWRkZW49ITEpfSkpLHRoaXMuX2VuZ2luZS5vbihcInN0YXJ0XCIsKGZ1bmN0aW9uKCl7ZS5faXNTdG9wcGVkPSExfSkpLHRoaXMuX2VuZ2luZS5vbihcInN0b3BcIiwoZnVuY3Rpb24oKXtlLnN0b3AoKSxlLl9pc1N0b3BwZWQ9ITB9KSkpfSxlLnByb3RvdHlwZS5pbnN0YW5jZUNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYWNrcy5sZW5ndGh9LGUucHJvdG90eXBlLmlzUGxheWluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFja3Muc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNQbGF5aW5nKCl9KSl9LGUucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXNMb2FkZWQoKT90aGlzLl9pc1N0b3BwZWQ/KHRoaXMubG9nZ2VyLndhcm4oXCJDYW5ub3Qgc3RhcnQgcGxheWluZy4gRW5naW5lIGlzIGluIGEgc3RvcHBlZCBzdGF0ZS5cIiksZC5yZXNvbHZlKCExKSk6KHRoaXMudm9sdW1lPXR8fHRoaXMudm9sdW1lLHRoaXMuX2lzUGF1c2VkP3RoaXMuX3Jlc3VtZVBsYXliYWNrKCk6dGhpcy5fc3RhcnRQbGF5YmFjaygpKToodGhpcy5sb2dnZXIud2FybihcIkNhbm5vdCBzdGFydCBwbGF5aW5nLiBSZXNvdXJjZVwiLHRoaXMucGF0aCxcImlzIG5vdCBsb2FkZWQgeWV0XCIpLGQucmVzb2x2ZSghMCkpfSxlLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe2lmKHRoaXMuaXNQbGF5aW5nKCkpe2Zvcih2YXIgdD0wLGU9dGhpcy5fdHJhY2tzO3Q8ZS5sZW5ndGg7dCsrKXtlW3RdLnBhdXNlKCl9dGhpcy5faXNQYXVzZWQ9ITAsdGhpcy5lbWl0KFwicGF1c2VcIixuZXcgV24odGhpcykpLHRoaXMubG9nZ2VyLmRlYnVnKFwiUGF1c2VkIGFsbCBpbnN0YW5jZXMgb2Ygc291bmRcIix0aGlzLnBhdGgpfX0sZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9dGhpcy5fdHJhY2tzO3Q8ZS5sZW5ndGg7dCsrKXtlW3RdLnN0b3AoKX10aGlzLmVtaXQoXCJzdG9wXCIsbmV3IFduKHRoaXMpKSx0aGlzLl9pc1BhdXNlZD0hMSx0aGlzLl90cmFja3MubGVuZ3RoPTAsdGhpcy5sb2dnZXIuZGVidWcoXCJTdG9wcGVkIGFsbCBpbnN0YW5jZXMgb2Ygc291bmRcIix0aGlzLnBhdGgpfSxlLnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKHQpe3RoaXMuZW1pdChcImVtcHRpZWRcIixuZXcgV24odGhpcykpLHRoaXMuZGF0YT10LHRoaXMuX3Byb2Nlc3NlZERhdGE9bmV3IGR9LGUucHJvdG90eXBlLnByb2Nlc3NEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj90aGlzLl9wcm9jZXNzQXJyYXlCdWZmZXJEYXRhKHQpOnRoaXMuX3Byb2Nlc3NCbG9iRGF0YSh0KSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIGUuX3NldFByb2Nlc3NlZERhdGEodCl9KSl9LGUucHJvdG90eXBlLmdldFRyYWNrSWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RyYWNrcy5pbmRleE9mKHQpfSxlLnByb3RvdHlwZS5fcmVzdW1lUGxheWJhY2s9ZnVuY3Rpb24oKXtpZih0aGlzLl9pc1BhdXNlZCl7Zm9yKHZhciB0PVtdLGU9MCxpPXRoaXMuX3RyYWNrcztlPGkubGVuZ3RoO2UrKyl7dmFyIG49aVtlXTt0LnB1c2gobi5wbGF5KCkpfXJldHVybiB0aGlzLl9pc1BhdXNlZD0hMSx0aGlzLmVtaXQoXCJyZXN1bWVcIixuZXcgV24odGhpcykpLHRoaXMubG9nZ2VyLmRlYnVnKFwiUmVzdW1pbmcgcGF1c2VkIGluc3RhbmNlcyBmb3Igc291bmRcIix0aGlzLnBhdGgsdGhpcy5fdHJhY2tzKSxkLmpvaW4odCl9cmV0dXJuIGQucmVzb2x2ZSghMCl9LGUucHJvdG90eXBlLl9zdGFydFBsYXliYWNrPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuX2NyZWF0ZU5ld1RyYWNrKCksaT1uZXcgZDtyZXR1cm4gZS50aGVuKChmdW5jdGlvbihlKXtlLnBsYXkoKS50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4gdC5lbWl0KFwicGxheWJhY2tlbmRcIixuZXcgV24odCxlKSksdC5fdHJhY2tzLnNwbGljZSh0LmdldFRyYWNrSWQoZSksMSksaS5yZXNvbHZlKG4pLG59KSksdC5lbWl0KFwicGxheWJhY2tzdGFydFwiLG5ldyBXbih0LGUpKSx0LmxvZ2dlci5kZWJ1ZyhcIlBsYXlpbmcgbmV3IGluc3RhbmNlIGZvciBzb3VuZFwiLHQucGF0aCl9KSksaX0sZS5wcm90b3R5cGUuX3Byb2Nlc3NBcnJheUJ1ZmZlckRhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPW5ldyBkO3JldHVybiB0aGlzLl9hdWRpb0NvbnRleHQuZGVjb2RlQXVkaW9EYXRhKHQsKGZ1bmN0aW9uKHQpe2kucmVzb2x2ZSh0KX0pLChmdW5jdGlvbigpe2UubG9nZ2VyLmVycm9yKFwiVW5hYmxlIHRvIGRlY29kZSAgdGhpcyBicm93c2VyIG1heSBub3QgZnVsbHkgc3VwcG9ydCB0aGlzIGZvcm1hdCwgb3IgdGhlIGZpbGUgbWF5IGJlIGNvcnJ1cHQsIGlmIHRoaXMgaXMgYW4gbXAzIHRyeSByZW1vdmluZyBpZDMgdGFncyBhbmQgYWxidW0gYXJ0IGZyb20gdGhlIGZpbGUuXCIpLGkucmVzb2x2ZSh2b2lkIDApfSkpLGl9LGUucHJvdG90eXBlLl9wcm9jZXNzQmxvYkRhdGE9ZnVuY3Rpb24oZSl7cmV0dXJuKG5ldyBkKS5yZXNvbHZlKHQucHJvdG90eXBlLnByb2Nlc3NEYXRhLmNhbGwodGhpcyxlKSl9LGUucHJvdG90eXBlLl9zZXRQcm9jZXNzZWREYXRhPWZ1bmN0aW9uKHQpe3RoaXMuX3Byb2Nlc3NlZERhdGEucmVzb2x2ZSh0KSx0aGlzLl9kdXJhdGlvbj1cIm9iamVjdFwiPT10eXBlb2YgdD90LmR1cmF0aW9uOnZvaWQgMCx0aGlzLmVtaXQoXCJwcm9jZXNzZWRcIixuZXcgVW4odGhpcyx0KSl9LGUucHJvdG90eXBlLl9jcmVhdGVOZXdUcmFjaz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1uZXcgZDtyZXR1cm4gMCE9PXRoaXMuX3Byb2Nlc3NlZERhdGEuc3RhdGUoKSYmdGhpcy5wcm9jZXNzRGF0YSh0aGlzLmRhdGEpLHRoaXMuX3Byb2Nlc3NlZERhdGEudGhlbigoZnVuY3Rpb24oaSl7cmV0dXJuIGUucmVzb2x2ZSh0Ll9nZXRUcmFja0luc3RhbmNlKGkpKSxpfSksKGZ1bmN0aW9uKGUpe3QubG9nZ2VyLmVycm9yKGUsXCJDYW5ub3QgY3JlYXRlIEF1ZGlvSW5zdGFuY2UgZHVlIHRvIHdyb25nIHByb2Nlc3NlZCBkYXRhLlwiKX0pKSxlfSxlLnByb3RvdHlwZS5fZ2V0VHJhY2tJbnN0YW5jZT1mdW5jdGlvbih0KXt2YXIgZT1hci5jcmVhdGUodCk7cmV0dXJuIGUubG9vcD10aGlzLmxvb3AsZS52b2x1bWU9dGhpcy52b2x1bWUsZS5kdXJhdGlvbj10aGlzLmR1cmF0aW9uLHRoaXMuX3RyYWNrcy5wdXNoKGUpLGV9LGUucHJvdG90eXBlLl9kZXRlY3RSZXNwb25zZVR5cGU9ZnVuY3Rpb24oKXt3aW5kb3cuQXVkaW9Db250ZXh0P3RoaXMucmVzcG9uc2VUeXBlPWVyLnR5cGUuYXJyYXlidWZmZXI6dGhpcy5yZXNwb25zZVR5cGU9ZXIudHlwZS5ibG9ifSxlfShGdCksZnI9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGkpe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSkoZSxpKX07cmV0dXJuIGZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsaSksZS5wcm90b3R5cGU9bnVsbD09PWk/T2JqZWN0LmNyZWF0ZShpKToobi5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IG4pfX0oKSxncj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuKXt2b2lkIDA9PT1pJiYoaT1MdC5NYWdlbnRhKSx2b2lkIDA9PT1uJiYobj0hMCk7dmFyIHI9dC5jYWxsKHRoaXMsZSxcImFycmF5YnVmZmVyXCIsbil8fHRoaXM7cmV0dXJuIHIucGF0aD1lLHIuY29sb3I9aSxyLmJ1c3RDYWNoZT1uLHIubG9hZGVkPW5ldyBkLHIuX2lzTG9hZGVkPSExLHIuX3N0cmVhbT1udWxsLHIuX2dpZj1udWxsLHIuX3RleHR1cmU9W10sci5fYW5pbWF0aW9uPW51bGwsci5fdHJhbnNwYXJlbnRDb2xvcj1udWxsLHIuX3RyYW5zcGFyZW50Q29sb3I9aSxyfXJldHVybiBmcihlLHQpLGUucHJvdG90eXBlLmlzTG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzTG9hZGVkfSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxpPW5ldyBkO3JldHVybiB0LnByb3RvdHlwZS5sb2FkLmNhbGwodGhpcykudGhlbigoZnVuY3Rpb24oKXtlLl9zdHJlYW09bmV3IHZyKGUuZ2V0RGF0YSgpKSxlLl9naWY9bmV3IG1yKGUuX3N0cmVhbSxlLl90cmFuc3BhcmVudENvbG9yKTtmb3IodmFyIHQ9W10sbj0wO248ZS5fZ2lmLmltYWdlcy5sZW5ndGg7bisrKXt2YXIgcj1uZXcgaWUoZS5fZ2lmLmltYWdlc1tuXS5zcmMsITEpO2UuX3RleHR1cmUucHVzaChyKSx0LnB1c2goci5sb2FkKCkpfWQuam9pbih0KS50aGVuKChmdW5jdGlvbigpe2UuX2lzTG9hZGVkPSEwLGkucmVzb2x2ZShlLl90ZXh0dXJlKX0pKX0pLChmdW5jdGlvbigpe2kucmVqZWN0KFwiRXJyb3IgbG9hZGluZyB0ZXh0dXJlLlwiKX0pKSxpfSxlLnByb3RvdHlwZS5hc1Nwcml0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdGhpcy5fdGV4dHVyZVt0XS5hc1Nwcml0ZSgpfSxlLnByb3RvdHlwZS5hc1Nwcml0ZVNoZWV0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGV4dHVyZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFzU3ByaXRlKCl9KSk7cmV0dXJuIG5ldyAkbih0KX0sZS5wcm90b3R5cGUuYXNBbmltYXRpb249ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmFzU3ByaXRlU2hlZXQoKTtyZXR1cm4gdGhpcy5fYW5pbWF0aW9uPWkuZ2V0QW5pbWF0aW9uRm9yQWxsKHQsZSksdGhpcy5fYW5pbWF0aW9ufSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJyZWFkQ2hlY2tCeXRlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2lmLmNoZWNrQnl0ZXN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZX0oRnQpLHlyPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gMip0K2V9KSwwKX0sX3I9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLGk9NztpPj0wO2ktLSllLnB1c2goISEodCYxPDxpKSk7cmV0dXJuIGV9LHZyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy5kYXRhPW51bGwsdGhpcy5sZW49MCx0aGlzLnBvc2l0aW9uPTAsdGhpcy5yZWFkQnl0ZT1mdW5jdGlvbigpe2lmKGUucG9zaXRpb24+PWUuZGF0YS5ieXRlTGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byByZWFkIHBhc3QgZW5kIG9mIHN0cmVhbS5cIik7cmV0dXJuIGUuZGF0YVtlLnBvc2l0aW9uKytdfSx0aGlzLnJlYWRCeXRlcz1mdW5jdGlvbih0KXtmb3IodmFyIGk9W10sbj0wO248dDtuKyspaS5wdXNoKGUucmVhZEJ5dGUoKSk7cmV0dXJuIGl9LHRoaXMucmVhZD1mdW5jdGlvbih0KXtmb3IodmFyIGk9XCJcIixuPTA7bjx0O24rKylpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGUucmVhZEJ5dGUoKSk7cmV0dXJuIGl9LHRoaXMucmVhZFVuc2lnbmVkPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5yZWFkQnl0ZXMoMik7cmV0dXJuKHRbMV08PDgpK3RbMF19LHRoaXMuZGF0YT1uZXcgVWludDhBcnJheSh0KSx0aGlzLmxlbj10aGlzLmRhdGEuYnl0ZUxlbmd0aCwwPT09dGhpcy5sZW4pdGhyb3cgbmV3IEVycm9yKFwiTm8gZGF0YSBsb2FkZWQgZnJvbSBmaWxlXCIpfSxtcj1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7dm9pZCAwPT09ZSYmKGU9THQuTWFnZW50YSksdGhpcy5fc3Q9bnVsbCx0aGlzLl9oYW5kbGVyPXt9LHRoaXMuX3RyYW5zcGFyZW50Q29sb3I9bnVsbCx0aGlzLmZyYW1lcz1bXSx0aGlzLmltYWdlcz1bXSx0aGlzLmdsb2JhbENvbG9yVGFibGU9W10sdGhpcy5jaGVja0J5dGVzPVtdLHRoaXMucGFyc2VDb2xvclRhYmxlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0O24rKyl7dmFyIHI9XCIjXCIraS5fc3QucmVhZEJ5dGVzKDMpLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9dC50b1N0cmluZygxNik7cmV0dXJuIDE9PT1lLmxlbmd0aD9cIjBcIitlOmV9KSkuam9pbihcIlwiKTtlLnB1c2gocil9cmV0dXJuIGV9LHRoaXMucmVhZFN1YkJsb2Nrcz1mdW5jdGlvbigpe3ZhciB0LGU7ZT1cIlwiO2Rve3Q9aS5fc3QucmVhZEJ5dGUoKSxlKz1pLl9zdC5yZWFkKHQpfXdoaWxlKDAhPT10KTtyZXR1cm4gZX0sdGhpcy5wYXJzZUhlYWRlcj1mdW5jdGlvbigpe3ZhciB0PXtzaWc6bnVsbCx2ZXI6bnVsbCx3aWR0aDpudWxsLGhlaWdodDpudWxsLGNvbG9yUmVzOm51bGwsZ2xvYmFsQ29sb3JUYWJsZVNpemU6bnVsbCxnY3RGbGFnOm51bGwsc29ydGVkOm51bGwsZ2xvYmFsQ29sb3JUYWJsZTpbXSxiZ0NvbG9yOm51bGwscGl4ZWxBc3BlY3RSYXRpbzpudWxsfTtpZih0LnNpZz1pLl9zdC5yZWFkKDMpLHQudmVyPWkuX3N0LnJlYWQoMyksXCJHSUZcIiE9PXQuc2lnKXRocm93IG5ldyBFcnJvcihcIk5vdCBhIEdJRiBmaWxlLlwiKTt0LndpZHRoPWkuX3N0LnJlYWRVbnNpZ25lZCgpLHQuaGVpZ2h0PWkuX3N0LnJlYWRVbnNpZ25lZCgpO3ZhciBlPV9yKGkuX3N0LnJlYWRCeXRlKCkpO3QuZ2N0RmxhZz1lLnNoaWZ0KCksdC5jb2xvclJlcz15cihlLnNwbGljZSgwLDMpKSx0LnNvcnRlZD1lLnNoaWZ0KCksdC5nbG9iYWxDb2xvclRhYmxlU2l6ZT15cihlLnNwbGljZSgwLDMpKSx0LmJnQ29sb3I9aS5fc3QucmVhZEJ5dGUoKSx0LnBpeGVsQXNwZWN0UmF0aW89aS5fc3QucmVhZEJ5dGUoKSx0LmdjdEZsYWcmJih0Lmdsb2JhbENvbG9yVGFibGU9aS5wYXJzZUNvbG9yVGFibGUoMTw8dC5nbG9iYWxDb2xvclRhYmxlU2l6ZSsxKSxpLmdsb2JhbENvbG9yVGFibGU9dC5nbG9iYWxDb2xvclRhYmxlKSxpLl9oYW5kbGVyLmhkciYmaS5faGFuZGxlci5oZHIodCkmJmkuY2hlY2tCeXRlcy5wdXNoKGkuX2hhbmRsZXIuaGRyKX0sdGhpcy5wYXJzZUV4dD1mdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbD1pLl9zdC5yZWFkQnl0ZSgpLHQubGFiZWwpe2Nhc2UgMjQ5OnQuZXh0VHlwZT1cImdjZVwiLGZ1bmN0aW9uKHQpe2kuY2hlY2tCeXRlcy5wdXNoKGkuX3N0LnJlYWRCeXRlKCkpO3ZhciBlPV9yKGkuX3N0LnJlYWRCeXRlKCkpO3QucmVzZXJ2ZWQ9ZS5zcGxpY2UoMCwzKSx0LmRpc3Bvc2FsTWV0aG9kPXlyKGUuc3BsaWNlKDAsMykpLHQudXNlcklucHV0PWUuc2hpZnQoKSx0LnRyYW5zcGFyZW5jeUdpdmVuPWUuc2hpZnQoKSx0LmRlbGF5VGltZT1pLl9zdC5yZWFkVW5zaWduZWQoKSx0LnRyYW5zcGFyZW5jeUluZGV4PWkuX3N0LnJlYWRCeXRlKCksdC50ZXJtaW5hdG9yPWkuX3N0LnJlYWRCeXRlKCksaS5faGFuZGxlci5nY2UmJmkuX2hhbmRsZXIuZ2NlKHQpJiZpLmNoZWNrQnl0ZXMucHVzaChpLl9oYW5kbGVyLmdjZSl9KHQpO2JyZWFrO2Nhc2UgMjU0OnQuZXh0VHlwZT1cImNvbVwiLGZ1bmN0aW9uKHQpe3QuY29tbWVudD1pLnJlYWRTdWJCbG9ja3MoKSxpLl9oYW5kbGVyLmNvbSYmaS5faGFuZGxlci5jb20odCkmJmkuY2hlY2tCeXRlcy5wdXNoKGkuX2hhbmRsZXIuY29tKX0odCk7YnJlYWs7Y2FzZSAxOnQuZXh0VHlwZT1cInB0ZVwiLGZ1bmN0aW9uKHQpe2kuY2hlY2tCeXRlcy5wdXNoKGkuX3N0LnJlYWRCeXRlKCkpLHQucHRIZWFkZXI9aS5fc3QucmVhZEJ5dGVzKDEyKSx0LnB0RGF0YT1pLnJlYWRTdWJCbG9ja3MoKSxpLl9oYW5kbGVyLnB0ZSYmaS5faGFuZGxlci5wdGUodCkmJmkuY2hlY2tCeXRlcy5wdXNoKGkuX2hhbmRsZXIucHRlKX0odCk7YnJlYWs7Y2FzZSAyNTU6dC5leHRUeXBlPVwiYXBwXCIsZnVuY3Rpb24odCl7c3dpdGNoKGkuY2hlY2tCeXRlcy5wdXNoKGkuX3N0LnJlYWRCeXRlKCkpLHQuaWRlbnRpZmllcj1pLl9zdC5yZWFkKDgpLHQuYXV0aENvZGU9aS5fc3QucmVhZCgzKSx0LmlkZW50aWZpZXIpe2Nhc2VcIk5FVFNDQVBFXCI6IWZ1bmN0aW9uKHQpe2kuY2hlY2tCeXRlcy5wdXNoKGkuX3N0LnJlYWRCeXRlKCkpLHQudW5rbm93bj1pLl9zdC5yZWFkQnl0ZSgpLHQuaXRlcmF0aW9ucz1pLl9zdC5yZWFkVW5zaWduZWQoKSx0LnRlcm1pbmF0b3I9aS5fc3QucmVhZEJ5dGUoKSxpLl9oYW5kbGVyLmFwcCYmaS5faGFuZGxlci5hcHAuTkVUU0NBUEUmJmkuX2hhbmRsZXIuYXBwLk5FVFNDQVBFKHQpJiZpLmNoZWNrQnl0ZXMucHVzaChpLl9oYW5kbGVyLmFwcCl9KHQpO2JyZWFrO2RlZmF1bHQ6IWZ1bmN0aW9uKHQpe3QuYXBwRGF0YT1pLnJlYWRTdWJCbG9ja3MoKSxpLl9oYW5kbGVyLmFwcCYmaS5faGFuZGxlci5hcHBbdC5pZGVudGlmaWVyXSYmaS5faGFuZGxlci5hcHBbdC5pZGVudGlmaWVyXSh0KSYmaS5jaGVja0J5dGVzLnB1c2goaS5faGFuZGxlci5hcHBbdC5pZGVudGlmaWVyXSl9KHQpfX0odCk7YnJlYWs7ZGVmYXVsdDp0LmV4dFR5cGU9XCJ1bmtub3duXCIsZnVuY3Rpb24odCl7dC5kYXRhPWkucmVhZFN1YkJsb2NrcygpLGkuX2hhbmRsZXIudW5rbm93biYmaS5faGFuZGxlci51bmtub3duKHQpJiZpLmNoZWNrQnl0ZXMucHVzaChpLl9oYW5kbGVyLnVua25vd24pfSh0KX19LHRoaXMucGFyc2VJbWc9ZnVuY3Rpb24odCl7dC5sZWZ0UG9zPWkuX3N0LnJlYWRVbnNpZ25lZCgpLHQudG9wUG9zPWkuX3N0LnJlYWRVbnNpZ25lZCgpLHQud2lkdGg9aS5fc3QucmVhZFVuc2lnbmVkKCksdC5oZWlnaHQ9aS5fc3QucmVhZFVuc2lnbmVkKCk7dmFyIGU9X3IoaS5fc3QucmVhZEJ5dGUoKSk7dC5sY3RGbGFnPWUuc2hpZnQoKSx0LmludGVybGFjZWQ9ZS5zaGlmdCgpLHQuc29ydGVkPWUuc2hpZnQoKSx0LnJlc2VydmVkPWUuc3BsaWNlKDAsMiksdC5sY3RTaXplPXlyKGUuc3BsaWNlKDAsMykpLHQubGN0RmxhZyYmKHQubGN0PWkucGFyc2VDb2xvclRhYmxlKDE8PHQubGN0U2l6ZSsxKSksdC5sendNaW5Db2RlU2l6ZT1pLl9zdC5yZWFkQnl0ZSgpO3ZhciBuPWkucmVhZFN1YkJsb2NrcygpO3QucGl4ZWxzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpLG4scj0wLG89ZnVuY3Rpb24odCl7Zm9yKHZhciBpPTAsbj0wO248dDtuKyspZS5jaGFyQ29kZUF0KHI+PjMpJjE8PCg3JnIpJiYoaXw9MTw8bikscisrO3JldHVybiBpfSxzPVtdLGE9MTw8dCxjPWErMSxoPXQrMSx1PVtdLGw9ZnVuY3Rpb24oKXt1PVtdLGg9dCsxO2Zvcih2YXIgZT0wO2U8YTtlKyspdVtlXT1bZV07dVthXT1bXSx1W2NdPW51bGx9OzspaWYobj1pLChpPW8oaCkpIT09YSl7aWYoaT09PWMpYnJlYWs7aWYoaTx1Lmxlbmd0aCluIT09YSYmdS5wdXNoKHVbbl0uY29uY2F0KHVbaV1bMF0pKTtlbHNle2lmKGkhPT11Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIExaVyBjb2RlLlwiKTt1LnB1c2godVtuXS5jb25jYXQodVtuXVswXSkpfXMucHVzaC5hcHBseShzLHVbaV0pLHUubGVuZ3RoPT09MTw8aCYmaDwxMiYmaCsrfWVsc2UgbCgpO3JldHVybiBzfSh0Lmx6d01pbkNvZGVTaXplLG4pLHQuaW50ZXJsYWNlZCYmKHQucGl4ZWxzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPW5ldyBBcnJheSh0Lmxlbmd0aCksbj10Lmxlbmd0aC9lLHI9ZnVuY3Rpb24obixyKXt2YXIgbz10LnNsaWNlKHIqZSwocisxKSplKTtpLnNwbGljZS5hcHBseShpLFtuKmUsZV0uY29uY2F0KG8pKX0sbz1bMCw0LDIsMV0scz1bOCw4LDQsMl0sYT0wLGM9MDtjPDQ7YysrKWZvcih2YXIgaD1vW2NdO2g8bjtoKz1zW2NdKXIoaCxhKSxhKys7cmV0dXJuIGl9KHQucGl4ZWxzLHQud2lkdGgpKSxpLmZyYW1lcy5wdXNoKHQpLGkuYXJyYXlUb0ltYWdlKHQpLGkuX2hhbmRsZXIuaW1nJiZpLl9oYW5kbGVyLmltZyh0KSYmaS5jaGVja0J5dGVzLnB1c2goaS5faGFuZGxlcil9LHRoaXMucGFyc2VCbG9jaz1mdW5jdGlvbigpe3ZhciB0PXtzZW50aW5lbDppLl9zdC5yZWFkQnl0ZSgpLHR5cGU6XCJcIn07c3dpdGNoKFN0cmluZy5mcm9tQ2hhckNvZGUodC5zZW50aW5lbCkpe2Nhc2VcIiFcIjp0LnR5cGU9XCJleHRcIixpLnBhcnNlRXh0KHQpO2JyZWFrO2Nhc2VcIixcIjp0LnR5cGU9XCJpbWdcIixpLnBhcnNlSW1nKHQpO2JyZWFrO2Nhc2VcIjtcIjp0LnR5cGU9XCJlb2ZcIixpLl9oYW5kbGVyLmVvZiYmaS5faGFuZGxlci5lb2YodCkmJmkuY2hlY2tCeXRlcy5wdXNoKGkuX2hhbmRsZXIuZW9mKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVua25vd24gYmxvY2s6IDB4XCIrdC5zZW50aW5lbC50b1N0cmluZygxNikpfVwiZW9mXCIhPT10LnR5cGUmJmkucGFyc2VCbG9jaygpfSx0aGlzLmFycmF5VG9JbWFnZT1mdW5jdGlvbih0KXt2YXIgZT0wLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtuLmlkPWUudG9TdHJpbmcoKSxuLndpZHRoPXQud2lkdGgsbi5oZWlnaHQ9dC5oZWlnaHQsZSsrO2Zvcih2YXIgcj1uLmdldENvbnRleHQoXCIyZFwiKSxvPTAscz0wLGE9MDthPHQucGl4ZWxzLmxlbmd0aDthKyspcyV0LndpZHRoPT0wJiYobysrLHM9MCksaS5nbG9iYWxDb2xvclRhYmxlW3QucGl4ZWxzW2FdXT09PWkuX3RyYW5zcGFyZW50Q29sb3IudG9IZXgoKT9yLmZpbGxTdHlsZT1cInJnYmEoMCwgMCwgMCwgMClcIjpyLmZpbGxTdHlsZT1pLmdsb2JhbENvbG9yVGFibGVbdC5waXhlbHNbYV1dLHIuZmlsbFJlY3QocyxvLDEsMSkscysrO3ZhciBjPW5ldyBJbWFnZTtjLnNyYz1uLnRvRGF0YVVSTCgpLGkuaW1hZ2VzLnB1c2goYyl9LHRoaXMuX3N0PXQsdGhpcy5faGFuZGxlcj17fSx0aGlzLl90cmFuc3BhcmVudENvbG9yPWUsdGhpcy5wYXJzZUhlYWRlcigpLHRoaXMucGFyc2VCbG9jaygpfSxicj1cIjAuMjQuM1wiO2woKX1dKX0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4Y2FsaWJ1ci5taW4uanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==